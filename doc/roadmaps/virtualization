$NetBSD: virtualization,v 1.2.4.2 2008/03/24 07:14:40 keiichi Exp $

NetBSD Virtualization Roadmap
=============================

This is a small roadmap document, and deals with the virtualization
side of the operating system.

NetBSD 5.0 will ship with the following virtualization elements in
place:

1. Xen 3 Dom0		[i386/amd64]
2. Xen 3 DomU		[i386/amd64]
3. Xen 3 PAE DomU	[i386]

The following elements and projects are pencilled in for 5.0, but
please do not rely on them being there.

4. NetBSD/usermode
5. virtualization jails via secmodel

The following projects are expected to be included in NetBSD 6.0

6. iSCSI booting
7. iSCSI device cloning
8. Xen domU migration, suspend and resume
9. Xen balloon driver support

We expect to branch for the 5.0 release in April or May 2008, which would
put a NetBSD 5.0 Release date in Q4 2008. An annual release cycle would
thus mean that 6.0 would be branched in April or May 2009.

Pictorially, this looks like:

 2008                                        2009
 Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec Jan Feb Mar Apr May Jun Jul Aug
|===|===|===|===|===|===|===|===|===|===|===|===|===|===|===|===|===|===|===|

                | ------- 5.0 --------- |                       | ------- 6.0
              branch                  release                 branch

 1-3     4,5                  6      7       8          9

We'll continue to update this roadmap as features and dates get firmed up.


Some explanations
=================

4. NetBSD/usermode
------------------

NetBSD/usermode is an port of NetBSD to a POSIX-compatible user-space, with
the intention that it should be possible to run the usermode version of
NetBSD on any POSIX-compatible operating system.

Responsible: jmcneill

5. Virtualization Jails via secmodel
------------------------------------

One novel way of creating jails for virtualization is to use a new
secmodel (part of the kauth framework), to isolate processes into
jail-based virtual machines. This is the basis of a paper to appear
in the AsiaBSDcon proceedings in March 2008.

Responsible: bad

6. iSCSI booting
----------------

In order to make Xen domains migration-friendly, the storage that the
domain uses must be based on some form of network-centric storage, either
NFS, or a SAN or IP-SAN. For IP-SANs, iSCSI booting will be used.

Responsible: agc

7. iSCSI device cloning
-----------------------

To minimise the storage requirements for multiple domU booting, using
a standard root filesystem or block device for the domU is required, along
with some form of copy-on-write mechanism to preserve any modifications
that are made.

Responsible: agc

8. Xen domU migration, suspend and resume
-----------------------------------------

Xen domU migration is where a domU domain is moved from one dom0 to
another dom0 on the same vlan (to avoid networking problems, the
virtual arp address migrates with the domU itself).

Responsible: bouyer

9. Xen balloon driver support
-----------------------------

The balloon driver allows more memory to be added to a running Xen domU
instance; this allows extra memory to be used by the domU for resource
peak needs.

Responsible: bouyer


Alistair Crooks
Thu Mar  6 22:36:19 GMT 2008
