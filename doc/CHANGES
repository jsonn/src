LIST OF CHANGES FROM LAST RELEASE:			<$Revision: 1.914.2.2 $>


[Note: This file does not mention every change made to the NetBSD source tree.
For an exhaustive list, please subscribe to the `source-changes' mailing list,
or see the mailing list archives.  For more information, send a message
containing just the word `help' to `majordomo@NetBSD.org'.]


Changes from NetBSD 4.0 to NetBSD 5.0:
	evbppc: add support for Xilinx Virtex II-Pro/4-FX. [freza 20061202]
	mac68k: add support for four more Nubus video cards, including the
		VillageTronic MacPicasso 340. [hauke 20061206]
	ixp425: add support for NPE Ethernet. [scw 20061210]
	nfs: Remove NQNFS support from kernel. [yamt 20061227]
	mount_psshfs(8): add puffs sshfs [pooka 20061229]
	zaurus: add support for Sharp C3x00 PDA. [ober 20070105]
	i386: add support for Microsoft Xbox. [jmcneill 20070105]
	ntp: Import ntp 4.2.4 (20061228). Tracking of network interface
		address changes is now supported - no more ntpd
		restarts when interface addresses are re-configured
		(WLAN/DSL/ppp/...). [kardel 20070106]
	kernel: global 'securelevel' variable removed; it is now internal to
		the secmodel. [elad 20070110]
	GCC: Updated to version 4.1.2-20070110.  [mrg 20070111]
	acpitools: added from FreeBSD via fvdl [christos 20070114]
	scsictl(8): added setspeed command, to set the highest speed that the
		optical drive should use for reading data,
		contributed by Kimura Fuyuki. [bouyer 20070122]
	i386, amd64: add cmos(4), driver for x86 CMOS RAM. [dyoung 20070206]
	newlock2: Merge the newlock2 branch. Introduces a number of new
		kernel synchronization primitives, improves scalability
		on MP systems, and replaces the existing SA threads model
		with a 1:1 threading model. [ad 20070209]
	news68k: Implement generic softintr(9) support. [tsutsui 20070210]
	refuse: added FUSE (file system in userspace) compatibility
		functionality, layered on top of libpuffs [agc 20070211]
	i386: added an opencrypto provider for VIA ACE (AES encryption
		instructions), ported from OpenBSD. [daniel 20070217]
	sdiff(1): Replaced by OpenBSD sdiff(1) (public domain). [rmind 20070219]
	btuart(4): Add support for Bluetooth HCI UART (H4) driver.
		[kiyohara 20070221]
	btuartd(8): Add support for Bluetooth HCI UART (H4) daemon.
		[kiyohara 20070221]
	mutex(9), rwlock(9): Support priority inheritance. [yamt 20070226]
	eeprom(8): Add the missing kernel bits on arm and powerpc that kept
		eeprom from actually changing firmware settings
		[macallan 20070228]
	MAKEDEV(8), MAKEDEV.local(8): Let MAKEDEV.local use functions
		defined in MAKEDEV. [apb 20070303]
	x68k: Add generic softintr(9) support. [tsutsui 20070304]
	luna68k: Add generic softintr(9) support. [tsutsui 20070304]
	file(1): update to 4.20.  [pooka 20070304]
	hfs: Add read-only Apple HFS+ file system support. [dillo 20070305]
	ipv6: add ipv6 fast forward. [liamjfoy 20070307]
	openssh: import 4.6 [christos 20070310]
	aiboost(4): ASUS AI Booster ACPI Hardware monitor driver,
		adapted from FreeBSD for envsys(4). [xtraeme 20070313]
	evbmips: add Infineon ADM5120 port. [dyoung 20070320]
	i386, amd64: Intel(R) On Demand Clock Modulation driver, to save
		power and overheating in CPUs supporting the Thermal
		Monitor feature (TM). Adapted from OpenBSD/FreeBSD.
		See options(4) for more information. [xtraeme 20070320]
	kernel: Import of DRM (Direct Rendering Manager).  Not yet enabled
		by default. [drochner 20070320]
	libc: add support for LC_TIME [manu 20070328]
	genfb: generic framebuffer console driver with PCI and SBus
		frontends [macallan 20070411]
	sgimips: add support for SGI O2 PS/2 controller macekbc(4) and
		onboard display adapter crmfb(4) [jmcneill 20070412]
	sgimips: import mavb(4) audio device driver for SGI O2 from
		OpenBSD [jmcneill 20070412]
	sparc64: add support for hardware monitoring on
		Ultra Enterprise 450. See envctrl(4) [tnn 20070414]
	puffs(4): Support NFS exporting puffs file servers [pooka 20070416]
	xargs(1): Bring in xargs from FreeBSD to gain -I, -J etc. but keep our
		GNU compatible exit values. [christos 20070418]
	mount_9p(8): Add support to mount a 9P file service with puffs.
		[pooka 20070421]
	kernel: Remove the CHECK_ALT_xxx() defines and emul_find() used
		to locate files within an emulation's root directory.
		Instead get namei() to check the emulation root first.
		[dsl 20070422]
	prep: add support for the MTX604 RAVEN based machine.  Other RAVEN
		based machines are also likely to work now. [garbled 20070426]
	kernel: Added support for POSIX Asynchronous I/O. [rmind 20070430]
	puffs(3): Add puffs_framebuf(3), which abstracts the buffer
		management and event loop for networked file systems
		using puffs_cc(3).  Convert mount_psshfs(8) and
		mount_9p(8) to use it.  [pooka 20070505]
	kernel: Add the TFTPROOT kernel option for TFTP'ing root RAMdisk
		at root mount time. [manu 20070508]
	pf(4): Make 'nat' and 'rdr' translation rules obey state
		policy flags ('if-bound', 'group-bound', 'floating').
		Extend pf.conf(5) syntax to express the translation-state
		policies. [dyoung 20070510]
	idlelwp: yamt-idlelwp branch was merged.
		1. separate context switching and thread scheduling.
		2. implement idle lwp.
		3. clean up related MD/MI interfaces.
		4. make scheduler(s) modular.
		[yamt 20070518]
	ld.elf_so: Support Solaris $ORIGIN etc. expansions in paths.
		[christos 20070518]
	uslsa(4): added CP210x USB-RS232 ucom driver, as submitted by
		Jonathan A. Kollasch in PR kern/33496 [dogcow 20070520]
	top(1): Allow a single process to be selected by pid.
		Add a 'thread mode' that displays LWPs.
		[ad 20070524]
	libcurses: Merge in wide curses work done by Ruibiao Qui as a
		Google Summer of Code project [blymn 20070529]
	powerpc: Add booted_kernel and booted_device sysctl [nisimura 20070601]
	smsc(4): Added a driver for the hardware monitoring portion of
		the SMSC LPC47B397 [blymn 20070601]
	file(1): update to 4.21.  [pooka 20070607]
	zyd(4): Added OpenBSD's driver. Supports ZyDAS ZD1211/ZD1211B
		USB IEEE 802.11b/g wireless network device. [kiyohara 20070609]
	mac68k: Switch sn(4) Ethernet on mac68k to using MI SONIC driver.
		[tsutsui 20070610]
	tcp(4): Per socket keepalive timer settings. Ability to change
		connection timeout [christos 20070620].
	newgrp(1): Add POSIX (IEEE Std 1003.1, 2004 / Open Group Base
		Specifications Issue 6) User Portability Utility to change
		effective group ID. [ginsbach 20060621]
	GCC: Updated to version 4.1.3-20070620.  [mrg 20070621]
	ntp: Updated to version 4.2.4p2. [kardel 20070624]
	tcpdrop(8): Ported by anon ymous (from FreeBSD/OpenBSD)
		[christos 20070625]
	fast_ipsec(4): Add support for IPsec NAT-T [degroote 20070627]
	efs: Added read-only Silicon Graphics EFS file system. [rumble 20070629]
	envsys(4), sysmon_envsys(9): Imported envsys2. New API with the
		following features:
		- Cleaned up the API for simplicity and efficiency.
		- Ability to send capacity/critical/warning events to powerd(8).
		- Added support for a 'dictionary based communication channel'
		  between sysmon_power(9) and powerd(8), that means there is
		  no 32 bytes event size event restriction anymore.
		- Binary compatibility with old envstat(8) and powerd(8) via
		  COMPAT_40.
		And more, please see envsys(4) and sysmon_envsys(9) for more
		information.
		[xtraeme 20070701]
	mount_puffsportal: add experimental version of portalfs
		based on puffs(3).  [pooka 20070708]
	i386: Add gcscehci(4) driver for the EHCI controller found in the AMD
		Geode CS5536 companion controllers. [jmcneill 20070708]
	nfsmb(4): Add support for NVIDIA nForce 2/3/4 SMBus controller and
		SMBus driver. [kiyohara 20070711]
	dbri(4): Added support for audio input. [macallan 20070712]
	alpha: Add timecounter(9) support and switch to MI todr(9)
		with MI mc146818 driver. [tsutsui 20070721]
	ichsmb(4): Add support for Intel ICH SMBus controller.
		[kiyohara 20070728]
	shark: Add dhclient(8) to the install disk image to be able to
		configure network interfaces through DHCP.  [jmmv 20070729]
	sparc: The cgfourteen driver now supports wscons. [macallan 20070730]
	shark: Switched the installation disk to use wscons instead of
		pccons.  [jmmv 20070731]
	tcp(4): TCP socket buffers automatic sizing, ported from FreeBSD.
		[rmind 20070802]
	agp(4): Add support agp_amd64. Imported from FreeBSD.
		[kiyohara 20070804]
	cpuctl(8): A new utility which allows setting CPUs online/offline.
		[ad 20070804]
	libpthread: Make some significant performance improvements around
		thread synchronization, and fix a minor problem with
		detaching running threads. [ad 20070804]
	rump: Add the Runnable Userspace Meta Program framework to sys/rump.
		These are programs which compile in a part from the standard
		kernel sources and run in userspace.  Their main use is
		testing/debugging.  Currently supported are a number of
		file systems (e.g. ffs) through puffs(3). [pooka 20070805]
	wscons: Add scrollback support to vcons, this should work with
		any framebuffer console driver that uses vcons
		[macallan 20070805]
	wtf(6): Search pkgsrc's help database when ran inside a package
		directory. [hubertf 20070806]
	libpthread: Another performance improvement, and a fix for an issue
		that could cause threaded applications to hang under rare
		circumstances. [ad 20070807]
	mount_sysctlfs(8): sysctl(3) to file system translator [pooka 20070809]
	slhci(4): Replace to Matthew Orgass's slhci(4). [kiyohara 20070815]
	spdmem(4): Add Serial Presence Detect driver/support. This decodes
		technical specifications stored in the eeprom on common types
		of memory modules. [tnn 20070818]
	btbc(4): Add support for AnyCom BlueCard. [kiyohara 20070820]
	ichlpcib(4): The driver has added support for the TCO (watchdog) on
		ICH6 or newer chipsets plus timecounter support. Also it can
		be used on EM64T systems running the amd64 port. Adapted from
		FreeBSD and OpenBSD. [xtraeme 20070826]
	agten(4): Add support for Fujitsu AG-10e graphics cards working as
		accelerated framebuffer console. [macallan 20070826]
	ag10e(4): Add XFree86 driver to run the AG-10e in 24bit with
		acceleration. [macallan 20070830]
	uchcom(4): Add support for WinChipHead CH341/340 USB-Serial adapter.
		[tshiozak 20070903]
	amd64, i386: cgd(4) is part of GENERIC [joerg 20070906]
	libpthread: scalability and performance enhancements. The MySQL
		sysbench benchmark in read-only mode now scales to 900
		simultaneous client threads on a 4xCPU i386 system before
		serious performance drop-off occurs. [ad 20070907]
	kernel: Added support for POSIX message queues. [rmind 20070907]
	aps(4): driver for IBM Thinkpad Active Protection System,
		provides support for some sensors exported through
		the envsys(4) framework. Ported by Pierre Pronchery
		from OpenBSD. [xtraeme 20070911]
	i386, amd64: pcc is now able to compile most of the i386 kernel.
		a number of changes have been made for LKM and
		preemption safety. [ad 20070927]
	i386: i386 bootblocks are now able to boot amd64 kernels.
		support for a.out kernels has been removed [ad 20070927]
	kernel: Added support for kernel core dumps to RAID 1 sets.
		[oster 20071004]
	kernel: The new socket option SO_NOHEADER tells the network
		stack to strip the protocol header from packets
		received on a raw socket. [dyoung 20071005]
	gre(4): Available encapsulations increase to IPv6, UDP in
		IPv6, and UDP in IPv4.  The Mobile IP encapsulation
		is no more. [dyoung 20071005]
	malloc: Replace the default memory allocator with 'jemalloc',
		designed to perform well in both single- and multi-
		threaded processes.  This provides a significant
		performance boost for many threaded workloads that
		make use of malloc, such as MySQL. [ad 20071006]
	kernel: A new SCHED_M2 scheduler, improves the performance on
		MP systems, supports real-time and time-sharing classes,
		ready for the CPU affinity. [rmind 20071009]
	shark: Removed pccons(4), obsoleted by wscons(4).  [jmmv 20071028]
	coretemp(4): Driver for Intel Core's on-die thermal sensor,
		available on Core or newer CPUs. Ported from FreeBSD.
		[xtraeme 20071029]
	x86: Added support for Intel 82G965 chipset.  [jnemeth 20071030]
	nsclpcsio(4): Added support for the VLM logical device. This provides
		14 voltage sensors in addition to the previous 3 temperature
		sensors provided in the TMS logical device. From OpenBSD.
		[xtraeme 20071109]
	btkey(1): A new utility to manage Bluetooth link keys in OS and
		and device storage. [plunky 20071109]
	putter(9): A Pass-to-Userspace Transporter, a generic request-response
		handler for kernel-attached userspace daemons (e.g. puffs(4)).
		[pooka 20071110]
	pad(4): Added the pseudo-audio device driver, for feeding back raw
		PCM data to userland. [jmcneill 20071111]
	r128fb(4): New accelerated console driver for ATI Rage 128 graphics
		controllers. [macallan 20071111]
	atf: Initial import of the Automated Testing Framework, version 0.3.
		Provides a framework to easily define and run test cases for
		the NetBSD operating system.  Work until 0.1 sponsored by
		Google Summer of Code 2007 and mentored by martin.
		[jmmv 20071112]
	sysinst: Add support to install the new tests.tgz set.
		[jmmv 20071112]
	tests: Converted the regress/bin tree to use ATF and migrated it
		to tests/util.  [jmmv 20071112]
	tests: Converted the regress/sys/fs/tmpfs tree to use ATF and
		migrated it to tests/fs/tmpfs.  [jmmv 20071112]
	tests: Converted the regress/games tree to use ATF and migrated it
		to tests/games.  [jmmv 20071112]
	ahcisata(4): Add support for ATAPI devices. [bouyer 20071112]
	newfs_ext2fs(8): Add a native newfs_ext2fs(8) command.
		Closes PR bin/16175. [tsutsui 20071117]
	x86: Add support for /boot.cfg to configure the bootloader. This
		includes optionally displaying menus, altering banner text
		and changing options such as timeouts and console device
		which previously required use of installboot.
		[sborrill 20071120]
	pud(4): Add a driver via which it is possible to implement
		block and character devices in userspace. [pooka 20071120]
	xen: Added support for amd64 architecture, both as dom0 and domU.
		[bouyer 20071122]
	i386: Create a boot.cfg on the install CD to allow the end-user to
		select either the standard or non-ACPI kernel easily.
		[sborrill 20071123]
	libsa: Add ext2fs support. [tsutsui 20071201]
	bcsp(4): Add support for BlueCore Serial Protocol. [kiyohara 20071202]
	toolchain: Install the linker scripts on amd64, which allows to
		link x86 32bits objects using the native ld(1).
		[bouyer 20071202]
	arcmsr(4): Areca Technology Corporation SATA RAID controller driver,
		ported from OpenBSD. [xtraeme 20071204]
	acpi: Updated ACPI-CA to 20070320. [jmcneill 20071211]
	kernel: Added a new power management framework, see pmf(9) for details.
		[jmcneill, joerg 20071211]
	MAKEDEV(8): Use pax(1) in preference to mknod(8) to create device
		nodes more efficiently; use mount_tmpfs(8) in preference to
		mount_mfs(8) when creating a memory file system. [apb 20071215]
	openssh: import 4.7 [christos 20071217]
	x86: Add support for ACPI S3 (suspend-to-RAM) on MP systems.
		[joerg 20071218]
	newsyslog: newsyslog.conf flag 'J' will bzip2 logfiles.
		[dogcow 20071221]
	thinkpad(4): Add driver for IBM/Lenovo Thinkpad hotkeys and
		brightness controls [jmcneill 20071221]
	kernel: Address Space Layout Randomization support in the kernel and
		dynamic linker, see security(8). [elad, christos 20071226]
	msdosfs: Significantly speed up write speed (up to 16x faster).
		[reinoud 20071228]
	itesio(4): Added support for the Watchdog Timer. [xtraeme 20071229]
	usermode: Add port of the NetBSD kernel to userspace.
		[jmcneill 20071229]
	hp700: kernels are now compiled with -O2. [skrll 20071230]
	compat_hpux: removed. [ad 20071231]
	systrace(1): removed. [ad 20071231]
	tprof: add tprof, a simple performance monitor based profiler,
		inspired from linux oprofile.  it's still very experimental.
		[yamt 20080102]
	bioctl(8): Rewritten to handle new features like creating/removing
		hot-spare, pass-through disks and RAID volumes, start/stop
		consistency checks in volumes and others. [xtraeme 20080102]
	arcmsr(4): Added support to create/remove hot-spare, pass-through
		disks and RAID volumes, start/stop consistency checks
		in volumes as well as showing information about physical
		disks (even if they are marked as hot-spare, pass-through
		or unused). [xtraeme 20080102]
	ofppc: Support intallation and RAID bootable root.  [mrg 20080102]
	gem(4): Add support for Sun SX fibre cards.  [jdc 20080105]
