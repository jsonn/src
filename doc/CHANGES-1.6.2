#	$NetBSD: CHANGES-1.6.2,v 1.1.2.258 2004/01/30 10:07:06 he Exp $

A complete list of changes from NetBSD 1.6.1 to NetBSD 1.6.2:

File						Revision(s)
----						--------

sys/conf/osrelease.sh				patch
share/tmac/doc-common				patch

	Mark this as 1.6.1_STABLE.

sys/dev/ata/ata_wdc.c				1.39
sys/dev/ic/wdcvar.h				1.36
sys/dev/pci/pciide.c				1.191
sys/dev/pci/pciide_pdc202xx_reg.h		1.9

	Make DMA mode works on Promise Ultra66/100 with 48-bit LBA drives.
	Ok'ed by bouyer in tech-kern@netbsd.org.
	[nakayama, ticket #1275]

usr.sbin/etcupdate/etcupdate			1.10

	Use md5 instead of sum (bin/20196).
	[martti, ticket #1146]

sys/dev/pci/if_rtk_pci.c			1.18

	Set RTK_ENABLE flag when it attached. This fixed multicast problem.
	Found by FUKAUMI Naoki <naoki@fukaumi.org>.
	[kanaoka, ticket #1134]

sys/netinet/in.h				1.59

	C++ does not permit static a data member to have the same name as its
	class, so in a C++ environment rename the ip_opts member to Ip_opts as
	observed in several other implementations; from Jon Olsson in
	PR toolchain/19880.
	[kleink, ticket #1119]

etc/services					1.63

	Add ms-sql-{s,m}, currently quite popular in packet filter logs
	worldwide.
	[ross, ticket #1132]

usr.bin/tftp/tftp.c				1.16

	Fix sendto return value check (incomplete change in 1.14).
	Noted by Brian Ginsbach in PR#19842.
	[wiz, ticket #1139]

sys/netiso/clnp_er.c				1.13

	Keep pkthdr when prepending new mbuf in front of a given chain.
	This keeps us from panic()ing in the interface output routine.
	SA#2003-010
	[is, ticket #1295]

sys/kern/init_main.c				1.215
usr.bin/login/login.c				1.72

	Update copyright notice.
	[fair, ticket #1303]

etc/mrouted.conf				1.5
share/man/man4/ntwoc.4				1.4

	Fix typos.
	[keihan, ticket #1135]

sys/dev/scsipi/scsiconf.c			1.199

	Add PQUIRK_NOLUNS entry for "NEC     ", "CD-ROM DRIVE:502".
	Fixes PR kern/18479
	[bouyer, ticket #1140]

sys/dev/pci/pcidevs				1.503
sys/dev/pci/pcidevs.h				regenerate
sys/dev/pci/pcidevs_data.h			regenerate

	Add SiS 651 host bridge.
	[bouyer, ticket #1143]

sys/dev/scsipi/scsiconf.c			1.198

	Remove revision in quirk entry for TOSHIBA XM-4101TASUNSLCD.
	The same drive with a newer revision also fails, so assume all
	revisions are bad until proven otherwise.
	[bouyer, ticket #1155]

sys/kern/kern_malloc.c				1.73
sys/uvm/uvm_amap.c				1.45
sys/uvm/uvm_amap.h				1.18
sys/uvm/uvm_extern.h				1.72
sys/uvm/uvm_km.c				1.58
sys/uvm/uvm_map.c				1.119

	Add a new km flag UVM_KMF_CANFAIL, which causes uvm_km_kmemalloc() to
	return failure if swap is full and there are no free physical pages.
	have malloc() use this flag if M_CANFAIL is passed to it.
	use M_CANFAIL to allow amap_extend() to fail when memory is scarce.
	this should prevent most of the remaining hangs in low-memory
	situations.
	[skrll, ticket #1156]

usr.bin/progress/progress.c			1.7

	Use an even more elaborate wait loop; it turns out we have a
	child before we even start when run from sysinst.
	[ross, ticket #1167]

usr.bin/cdplay/cdplay.c				1.22

	Fix PR#18444 and a few other corner cases in cdplay.c.
	[is, ticket #1172]

sys/arch/mac68k/dev/akbdmap.h			1.4
sys/arch/macppc/dev/akbdmap.h			1.5

	Merged mac68k and macppc keyboards, since they are the
	same. The file could move to <arch/mac> if one day we create
	it.

	Added a french keyboard layout.
	Fixed french keymap: option was not mapped correctly, thus making
	impossible to use |{}[] (tested).
	Added jp keymap from PR#15438, and sf, sv, de and uk keymaps from
	OpenBSD. (all untested).
	[manu, ticket #1183]

sys/net/if_ethersubr.c				1.105

	Ignore multicast PPPoE packets ASAP.
	This improves performance a lot on slow machines behind a cable modem.
	Protect it with PPPOE_SERVER as a reminder that this will have to be
	changed if we add PPPoE server code in the kernel one day.
	[aymeric, ticket #1188]

share/misc/style				1.23

	Return value style update (no parentheses)
	[mason, ticket #1191]

lib/libc/citrus/citrus_ctype_template.h		1.15-1.20
lib/libc/citrus/citrus_none.c			1.6-1.7

	mbsrtowcs_priv template:
        	n == 0 is not an error. it's a valid input.
	_citrus_NONE_ctype_mbsrtowcs:
		fix a typo that causes SEGV.
	while i'm here, make them similar each other.
	when s==0, wctomb should initialize its internal state and return if
	encodings have state dependency or not.  Fixes part of PR#18269.
	In _RESTART_BEGIN macro, don't use external variable directly.
	- add missing _CEI_TO_EI/_TO_CEI.
	- add missing _STATE_NEEDS_EXPLICIT_INIT checks.
	- more comment.
	- add missing _CEI_TO_EI/_TO_CEI.
	- don't use 'cl' before assert it's non NULL.
	- handle s==NULL case of wcrtomb.
	- add a comment about it.
	Fixes rest of PR#18269 by wurlitzer.
	[yamt, ticket #1202]

sbin/fdisk/fdisk.c				1.55

	Add partition type 0xaf for Apple HFS.
	[jdarrow, ticket #1205]

sbin/fdisk/fdisk.c				1.56

	Make the -l flage more useful, by actually printing the systype number
	alongside the sysid string (instead of just the array index of the
	struct part_type they are found in).
	Now fdisk -l shows the familiar 169 for NetBSD, 165 for FreeBSD or
	386BSD or old NetBSD, and other possibly-familiar (131 for Linux
	native,	015 for Ext. Partition - LBA) values in with their correct
	numbers.
	[jdarrow, ticket #1206]

sys/uvm/uvm_bio.c				1.27

	For PMAP_CACHE_VIVT platforms, make UBC_RELEASE_UNMAP evaluate to TRUE,
	and add a comment explaining why.
	[thorpej, ticket #1207]

usr.sbin/rtadvd/rtadvd.c			1.27-1.28

	Add missing ND option length validation.  from kame
	correct use of sizeof
	[itojun, ticket #1212]

sys/dev/pci/if_sip.c				1.78

	Add a work-around for the "short cable problem" that some DP83815
	revisions have, as discussed on the soekris-tech mailing list a
	while ago, whereby one can experience excessive recieve erros when
	using < 30m cables.  The patch detects overflow in a DSP filter
	parameter, and corrects it by writing a known good value.
	[thorpej, ticket #1228]

crypto/dist/ssh/auth.c				1.18

	Add missing
		hp = strtok(NULL, ",");
	to end of while loop which parses "host.allow" from login.conf(5).
	Otherwise, sshd(8) would just infinite loop unless there was a
	(positive or negative) match in the first word of the "host.allow"
	list...
	[lukem, ticket #1231]

libexec/lfs_cleanerd/cleanerd.c			1.40

	For -b, use ssize instead of segshift.
	Segshift is invalid for v2 filesystems.
	[toshii, ticket #1232]

usr.bin/mail/popen.c				1.15

	Fix a bug introduced by Christos Zoulas in version 1.4.
	He accidently moved the call to block the SIGCHLD to the wrong side of
	the call to findchild().
	Caused a coredump in one in every N thousand invocations of mail,
	which I have been hunting for literally years.
	Fixes PR#19696 from Mason Loring Bliss, too.
	[perry, ticket #1236]

share/man/man8/man8.amiga/boot.8		1.8
share/man/man8/man8.amiga/installboot.8		1.19

	Fix typos reported by Igor Sobrado (PR#20950).
	[is, ticket #1238]

sys/uvm/uvm.h					1.32

	Protect "struct uvm" with _KERNEL.
	[cjep, ticket #1240]

sys/netinet6/in6_pcb.c				1.53

	Include opt_inet.h -- found by David Laight
	[itojun, ticket #1241]

etc/rc.d/bootconf.sh				1.7

	Variable substitution happens at trap installation time, not at trap
	execution time - so it used to print "Using default configuration of
	/etc/passwd".
	[is, ticket #1242]

bin/csh/csh.1					1.37

	Additional text & formatting for the csh "limit" command;
	Fixes PR#11658.
	[fair, ticket #1243]

libexec/talkd/talkd.c				1.16

	Verify strvis() buffer length is enough.  Make sure string termination
	before use.  Remove extra ntohs() which is not needed.  from Charles
	Blundell
	[itojun, ticket #1001]

sys/dev/scsipi/ses.c				1.19-1.20

	The Double-Semi-Colon Police.

	Fix PR#20231 - pass the correct argument (arg_addr) on thru to
	scsipi_do_ioctl, not the locally dereferenced fetch.
	[mjacob, ticket #1162]

sys/dev/pci/agp.c				1.26

	Don't match a PCI graphics card in a system which supports an AGP.
	Patch supplied by Quentin Garnier in PR#19256.
	[tron, ticket #1181]

sys/sys/agpio.h					1.2

	From FreeBSD: Fix an off-by-bit error in the AGP_MODE_[GS]ET_RATE()
	macros.

	This fixes PR#20480 by Quentin Garnier.
	[tron, ticket #1182]

include/vis.h					1.13

	This needs <sys/types.h>
	[klienk, ticket #1210]

usr.bin/menuc/menuc.1				1.12

	Replace some \n with \en for correct display.  Fixes PR#18539.
	[manu, ticket #1226]

sys/dev/pci/if_bge.c				1.38

	Don't print a kernel message like "bge0: gigabit link up" when a
	Gigabit link is detected. No other ethernet driver does this and this
	driver doesn't do it for other modes.
	[tron, ticket #1230]

lib/libcurses/curses_private.h			1.30 (via patch)
lib/libcurses/getch.c				1.40 (via patch)
lib/libcurses/screen.c				1.13 (via patch)
lib/libcurses/tty.c				1.32 (via patch)

	Keep the cr->nl translation state in a separate variable, so that we
	can do the translation ourselves (if the tty didn't do it for us).
	Add debugging to track functions that change tty state.
	[jdc, ticket #1244]

usr.bin/chpass/Makefile				1.13

	Build custom getpwent.o only if USE_YP==no. Otherwise, chpass will not
	get the current passwd entry from NIS. Problem reported by Stephen M.
	Jone on tech-net.
	[bouyer, ticket #1245]

sys/dev/pci/if_bge.c				1.34
sys/dev/pci/if_bgereg.h				1.7

	FreeBSD fix for problems reported (to FreeBSD) with 16-bit accesses
	to 32-bit device registers. Add (untested) NetBSD fix for big-endian
	hosts.  From FreeBSD versions:
		if_bge.c:	1.26 and 1.27
		if_bgereg.h:	1.12

	FreeBSD (MFC) comment:

	MFC:  Avoid 16-bit accesses to device memory.  Use volatile where
	appropriate in referencing device memory.  Parenthesize BGE_HOSTADDR
	define properly.
	[tron, ticket #1249]

sys/dev/pci/if_bge.c				1.35
sys/dev/pci/if_bgereg.h				1.8

	Commit the FreeBSD alternative of a private patch to check NIC internal
	ram for using TBI, versus MII/GMII.

	FreeBSD commit log and versions:
	   Obtain the media type from the shared memory and only use the eeprom
	   as a fallback.

	   if_bge.c:	rev 1.30
	   if_bgereg.h:	rev 1.13

	Thanks to Paul Saab @mu.org.
	[tron, ticket #1250]

usr.bin/window/wwiomux.c			1.8

	Fix a bug where window(1) would (appear to) miss a character when two
	characters are typed fast one after the other (<10 ms).
	The visual effect under vi(1) was even more impressive. ;-)
	This bug was actually introduced inadvertantly in 1995 in rev 1.4.
	[aymeric, ticket #1252]

lib/libkvm/kvm.c				1.65.4.2

	Set the close-on-exec bit on all file descriptors we open. Inspired
	by a FreeBSD security advisory.
	[david, ticket #1255]

sys/dev/pci/if_wm.c				1.36

	Pullup short mbuf in wm_tx_cksum() instead of dropping it which fixes
	PR#21190. Jason R. Thorpe code reviewed the changes.
	[tron, ticket #1256]

sys/netinet/ip_icmp.c				1.73

	Clear hardware checksum flags before reusing a mbuf for an ICMP reply
	as suggested by Enami Tsugutomo. This fixes PR#21203.
	[tron, ticket #1260]

sys/arch/amiga/dev/grf_et.c			1.20-1.21

	iszthreepa() takes a physical address, not a virtual address.
	This fixes PR#19175, reported and heavily debugged by Pawel
	Chwalowski.
 
	Fix fatal typo.
	[is, ticket #1266]

share/man/man4/scc.4				1.3-1.5

	Add MAKEDEV(8) to the SEE ALSO list.
	Clean up nroff problems.

	Change the serial port file names in the FILES section to ttyB0,
	etc. to match current reality.

	Add some paragraph breaks to make the text more readable, and to
	more clearly separate the topics covered.

	Sprinkle Tn macros liberally. Update the man page date.

	Gaaaaaah! I should have double checked that pmax had been changed
	to match alpha, and they're different - alpha: ttyB0, pmax: ttya

	So, change the FILES section again to differentiate between alpha
	and pmax, plus add a clear statement in the first paragraph as to
	which computers listed are supported by which port.

	Fixes PR#19752.
	[fair, ticket #1271]

sbin/dump/rcache.c				1.20

	The sysctl returning the amount of memory in the system returns "int",
	which is silly.  Luckily, it really does return the correct result if
	interpreted as an unsigned int.  This change lets dump work on 32-bit
	systems that have more than 2GB of RAM.
	[rafal, ticket #1272]

sys/dev/wscons/wsemul_vt100.c			1.13
sys/dev/wscons/wsemul_vt100_subr.c		1.24 (via patch)
sys/dev/wscons/wsemul_vt100var.h		1.7

	Fix crash due to wrong argument in the (almost useless)
	DECRQUPSS escape sequence.

	PR#17738: Matthias Drochner, PR#21230: Onno van der Linden: vt100
	wscons crashes restoring cursor. Fixed by adding a flag as suggested.
	[drochner, ticket #1277]

sys/dev/pci/pcidevs				1.511-1.512 (via patch)
sys/dev/pci/pcidevs.h				Regenerate
sys/dev/pci/pcidevs_data.h			Regenerate
sys/dev/pci/pciide.c				1.182 (via patch)
sys/dev/pci/pciide_sis_reg.h			1.10 (via patch)
sys/dev/pci/pciidevar.h				1.9 (via patch)

	Rework SiS support: more controller supported (up to Ultra/133) and
	better support for the older ones.

	Information for this work extracted from Soeren Schmidt's FreeBSD
	driver.

	Sync with the latest diff I made available, and also include changes
	from PR#18015 which is much better than the hack I've done.
	[bouyer, ticket #1234]

share/misc/na.phone				1.16-1.18 (via patch)

	Fix comment about format.
	Fixes PR#17722 from David MacKenzie.

	Add new numbers, remove some stars, and mildly sort it so that it's
	actually in numeric order.

	Re-gen with new machinery. Finally up-to-date.
	[jhawk, #1189]

share/man/man8/man8.sun2/boot.8			1.1-1.4 (new)
share/man/man8/man8.sun2/Makefile		1.2
distrib/sets/lists/man/mi			1.573

	Added a boot(8) man page for sun2.

	Use more mdoc macros; comment out reference to non-existing crash(8)
	from SEE ALSO.

	Added a SYNOPSIS section, added content about boot device
	selection, and added the man page to the set lists.

	New sentence, new line; drop trailing spaces.
	[fredette, ticket #1278]

crypto/dist/kame/racoon/crypto_openssl.c	1.6

	Fix "round up to 8" code.  from kame
	[itojun, ticket #1270]

sys/arch/newsmips/newsmips/cpu_cons.c		1.7

	Fix unexpected fallthrough in switch statement.

	This should fix boot failure of the INSTALL kernel
	on news3400 with serial console.
	[tsutsui, ticket #1276]

sys/netinet6/ip6_mroute.c			1.47

	Don't try to forward multicast packet to mif that went away.
	[itojun, ticket #1317]

sys/arch/mac68k/dev/if_mc.c			1.21
sys/arch/macppc/dev/am79c950.c			1.14

	Don't bring down mc(4) interfaces when they underflow.
	Fixes PR#12088. [bjh21, ticket #1314]

sys/netinet/tcp_input.c				1.168

	Inherit IPV6_V6ONLY from listening socket. Fixes PR#21713.
	[itojun, ticket #1304]

sys/dev/pci/if_ste.c				1.17

	Add a missed htole32() for DMA txdescs.
	[tsutsui, ticket #1315]

sys/dev/ic/i82557.c				1.74 (via patch)

	Fix of possible null pointer dereferences.
	[yamt, ticket #1296]

etc/services					1.65

	Add "kamanda" 10081/udp for Amanda with Kerberos. Fixes PR#21756.
	[fair, ticket #1312]

sys/net/route.h					1.32
sys/net/route.c					1.55
sys/netinet/ip_input.c				1.163 (via patch)

	Remove all entries in rt timer queue on ip_mtudisc change, instead
	of destroying the queue.
	[itojun, ticket #984]

sbin/mount_union/mount_union.8			1.14

	Add some mdoc macros. Add text from PR#13878, modified.
	[fair, ticket #1283]

usr.bin/du/du.c					1.21 (via patch)

	If no files are specified on the command line, put { ".", NULL } in
	it's own little array instead of writing over argv.  Fixes problems
	where du shows up in ps as ". fts_open `%s'" (and shorter or longer
	combinations of that depending in what argc was).
	[simonb, ticket #1284]

distrib/sets/lists/base/shl.mi			1.211 (via patch)
lib/libc/arch/powerpc/net/Makefile.inc		1.2
lib/libc/shlib_version				1.131 (via patch)

	Build {h,n}to{n,h}{l,s}() into object code; fixes PR#21541
	from Tsuyoshi MOMOSE.

	Bump to libc.so.12.83.2, due to addition of {h,n}to{n,h}{l,s}() on
	PowerPC.
	[kleink, ticket #1288]

dist/dhcp/common/discover.c			1.6

	Skip !IFF_BROADCAST interfaces (such as strip). After discussion
	with Ted Lemon leave in checks for IFF_LOOPBACK and IFF_POINTTOPOINT
	in case an OS incorrectly marks them with IFF_BROADCAST.
	Patch submitted back to dhcp-server@isc.org
	[abs, ticket #1292]

distrib/notes/macppc/prep			1.37

	Fix broken link. Pointed out by Ray Phillips on www@.
	http://asu.info.apple.com/ has been replaced by
	http://www.info.apple.com/support/downloads.html.
	[yyamano, ticket #1297]

lib/libc/stdio/vfscanf.c			1.34

	Fix handing of negative hexadecimal numbers in the %i format.  Fixes
	PR#21691.  Patch from Simon Burge.

	[thorpej, ticket #1298]

sys/sys/shm.h					1.33

	Include <sys/unistd.h> for the definition of _SC_PAGESIZE, which is
	required for run-time retrieval of SHMLBA.  While this does make
	visible additional symbols which are not in the underscore-prefixed
	implementation-reserved namespace, its impact should be negligible (and
	most applications supposedly include <unistd.h> as well), and there is
	verify strvis() buffer length is enough.  make sure string termination
	before use.  remove extra ntohs() which is not needed.  from Charles
	Blundell
	[kleink, ticket #1301]

distrib/notes/macppc/hardware			1.31-1.34

	- Add mention of experimental MP support in -current
	- Apple's official name for recent iBooks is actually (16VRAM).
	- D'oh -- PowerComputing PowerBase models are actually Open Firmware
	  2.0.

	- misc small typos and wording cleanup
	- PowerBase is actually Open Firmware 2.0.x
	- add iBook (16VRAM) and iBook (Summer2002) as supported models
	- mention next release of NetBSD will support multiple CPUs
	- mention that some L3 caches on CPU upgrades may not be enabled by
	  default
	- PowerMacintosh G4 (FW 800) model is reported to work with 1.6.1
	- macppc uses gem driver instead of gm ethernet driver now
	- macppc uses tlp driver instead of de ethernet driver now
	- AirPort Extreme is unsupported
	- full wscons capabilities not supported (virtual terminals and color)
	- keyboard problems with iMac and B&W G3 seem to have been cleared up
	[mbw, ticket #1305]

distrib/notes/macppc/install			1.26

	Misc small typos and wording cleanup.
	Fix links to newly updated Partitioning HOW-TO and mention use of pdisk
	can't view files on official ISO image or floppy from Open Firmware
	keyboard problems with iMac and B&W G3 seem to have been cleared up.
	[mbw, ticket #1306]

distrib/notes/macppc/prep			1.38

	Misc small typos and wording cleanup.
	Fix links to newly updated Partitioning HOW-TO.
	OF 3 firmware update 4.1.7, mention that it's not much of a problem
	anymore.
	Point to ZTerm home page.
	Redo partitioning section.
	Update now that there's a pair of boot floppies.
	Change MS-DOS floppy section to be Zip disk.
	[mbw, ticket #1307]

distrib/notes/common/contents			1.90

	Mention macppc has two floppies now.
	[mbw, ticket #1308]

distrib/notes/common/netboot			1.15

	Detab a few lines, and in general try to make it better for 80 column
	printout.
	[mbw, ticket #1310]

distrib/notes/common/sysinst			1.63

	Fix a macppc TOC heading to be a little shorter.
	[mbw, ticket #1311]

sys/netatalk/at_control.c			1.8

	Make "ifconfig $interface" display phase 1 addresses also.
	[is, ticket #1313]

sys/arch/sparc64/sparc64/intr.c			1.43

	Fix yet another inverted comparison.
	[martin, ticket #1318]

usr.bin/vi/vi/v_txt.c				1.11

	When an error occurs in v_txt(), leave input mode too.
	Otherwise, (among other things) db_get() thinks it can re-use the TEXT
	buffers when it's not true, leading to a crash because that TEXT buffer
	will be released just before it is actually used to create a new one.
	This fixes PR#21797.
	[aymeric, ticket #1320]

sys/net/if.c					1.118 (via patch)

	AF_LINK sockaddr has to be attached to ifp->if_addrlist until the end,
	as many of the code assumes that TAILQ_FIRST(ifp->if_addrlist) is
	non-null.
	[itojun, ticket #1290]

sys/netatalk/aarp.c				1.13
sys/netatalk/ddp_output.c			1.7 (via patch)

	- don't use M_WAIT within splnet.
	- retain m_pkthdr for mbuf passed down to ifp->if_output.
	  pointed out by is@netbsd
	[itojun, ticket #1316]

sys/arch/macppc/conf/GENERIC			1.157
sys/arch/macppc/conf/files.macppc		1.58
sys/arch/macppc/dev/kauai.c			1.1, patch (new)
sys/arch/macppc/dev/obio.c			1.18
sys/dev/pci/pcidevs				1.516
sys/dev/pci/pcidevs.h				regenerate
sys/dev/pci/pcidevs_data.h			regenerate

	Support the PowerBook G4 12-inch (and maybe 17-inch).
	  Kauai ATA, new obio chip, and Japanese keymap for
	  WSDISPLAY_COMPAT_RAWKBD

	Add new Apple devices.
	[hamajima, ticket #1323]

sys/arch/macppc/conf/GENERIC			1.140
sys/arch/macppc/dev/akbd.c			1.26-1.27
sys/arch/macppc/dev/akbdvar.h			1.6-1.7
sys/arch/macppc/include/keyboard.h		1.4

	akbd's now have a raw mode, and implement the WSKBDIO_SETMODE ioctl.
	Adapted from OpenBSD.

	Remove the key repeating feature.
	It is asking for trouble and is useless for the X server.
	We can add it back later if need be.

	Add (commented out) option WSDISPLAY_COMPAT_RAWKBD.
	[aymeric, ticket #1324]

sys/dev/pci/yds.c				1.17
sys/dev/pci/ydsreg.h				1.3-1.4

	Typo.
	Register value symbols YDS_PCI_EX_LEGACY_SBMOD_* ->
	YDS_PCI_EX_LEGACY_SMOD_*.

	Disable ISA DMA emulation for SoundBlaster module explicitly.
	This fixes the floppy access problem on some hardware.
	Problem reported by Miroslav Kure via Jason Wright <jason [at]
	thought [dot] net> of OpenBSD. Thanks.

	Fix from ALSA driver; although this setting is undocumented but
	according to Jaroslav Kysela <perex [at] suse [dot] cz> of ALSA,
	there's no error reported so far.
	[hubertf, ticket #1322]

sys/arch/newsmips/conf/GENERIC			1.57

	Enable options NTP, DDB and SCSIVERBOSE.
	[tsutsui, ticket #1285]

sys/arch/newsmips/conf/GENERIC			1.59
sys/arch/newsmips/conf/INSTALL			1.17

	Use wildcard for scsibus at sc0.
	[tsutsui, ticket #1287]

sys/dev/sbus/stp4020.c				patch

	Make it compilable.
	[martin, ticket #1319]

etc/rc.d/ipnat					1.9

	Change behaviour of 'reload' to only reload the NAT rules and NOT flush
	the state table, making it much more useful.
	[grant, ticket #1321]

sys/dev/pci/if_wmreg.h				1.5

	Fix to recognize the PHY on i83543 correctly.
	[thorpej, ticket #1299]

distrib/sets/checkflist				1.18
distrib/sets/lists/xbase/md.macppc		1.6
distrib/sets/lists/xbase/mi			1.25
distrib/sets/lists/xbase/md.i386		1.11
distrib/sets/lists/xbase3/mi			1.2
distrib/sets/lists/xbase4/md.i386		1.2
distrib/sets/lists/xbase4/mi			1.3-1.7
distrib/sets/lists/xbase4/obsolete.mi		1.1 (new)
distrib/sets/lists/xbase4/shl.elf		1.2
distrib/sets/lists/xbase4/shl.mi		1.2
distrib/sets/lists/xcomp/mi			1.11
distrib/sets/lists/xcomp3/mi			1.2
distrib/sets/lists/xcomp4/mi			1.3
distrib/sets/lists/xcomp4/obsolete.mi		1.1 (new)
distrib/sets/lists/xfont4/mi			1.2-1.4
distrib/sets/lists/xserver4/md.i386		1.2
distrib/sets/lists/xserver4/md.macppc		1.5

	Update X11 sets for XFree86 4.3.0.
	[tron, ticket #1326]

sys/net/if_ethersubr.c				1.109 (via patch)
sys/net/if_ieee1394subr.c			1.23
sys/net/if_spppsubr.c				1.66
sys/net/if_tokensubr.c				1.22

	Don't call if_free_sadl() until very end of if_detach() logic.  Many
	of routing table manipulation code assumes the presense of AF_LINK
	sockaddr.  Fixes PR#21581.
	[itojun, ticket #1325]

distrib/notes/macppc/hardware			1.36

	iBook (14.1 LCD 32 VRAM) is reported to work by David Friggens
	PowerBook G4 (12-inch) and PowerBook G4 (17-inch) supported thanks to
	HAMAJIMA Katsuomi
	[mbw, ticket #1327]

sys/arch/macppc/dev/wdc_obio.c			1.25

	Fix wdc_obio_dma_init() confused WDC_DMA_LBA48 with WDC_DMA_READ.
	This was tested by jtb@netbsd.org.
	[hamajima, ticket #1328]

sys/arch/sparc64/conf/files/files.sparc64	1.74
sys/arch/sparc64/include/cpu.h			1.35 (via patch)
sys/arch/sparc64/include/cpu_counter.h		1.1 (new)
sys/arch/sparc64/sparc64/clock.c		1.55
sys/arch/sparc64/sparc64/cpu.c			1.28 (via patch)
sys/arch/sparc64/sparc64/locore.s		1.169
sys/kern/kern_microtime.c			1.1 (new)

	Switch to use cycle counter (%tick) based microtime().

	This is derived from alpha/microtime.c and i386/tsc_microtime.c,
	and will share with both ports.
	[nakayama, ticket #1329]

sys/arch/sparc64/sparc64/locore.s		1.173

	Divide `set' instruction in delay slot (from OpenBSD change to rev
	1.30).
	[nakayama, ticket #1330]

sys/arch/sparc64/sparc64/process_machdep.c	1.12 (via patch)

	Wrap a 64-bit mode case with #ifdef __arch64__ for 32-bit kernels,
	and fix typo in comment.
	[nakayama, ticket #1331]

sys/dev/audio.c					1.161

	Fix unitialized variable. from simonb. OI
	[nakayama, ticket #1332]

sys/ufs/ffs/ffs_inode.c				1.52

	Move a brace that is in the wrong position when changes from FreeBSD
	were added in rev 1.51.  This may fix the "N lost blocks" problem some
	people have noticed.
	Reviewed by fvdl.
	[nakayama, ticket #1333]

sys/dev/usb/uaudio.c				1.61

	Correct test for busy-ness when setting parameters.
	[nakayama, ticket #1334]

sys/net/rtsock.c				1.61

	Recover code that requires exact match on rtm_change/lock (lost in
	1.16). Without it "route change X" would change less-specific route by
	mistake.  reported by jinmei@kame
	[itojun, ticket #1336]

sys/arch/newsmips/dev/zs_hb.c			1.14

	Call zshard() twice in zshard_hb() interrupt handler for workaround
	otherwise news3400 sometimes losts zs interrupts.

	This should fix "serial console hiccups on sysinst" problem
	reported by Mauricio <raub at kudria.com> on port-newsmips.
	[tsutsui, ticket #1286]

sys/arch/macppc/dev/ofb.c			1.29-1.30, 1.33

	Update OFB_ENABLE_CACHE to search for an empty bat that does not
	conflict the USER_SR or one of the kernel SRs.

	For ofb_enable_cache, turn on the BAT_M bit as well to prevent
	the framebuffer from getting scrambled on MP systems.

	Initialize the framebuffer BAT with BAT_G, too.  This marks the region
	as (G)uarded, protecting it from the processor being too aggressive in
	reordering and prefetching.  This allows OFB_ENABLE_CACHE to work on my
	Powerbook G4.
	[briggs, ticket #1274]

share/mk/bsd.info.mk				1.28

	Fix "clean" rule to honor "CLEANFILES" variable.
	[tron, ticket #1337]

sys/arch/macppc/include/keyboard.h		1.5

	This change supports Japanese layout keyboard for
	WSDISPLAY_COMPAT_RAWKBD on macppc.
	[hamajima, ticket #1338]

etc/rc.subr					1.57

	run_rc_command(): when checking if ${command} exists before
	executing it, be sure to check under ${name_chroot} (if set).
	Fix from Ed Ravin in PR#18523.
	[lukem, ticket #1346]

usr.bin/mkdep/mkdep.c				1.16

	Catch SIGPIPE, too.
	[msaitoh, ticket #1339]

sys/netinet/igmp.c				1.34
sys/netinet/igmp_var.h				1.16
sys/netinet/in.c				1.87

	Purge rti structure (in igmp.c) for removed ifp on if_detach().
	[itojun, ticket #1341]

sys/netinet/in.c				1.89
sys/netinet/ip_mroute.c				1.72
sys/netinet/ip_mroute.h				1.21

	Cleanup multicast routing stuff on if_detach().
	[itojun, ticket #1342]

sys/netinet/ip_mroute.c				1.73

	Expire mrt if mrt_stall goes empty.  ono@kame
	[itojun, ticket #1345]

usr.sbin/rpc.lockd/lockd_lock.c			1.19 (via patch)

	We can't keep a reference to the value returned by svc_getrpccaller().
	Instead malloc() some memory and copy the sockaddr returned there.
	Fix a bug where after a blocked lock gets granted, the grant message
	would be sent to the wrong machine (or possibly to a completely bogus
	address).

	While there, add a NULL check for the return value of another malloc().
	[bouyer, ticket #1347]

sys/dev/pci/if_fxp_pci.c			1.32-1.33 (via patch)
sys/dev/pci/pcidevs				1.506 (via patch)
sys/dev/pci/pcidevs.h				regenerate
sys/dev/pci/pcidevs_data.h			regenerate

	Add Intel PRO/100M.

	Apparently this driver works fine for Intel PRO/100 VM with 82562EM/EX
	PHY, so make driver match it.
	While here, also make the driver match 'Intel PRO/100 VM with
	82562EM/EX (CNR) PHY', with anticipation it would work fine too
	activate the resume and dynamic standby bug workaround for these;
	might not be necessary (not confirmed to be needed), but better safe
	than sorry.
	[drochner, ticket #1343]

distrib/utils/sysinst/arch/sgimips/md.c		1.4

	Use the real size of the disk, not cyl*head*sect.
	Handle the "use existing" option for partitions (but keep d as the
	boot partition).
	While I'm there use get_real_geom() instead of custom code to get the
	existing disklabel.
	[bouyer, ticket #1348]

share/man/man4/vlan.4				1.21

	Add tl(4), while I'm there add a few others adapters that are known to
	support ETHERCAP_VLAN_MTU.
	[bouyer, ticket #1349]

sys/dev/pci/if_tl.c				1.57

	tl(4) supports ETHERCAP_VLAN_MTU.
	[bouyer, ticket #1350]

sys/dev/pcmcia/if_xi.c				1.28

	The driver puts the adapter in promisc mode to receive multicast
	addresses.  At last set the IFF_PROMISC flag so that the upper layer
	filters frames that are not for us.
	[bouyer, ticket #1351]

sys/arch/alpha/conf/files.alpha			1.160

	As pceb pulls in sio.c and sio_pci.c, is also needs the
	alpha_shared_intr attribute.
	[bouyer, ticket #1352]

sys/dev/ata/ata.c				1.18

	Bump WDCC_IDENTIFY timeout to 3 seconds, as required by some drives.
	Reported by Karl Janmar <karlj@mdstud.chalmers.se> on tech-kern.
	[bouyer, ticket #1353]

sys/dev/ata/wd.c				1.248-1.250 (via patch)
sys/dev/ic/wdcreg.h				1.27

	Add support for the getcache/setcache ioctls.

	Acceptable cache operations are r and rw, not none and w
	Properly initialise the timeout value.

	Fix typo.

	Rename WDSF_EN_WR_CACHE to WDSF_WRITE_CACHE_EN for consistency with
	other subcommands.
	[bouyer, ticket #1354]

sbin/brconfig/brconfig.8			1.9-1.10 (via patch)
sbin/brconfig/brconfig.c			1.5 (via patch)
sys/net/if_bridge.c				1.11 (via patch)
sys/net/if_bridgevar.h				1.3 (via patch)

	Fix 2 bugs:
	- initialise stp when the bridge is turned up, without this stp will
	  keep all interfaces disabled in a sequence like:
	  brconfig bridge0 add if0 add if1 stp if0 stp if1 up
	- s/BRDGSPRI/BRDGSIFPRIO in brconfig.c:cmd_ifpriority()

	Add a command (ifpathcost) to change the stp path cost of the STP path
	cost of an interface. Display the interface path cost with the others
	STP parameters.
	[bouyer, ticket #1355]

sys/net/if_ether.h				1.30
sys/net/if_ethersubr.c				1.106

	Make promiscous mode work on vlans: introduce a new link-layer m_flag
	M_PROMISC. In ether_input(), flag packets comming from an interface in
	promiscous mode which are not for us M_PROMISC instead of droping them.
	Drop M_PROMISC packets which are not passed to vlan_input(). M_PROMISC
	packets passed to vlan_input() will be looped back to ether_input()
	the M_PROMISC flag will be handled appropriately.
	Clear M_PROMISC before giving the packet to bridge, as bridge has its
	own checks for local MAC addresses.
	This also makes bridges on vlan working.
	[bouyer, ticket #1356]

sys/arch/amiga/amiga/amiga_init.c		1.86

	Do not use RELOC() after the MMU is enabled.
	Move the two assignments that were made after the MMU is on, before.

	From Gunther Nikl on port-amiga@. Thanks!
	[aymeric, ticket #1357]

sys/netinet/ip_output.c				1.106-1.107

	After pfil_run_hooks, need to fix hlen as well.

	FreeBSD code somehow crept in.
	[itojun, ticket #1358]

sys/netinet/igmp.c				patch

	Make it compilable.
	[itojun, ticket #1360]

sys/netinet/in.c				patch

	Make it compilable.
	[itojun, ticket #1361]

sys/nfs/nfs_serv.c				1.80

	nfsrv_commit(): return success and don't do anything for requests
	which starts past the end of the file. This can happen when two
	clients are writing to the same file.
	Fixes PR#21696, discussed on tech-net in 2003/05 and 2003/06.
	Issue raised by Chuck Silvers (commit and truncate ops needs to be
	serialised) still unadressed.
	[bouyer, ticket #1373]

sys/net/if_spppsubr.c				1.67 (via patch)

	We should use IFQ_DEQUEUE to get packets from the send queue, not
	IF_DEQUEUE. Hopefully this will fix ALTQ for ISDN and PPPoE interfaces.
	[martin, ticket #1374]

sys/netinet6/esp_input.c			1.30

	Fix missing check for taillen against pkthdr.len.
	[itojun, ticket #1364]

sys/dev/pci/pcidevs				1.542
sys/dev/pci/pcidevs.h				regenerate
sys/dev/pci/pcidevs_data.h			regenerate

	Add some intel devices, from Quentin Garnier in private mail.
	[bouyer, ticket #1365]

sys/netinet/ip_mroute.c				1.75 (via patch)

	Better ip_mrouter_detach().
	[itojun, ticket #1363]

sbin/scsictl/extern.h				1.4
sbin/scsictl/scsi_subr.c			1.6-1.7
sbin/scsictl/scsictl.8				1.14-1.16
sbin/scsictl/scsictl.c				1.16-1.18

	Several changes/updates to scsictl:
	 o Allow specification of logical blocksize
	 o Add 'getcache' and 'setcache' commands
	 o Add 'tur', 'reserve', 'release', 'start', and 'stop' functions
	 o Add an 'immediate' option to do formatting in the background
	 o Fix bug in scsi_command -- value in resets is an int not a
	   bitmask
	 o Fix usage of errx() / warnx() and remove unneeded trailing \n
	[thorpej, ticket #764]

sys/dev/ic/tulip.c				1.116,1.119
sys/dev/ic/tulipvar.h				1.48

	Add a missing DELAY() in the initial GPIO setup for the 21140.
	For the 21142/21143 internal Nway, only advertise/resolve media for
	which we have SROM blocks.  Fixes panic on DEC PWS, which only has
	built-in 10BaseT media.
	[thorpej, ticket #845]

sys/dev/ic/mlx.c				1.18-1.19, 1.21
sys/dev/ic/mlxreg.h				1.4
sys/dev/ic/mlxio.h				1.2-1.3
sys/dev/ic/ld_mlx.c				1.4
sys/dev/ic/mlxvar.h				1.6-1.7
sys/dev/pci/mlx_pci.c				1.7-1.8
sys/dev/eisa/mlx_eisa.c 			1.7-1.8

	Improve stability of the mlx driver.
	 o Better handling of old firmware
	 o Use correct mailbox length, fixes PR#14266
	[ad, ticket #1128]

usr.sbin/mlxctl/cmds.c				1.6
usr.sbin/mlxctl/config.c			1.2
usr.sbin/mlxctl/extern.h			1.3
usr.sbin/mlxctl/main.c				1.5
usr.sbin/mlxctl/mlxctl.8			1.5

	Improve stability of the mlx driver.
	 o Get some info from kernel, not the board
	 o Don't try to do things the firmware can't handle
	[ad, ticket #1129]

sys/dev/ic/dpt.c				1.37
sys/dev/ic/dptreg.h				1.13

	Also save status info in the user command packet.
	[ad, ticket #1130]

usr.bin/pkill/pkill.c				1.5

	Add missing ``-u euid'' option to optstring.  Fixes PR#18827.
	[ad, ticket #1131]

sys/nfs/nfs_node.c				patch

	Apply a stopgap fix preventing a panic for non-NQNFS when
	nfs_reclaim is called on a vnode of an unmounted NFS file
	system.
	[christos, ticket #1171]

sys/dev/pci/if_wi_pci.c				1.21,1.23 (via patch)

	Support the so-called ``PLX'' bridge for wi(4).
	[grant, ticket #1281]

lib/libc/gen/getcwd.c				1.29

	Fix off-by-one error in realpath(). SA#2003-011
	[itojun, ticket #1394]

sys/dev/ic/dpt.c				1.38

	Fix printf format warnings in previous.
	[jmc, ticket #1403]

build.sh					1.113 (via patch)
distrib/cats/instkernel/Makefile		patch
distrib/shark/instkernel/instkernel/Makefile	patch
distrib/walnut/md-kernel/Makefile		patch
sys/arch/cats/conf/Makefile.cats.inc		patch
sys/arch/walnut/conf/Makefile.walnut.inc	patch
tools/host-mkdep/Makefile			1.8 (via patch)

	Fix 2 remaining places items are depending on execute permissions
	coming out from a cvs checkout on scripts.
	[jmc, ticket #1404]

usr.sbin/sup/source/supcmeat.c			1.28
usr.sbin/sup/source/supfilesrv.c		1.26

	Debian bug id "sup 1.8-8, bug #175327" - temporary file symlink race
	[itojun, ticket #1391]

sys/arch/i386/include/param.h			1.55 (via patch)

	Allow redefiniton of KERNBASE.  Because the type of this constant is
	different for locore.S and the rest of the kernel, if you redefine
	it from the default value, you must also define KERNBASE_LOCORE -- this
	is ugly, but so is having the same constant with two different types
	depending where in the kernel it's used...
	[tls, ticket #1387]

sys/arch/i386/i386/pmap.c			1.144

	Fix a sign extension bug that caused pmap_growkernel() to fail with
	>2GB KVA.
	Symptom observed and verified fixed by tls.
	[tls, ticket #1388]

dist/ipf/fils.c					1.22

	Fix IPv6 accounting (PR#18839 by FUKAUMI Naoki).
	[martti, ticket #1410]

sys/netinet/ip_fil.c				1.94

	Fix return-rst for IPv6 (PR#22157 by Peter Postma).
	[martti, ticket #1411]

sys/dev/pci/pci.c				1.81
sys/dev/pci/pci_quirks.c			1.3
sys/dev/pci/pcivar.h				1.59

	- check HDRTYPE early, and ignore if it is not supported (n > 2).
	- defer access to interrupt configuration register, as its existence
	  depends on HDRTYPE.
	- add "skip particular funtion in multifunction device" functionality
	  to quirk table.
	- add GEODE/NS SC1100 quirk (now boots on soekris Net4801).
	[itojun, ticket #1412]

sys/dev/pci/if_sip.c				1.79
sys/dev/pci/if_sipreg.h				1.12

	Accept 1518-byte frames (needed for vlan).  Valtteri Vuorikoski
	[itojun, ticket #1413]

sys/dev/pci/pcidevs				1.563-1.564
sys/dev/pci/pcidevs.h				regenerate
sys/dev/pci/pcidevs_data.h			regenerate

	Add National Semiconductors SC1100 (GEODE) PCI devices.
	[itojun, ticket #1414]

sys/dev/microcode/siop/esiop.ss			1.15
sys/dev/microcode/siop/esiop.out		regenerate

	Properly handle messages that we get at reconnect time (other than
	SIMPLE_Q_TAG). Some drives start sync/wide negotiation at reconnect
	time. Problem reported and fix tested by Andreas Wrede.
	[bouyer, ticket #1399]

sys/dev/pci/if_fxp_pci.c			1.34 (via patch)

	Add support for another Intel Pro/100 variant. From Quentin Garnier in
	private mail.
	[bouyer, ticket #1368]

sys/dev/ata/wd.c				1.256

	Don't use LBA48 if we don't have to (that is, if the request is inside
	the first 128GB). Tested by Andreas Johansson.
	[bouyer, ticket #1370]

sys/dev/pci/pciide.c				1.193 (via patch)

	Add support for ICH5, from Quentin Garnier in private mail.
	[bouyer, ticket #1367]

sys/dev/pci/pciide.c				1.194
sys/dev/pci/pciide_pdc202xx_reg.h		1.10

	Correct setup of General Purpose Register for PDC20265 (Ultra/100) and
	newer. From Andreas Johansson in private mail.
	[bouyer, ticket #1369]

distrib/notes/i386/hardware			1.112 (via patch)
share/man/man4/pciide.4				1.49 (via patch)

	Note ICH5 support.
	[bouyer, ticket #1371]

sys/arch/i386/i386/machdep.c			1.529

	Fix stack location for VM86 processes in the !sigaltstack case.
	I doubt it makes much sense to use the VM's stack for this, but the
	old code was doubtless wrong because it potentially overwrote random
	user memory.
	(It might be a good idea to use the process' pre-vm86()-call stack,
	but atm the infrastructure for this is missing.)
	[drochner, ticket #1415]

sys/arch/sparc/sparc/pmap.c			1.259 (via patch)

	Make sure to flush any user register windows when stealing PMEGs in
	me_alloc() (and SMEGs in region_alloc()). Should fix PR#14180.
	[pk, ticket #1362]

lib/libc/sys/mmap.2				1.32
sys/sys/mman.h					1.32
sys/uvm/uvm_mmap.c				1.72

	PR#21948: Todd Vierling: Implement MAP_TRYFIXED for linux emulation.
	[tv, ticket #1420]

sys/compat/linux/common/linux_ioctl.c		1.33

	PR#21936: Todd Vierling: compat/linux: ioctl 'r' misinterpreted
	[tv, ticket #1421]

sys/compat/ossaudio/ossaudio.c			1.43

	Fix missing call to FILE_UNUSE.  From PR#21946, from Todd Vierling.
	[tv, ticket #1422]

sys/kern/exec_conf.c				1.80
sys/kern/exec_script.c				1.33
sys/sys/exec_script.h				1.8
sys/sys/param.h					1.163

	Grow #! line length -- patch from cgd, fixes PR#20112 from
	Todd Vierling.
	[tv, tickets #1423, #1424]

share/man/man5/dir.5				1.10-1.16

	Bring up to date with getdents(2) reality.
	s/file format/format/
	Nit.
	Don't back-reference getdirentries(3).
	And make that getdents(_2_).
	Remove duplicate defines.
	Use
	.In header.h
	instead of
	.Fd #include \*[Lt]header.h\*[Gt]
	Much easier to read and write, and supported by groff for ages.
	Okayed by ross.
	[wiz, ticket #1372]

distrib/utils/sysinst/run.c			patch

	Stop sysinst from dumping core randomly. This fixes PR#17223.
	[dsl, ticket #1393]

gnu/dist/postfix/src/trivial-rewrite/resolve.c	patch

	Fix remote DoS vulnerability described in CAN-2003-0540.
	[taca, ticket #1396]

sys/dev/pci/ahc_pci.c				1.43 (via patch)

	Make ahc(4) to recognize Adaptec 2915LP Ultra160 SCSI adapter.
	[taca, ticket #1430]

sys/kern/kern_sysctl.c				1.142 (via patch)

	Make proc.curproc.* check more strict.  atatat
	[itojun, ticket #1435]

sys/netinet6/esp_core.c				1.30
sys/netkey/key.c				1.83

	Clear scheduled key before freeing, for safety.
	[itojun, ticket #1383]

sys/netkey/key.c				1.84

	Clear enc/auth key before freeing for safety.
	[itojun, ticket #1384]

distrib/utils/sysinst/target.c			1.40

	Fix realpath vuln, just like SA2003-011.
	[itojun, ticket #1400]

sys/dev/ic/aic7xxx.c				1.103 (via patch)
sys/miscfs/genfs/genfs_vnops.c			1.76
sys/ufs/ufs/ufs_bmap.c				1.22
sys/uvm/uvm_io.c				1.18
sys/uvm/uvm_pager.c				1.60
sys/uvm/uvm_pdaemon.c				1.51

	Correct use of MAXBSIZE where MAXPHYS was intended. This is a necessary
	first step towards per-device MAXPHYS, and has the beneficial side
	effect of allowing clustering to MAXPHYS even on systems that need to
	run with a reduced MAXBSIZE to get more metadata buffers.
	[tls, ticket #1434]

sys/kern/kern_sysctl.c				1.143 (via patch)

	Use pfind() in proc_sysctl() to find the target process instead of a
	home-grown routine.  Remove defcorenamelen, since it's not used
	anywhere.
	[atatat, ticket #1437]

sys/net/if_pppoe.c				1.45

	When trying to (re-)establish a session cope with intermediate output
	failures of the underlying ethernet interface - just keep trying.
	[martin, ticket #1438]

crypto/dist/kame/racoon/crypto_openssl.c	1.10 (via patch)

	xx_keylen has to return bits, not bytes.  KAME-PR-488
	[itojun, ticket #1439]

sys/kern/kern_sysctl.c				1.141

	Avoid oldlenp mixup (in-kernel pointer and userland pointer).
	[itojun, ticket #1441]

etc/rc.d/ipnat					1.10

	ipnat needs to be before SERVERS - one may need NAT for servers to work
	(eg, ntpdate).
	[martti, ticket #1442]

distrib/notes/sparc/whatis			1.15

	pk posted that a longstanding MMU problem with sun4c systems has been
	fixed. Benefits primarily stability and SS1, SS1+, and IPC system
	speed.
	[mbw, ticket #1377]

bin/df/df.c					1.48

	Bump ifree/iused field width.
	[simonb, ticket #1378]

sys/arch/alpha/conf/GENERIC			1.214

	Add options QUOTA; pointed out by Mattias Karlsson
	also move options NFSSERVER after options SOFTDEP
	[keihan, ticket #1385]

usr.sbin/mailwrapper/mailer.conf.5		1.10-1.12
usr.sbin/mailwrapper/mailwrapper.c		1.7

	Actually make additional arguments in mailer.conf useful, and document
	them. Reviewed by perry and wiz.
	[is, ticket #1390]

gnu/usr.bin/gzip/gzexe				1.3
gnu/usr.bin/gzip/znew				1.4

	PR#21819: Jeremy Reed: znew and gzexe create/use unsafe tmp files.
	Replaced with the FreeBSD current version.
	[christos, ticket #1392]

sys/netinet6/in6_ifattach.c			1.55 (via patch)
sys/netinet6/ip6_mroute.c			1.50 (via patch)
sys/netinet6/ip6_mroute.h			1.9

	On interface detach, clear multicast forwarding table.  from kame
	[itojun, ticket #1375]

sys/netinet/tcp_output.c			1.80
sys/netinet/tcp_subr.c				1.128
sys/netinet/tcp_timer.c				1.58
sys/netinet/tcp_var.h				1.91
usr.bin/netstat/inet.c				1.52

	Path MTU discovery blackhole detection. PR#12790.
	[tls, ticket #1445]

crypto/dist/kame/racoon/missing/crypto/sha2/sha2.c 1.5

	bzero() 2nd arg mistake.  found by openbsd guys.  from kame
	[itojun, ticket #1446]

usr.sbin/ypbind/ypbind.c			1.48

	Width needs to be updated before each loop, because svc_maxfd may have
	changed.
	[bouyer, ticket #1449]

libexec/ld.elf_so/rtld.c			1.54 (via patch)
libexec/ld.elf_so/rtld.h			1.40
libexec/ld.elf_so/symbol.c			1.16 (via patch)

	Remove all of the `mark' code. This is responsible for the `undefined
	PLT symbol' errors, probably because the increment gets interrupted
	occasionally by a signal. In general, _rtld_bind() should not modify
	ANY internal state.
	[dmcmahill, ticket #1395]

sys/netinet6/ah_input.c				1.41
sys/netinet6/esp_input.c			1.33

	m_cat may free mbuf on 2nd arg, so m_pkthdr manipulation has to happen
	before m_cat call.  From Julian Coleman via kame.
	[itojun, ticket #1401]

usr.sbin/cron/crontab.c				1.19

	In "crontab -l", suppress the header lines, just as "crontab -e" does.
	OK'd by Christos Zoulas and Paul Vixie.
	Fixes PR#21705.
	[hubertf, ticket #1450]

sys/arch/i386/i386/procfs_machdep.c		patch
sys/arch/i386/include/cpu.h			patch

	Make output of CPU features look nicer on new Pentium IV CPUs.
	[drochner, ticket #1344]

sys/arch/sun68k/stand/tapeboot/boot.c		1.2
sys/arch/sun68k/stand/tapeboot/rawfs.c		1.2
sys/arch/sun68k/stand/libsa/version		1.4

	Added seek support for tape files.  Before, seeking a tape file
	would silently fail, causing loadfile to load file contents into
	the wrong addresses.
	On the sun3/sun3x, MARK_START was incorrectly set too.  Also
	added support for booting a sun2.
	[fredette, ticket #1402]

sys/netinet/tcp_subr.c				1.153

	Initialize ip_hl for ipsec policy lookup.  Fixes PR#22715.
	[itojun, ticket #1452]

share/misc/bsd-family-tree			1.12-1.21

	Add NetBSD 1.5.3.
	Consistent use of 'v'.
	netbsd-1-4 branch is EOL'ed.
	Sync w/ FreeBSD v1.73 (add FreeBSD 5.1 and BSD/OS 5.0 to the family
	tree).
	[cjep, ticket #1451]

sbin/disklabel/disklabel.5			1.16-1.18
sys/sys/disklabel.h				1.74,1.76

	Add DTYPE_LD to match disklabel.h.
	Add DTYPE_JFS2 and FS_JFS2 for IBM Journaled File System
	this is to match FreeBSD's disklabel.h revision 1.73.
	FreeBSD change was requested by Hiten Pandya <hiten@uk.FreeBSD.org>
	Add a type for CGD.
	[tv, ticket #1454]

usr.sbin/rpc.yppasswdd/rpc.yppasswdd.8		1.13-1.14

	Added a note about pwd_mkdb when using the -d switch.
	[martti, tickets #1433, #1436]

sys/arch/sun3/include/param.h			patch

	Apply patch from Matthias Scheler to fix the sun3 build after the
	pullup of ticket 1434 broke it.
	[tron, ticket #1453]

sys/arch/i386/conf/DISKLESS
sys/arch/i386/conf/GENERIC
sys/arch/i386/conf/GENERIC_LAPTOP    
sys/arch/i386/conf/GENERIC_PS2TINY
sys/arch/i386/conf/INSTALL
sys/arch/i386/conf/INSTALL_LAPTOP
sys/arch/i386/conf/INSTALL_SMALL
sys/arch/i386/conf/NET4501

	Enable USERCONF.
	[jmmv, ticket #1389]

sys/netinet6/in6_pcb.c				1.55 (via patch)

	in6_pcbrtentry() now returns IPv4 rtentry if in6pcb is connected to
	IPv4 mapped address.  Fixes PR#22431 from Andreas Gustafsson.
	[itojun, ticket #1405]

sys/net/if.c					1.128-1.130 (via patch)

	Correct if_clone_lookup().  Based on diff from Quentin Garnier.
	Fix INT_MAX check in if_clone_lookup.
	Correct number range handling.  David Young.
	[itojun, ticket #1406]

sys/dev/pci/pcidevs				1.543

	Add entries for Intel 865PE chipset.
	[tron, ticket #1416]

sys/dev/pci/pcidevs				1.544
sys/dev/pci/pcidevs.h				regenerate
sys/dev/pci/pcidevs_data.h			regenerate

	Correct names and descriptions for i875 entries to be consistent with
	other Intel chipsets.
	[tron, ticket #1417]

sys/arch/i386/pci/pchb_rnd.c			1.13

	Add hardware random number generator support for Intel 865 and
	875P chipsets.
	[tron, ticket #1418]

sys/arch/x86_64/compile/.keep_me		delete
sys/arch/x86_64/Makefile			delete
sys/arch/x86_64/conf/Makefile.x86_64		delete
sys/arch/x86_64/conf/SIMICS			delete
sys/arch/x86_64/conf/files.x86_64		delete
sys/arch/x86_64/conf/kern.ldscript		delete
sys/arch/x86_64/conf/std.x86_64			delete
sys/arch/x86_64/include/Makefile		delete
sys/arch/x86_64/include/ansi.h			delete
sys/arch/x86_64/include/aout_machdep.h		delete
sys/arch/x86_64/include/asm.h			delete
sys/arch/x86_64/include/bios32.h		delete
sys/arch/x86_64/include/bootinfo.h		delete
sys/arch/x86_64/include/bswap.h			delete
sys/arch/x86_64/include/bus.h			delete
sys/arch/x86_64/include/byte_swap.h		delete
sys/arch/x86_64/include/cdefs.h			delete
sys/arch/x86_64/include/conf.h			delete
sys/arch/x86_64/include/cpu.h			delete
sys/arch/x86_64/include/cpufunc.h		delete
sys/arch/x86_64/include/disklabel.h		delete
sys/arch/x86_64/include/elf_machdep.h		delete
sys/arch/x86_64/include/endian.h		delete
sys/arch/x86_64/include/endian_machdep.h	delete
sys/arch/x86_64/include/float.h			delete
sys/arch/x86_64/include/fpu.h			delete
sys/arch/x86_64/include/frame.h			delete
sys/arch/x86_64/include/frameasm.h		delete
sys/arch/x86_64/include/gdt.h			delete
sys/arch/x86_64/include/ieee.h			delete
sys/arch/x86_64/include/ieeefp.h		delete
sys/arch/x86_64/include/int_const.h		delete
sys/arch/x86_64/include/int_fmtio.h		delete
sys/arch/x86_64/include/int_limits.h		delete
sys/arch/x86_64/include/int_mwgwtypes.h		delete
sys/arch/x86_64/include/int_types.h		delete
sys/arch/x86_64/include/intr.h			delete
sys/arch/x86_64/include/isa_machdep.h		delete
sys/arch/x86_64/include/kcore.h			delete
sys/arch/x86_64/include/limits.h		delete
sys/arch/x86_64/include/loadfile_machdep.h	delete
sys/arch/x86_64/include/lock.h			delete
sys/arch/x86_64/include/math.h			delete
sys/arch/x86_64/include/netbsd32_machdep.h	delete
sys/arch/x86_64/include/param.h			delete
sys/arch/x86_64/include/pcb.h			delete
sys/arch/x86_64/include/pccons.h		delete
sys/arch/x86_64/include/pci_machdep.h		delete
sys/arch/x86_64/include/pio.h			delete
sys/arch/x86_64/include/pmap.h			delete
sys/arch/x86_64/include/pmc.h			delete
sys/arch/x86_64/include/proc.h			delete
sys/arch/x86_64/include/profile.h		delete
sys/arch/x86_64/include/psl.h			delete
sys/arch/x86_64/include/pte.h			delete
sys/arch/x86_64/include/ptrace.h		delete
sys/arch/x86_64/include/reg.h			delete
sys/arch/x86_64/include/rnd.h			delete
sys/arch/x86_64/include/segments.h		delete
sys/arch/x86_64/include/setjmp.h		delete
sys/arch/x86_64/include/signal.h		delete
sys/arch/x86_64/include/specialreg.h		delete
sys/arch/x86_64/include/stdarg.h		delete
sys/arch/x86_64/include/sysarch.h		delete
sys/arch/x86_64/include/trap.h			delete
sys/arch/x86_64/include/tss.h			delete
sys/arch/x86_64/include/types.h			delete
sys/arch/x86_64/include/userret.h		delete
sys/arch/x86_64/include/varargs.h		delete
sys/arch/x86_64/include/vmparam.h		delete
sys/arch/x86_64/isa/clock.c			delete
sys/arch/x86_64/isa/isa_machdep.c		delete
sys/arch/x86_64/isa/pccons.c			delete
sys/arch/x86_64/pci/pchbvar.h			delete
sys/arch/x86_64/pci/pchb.c			delete
sys/arch/x86_64/pci/pci_machdep.c		delete
sys/arch/x86_64/pci/pcib.c			delete
sys/arch/x86_64/pci/pciide_machdep.c		delete
sys/arch/x86_64/x86_64/autoconf.c		delete
sys/arch/x86_64/x86_64/bios32.c			delete
sys/arch/x86_64/x86_64/bus_machdep.c		delete
sys/arch/x86_64/x86_64/conf.c			delete
sys/arch/x86_64/x86_64/consinit.c		delete
sys/arch/x86_64/x86_64/copy.S			delete
sys/arch/x86_64/x86_64/disksubr.c		delete
sys/arch/x86_64/x86_64/fpu.c			delete
sys/arch/x86_64/x86_64/gdt.c			delete
sys/arch/x86_64/x86_64/genassym.cf		delete
sys/arch/x86_64/x86_64/locore.S			delete
sys/arch/x86_64/x86_64/machdep.c		delete
sys/arch/x86_64/x86_64/mainbus.c		delete
sys/arch/x86_64/x86_64/md_root.c		delete
sys/arch/x86_64/x86_64/mem.c			delete
sys/arch/x86_64/x86_64/microtime.S		delete
sys/arch/x86_64/x86_64/netbsd32_machdep.c	delete
sys/arch/x86_64/x86_64/netbsd32_sigcode.S	delete
sys/arch/x86_64/x86_64/netbsd32_syscall.c	delete
sys/arch/x86_64/x86_64/pmap.c			delete
sys/arch/x86_64/x86_64/process_machdep.c	delete
sys/arch/x86_64/x86_64/syscall.c		delete
sys/arch/x86_64/x86_64/procfs_machdep.c		delete
sys/arch/x86_64/x86_64/sys_machdep.c		delete
sys/arch/x86_64/x86_64/trap.c			delete
sys/arch/x86_64/x86_64/vector.S			delete
sys/arch/x86_64/x86_64/vm_machdep.c		delete

	x86_64 was renamed to amd64 in -current, and since x86_64 is not
	supported on the netbsd-1-6 branch, there is no sense in keeping this
	obsolete code on the branch.
	[tron, ticket #1456]

sys/dev/ic/ld_icp.c				1.2

	Remove an unnecessary printf argument.
	[martti, ticket #1458]

share/man/man4/daic.4				1.8
share/man/man4/ippp.4				1.3
share/man/man4/irip.4				1.2
share/man/man4/isdn.4				1.2
share/man/man4/isdnbchan.4			1.2
share/man/man4/isdnctl.4			1.2
share/man/man4/isdntel.4			1.2
share/man/man4/isdntrc.4			1.2
share/man/man4/isic.4				1.11

	Uppercase ISDN and some unrelated fixes ispell stumbled over.
	[grant, ticket #1459]

sys/crypto/blowfish/bf_cbc.c			1.6-1.8
sys/crypto/des/des_cbc.c			1.6

	Re-point include file for kernel use.
	Include <sys/types.h> to allow compilation to occur.
	Modified to avoid compiler warnings.  The specific warning related
	to const BF_KEY * vars, and I chose to ``fix'' it in this file
	rather than elsewhere in the framework because, although the other
	fix was more appropriate, nothing seems to use the code in this
	file and hence the risk of disrupting other people was lower.  In
	the future, the more appropriate change would be to change blowfish.h
	and bf_enc.c to have functions with signatures:
	BF_encrypt(BF_LONG *, const BF_KEY *);
	BF_decrypt(BF_LONG *, const BF_KEY *);
	Added an include of sys/types.h to get u_int32_t and so on.
	[tv, ticket #1455]

crypto/dist/ssh/buffer.c			1.3
crypto/dist/ssh/version.h			1.29 (via patch)

	Do not record expanded size before attempting to reallocate the
	associated memory. From OpenBSD, via FreeBSD.

	Crank __NETBSDSSH_VERSION for buffer.c fix.
	[elric/tron, ticket #1471]

crypto/dist/ssh/buffer.c			1.3-1.4
crypto/dist/ssh/channels.c			1.30
crypto/dist/ssh/deattack.c			1.13
crypto/dist/ssh/misc.c				1.12-1.14
crypto/dist/ssh/session.c			1.35
crypto/dist/ssh/version.h			1.31-1.32 (via patch)

	Apply more malloc fixes from OpenSSH 3.7 -> 3.7.1.
	[christos, no ticket]

gnu/dist/sendmail/sendmail/parseaddr.c		1.13
gnu/dist/sendmail/sendmail/version.c		1.14 (via patch)

	Fix prescan() bug (potentially remotely exploitable), CAN-2003-0694.
	Bump version number after parse8.359.2.8 patch has been applied.
	SA#2003-016
	[tron, ticket #1473]

crypto/dist/ssh/ssh-agent.c			1.23

	Fix typo.  markus@openbsd
	[itojun, ticket #1476]

crypto/dist/ssh/buffer.c			1.5

	Protect against double free; #660;  zardoz at users.sf.net
	from openbsd
	[christos, ticket #1477]

distrib/sets/lists/base/mi			1.424
distrib/sets/lists/man/mi			1.602
usr.sbin/pkg_install/add/add.h			1.6
usr.sbin/pkg_install/add/extract.c		1.30-1.31
usr.sbin/pkg_install/add/futil.c		1.10-1.12
usr.sbin/pkg_install/add/main.c			1.28-1.31
usr.sbin/pkg_install/add/perform.c		1.78-1.87
usr.sbin/pkg_install/add/pkg_add.1		1.39-1.45
usr.sbin/pkg_install/add/verify.c		1.3
usr.sbin/pkg_install/add/verify.h		1.3-1.1
usr.sbin/pkg_install/lib/Makefile		1.20-1.21
usr.sbin/pkg_install/lib/defs.h			1.20-1.1
usr.sbin/pkg_install/lib/exec.c			1.9
usr.sbin/pkg_install/lib/file.c			1.59-1.63
usr.sbin/pkg_install/lib/ftpio.c		1.50-1.54
usr.sbin/pkg_install/lib/global.c		1.50-1.6
usr.sbin/pkg_install/lib/lib.h			1.49-1.57
usr.sbin/pkg_install/lib/lpkg.c			1.5
usr.sbin/pkg_install/lib/path.c			1.6
usr.sbin/pkg_install/lib/path.h			1.4
usr.sbin/pkg_install/lib/pen.c			1.24-1.31
usr.sbin/pkg_install/lib/pkgdb.c		1.14-1.18
usr.sbin/pkg_install/lib/plist.c		1.38-1.40
usr.sbin/pkg_install/lib/str.c			1.43-1.45
usr.sbin/pkg_install/lib/version.c		1.43-1.1
usr.sbin/pkg_install/lib/version.h		1.22-1.34
usr.sbin/pkg_install/lib/fexec.c		1.1-1.4
usr.sbin/pkg_install/Makefile			1.6
usr.sbin/pkg_install/Makefile.inc		1.24
usr.sbin/pkg_install/README			1.7-1.8
usr.sbin/pkg_install/tkpkg			1.7-1.5
usr.sbin/pkg_install/admin/Makefile		1.7-1.1
usr.sbin/pkg_install/admin/README		1.7-1.1
usr.sbin/pkg_install/admin/main.c		1.33-1.42
usr.sbin/pkg_install/admin/pkg_admin.1		1.21-1.26
usr.sbin/pkg_install/create/Makefile		1.21-1.4
usr.sbin/pkg_install/create/create.h		1.18
usr.sbin/pkg_install/create/main.c		1.24-1.26
usr.sbin/pkg_install/create/perform.c		1.36-1.38
usr.sbin/pkg_install/create/pkg_create.1	1.36-1.39
usr.sbin/pkg_install/create/pl.c		1.26-1.28
usr.sbin/pkg_install/delete/Makefile		1.26-1.4
usr.sbin/pkg_install/delete/delete.h		1.7
usr.sbin/pkg_install/delete/main.c		1.25-1.29
usr.sbin/pkg_install/delete/perform.c		1.41-1.47
usr.sbin/pkg_install/delete/pkg_delete.1	1.28-1.31
usr.sbin/pkg_install/info/Makefile		1.28-1.4
usr.sbin/pkg_install/info/info.h		1.13-1.14
usr.sbin/pkg_install/info/main.c		1.34-1.37
usr.sbin/pkg_install/info/perform.c		1.44-1.49
usr.sbin/pkg_install/info/pkg_info.1		1.33-1.34
usr.sbin/pkg_install/info/show.c		1.22-1.27
usr.sbin/pkg_install/view/Makefile		1.1
usr.sbin/pkg_install/view/linkfarm.1		1.1-1.5
usr.sbin/pkg_install/view/linkfarm.sh		1.1-1.3
usr.sbin/pkg_install/view/pkg_view.1		1.1-1.8
usr.sbin/pkg_install/view/pkg_view.sh		1.1-1.4

	Update the package tools to version 20030918.
	[jlam, ticket #1457]

gnu/dist/toolchain/gcc/config/sparc/netbsd64.h	1.10

	Add a missing backslash.
	Patch supplied in PR#20062 from Jed Davis.
	[martin, ticket #1480]

sys/ufs/ffs/ffs_vfsops.c			1.121 (via patch)

	Make sure to not get flags which are for internal use only from the
	on-disk superblock.
	Proposed in http://mail-index.netbsd.org/tech-kern/2003/09/06/0005.html
	[bouyer, ticket #1464]

bin/cat/cat.1					1.30

	Add missing "."
	[junyoung, ticket #1469]

lib/libc/string/strcasecmp.c			1.15

	Use unsigned char rather than u_char.
	[junyoung, ticket #1470]

sys/dev/ic/wdc.c				1.132

	Fix a typo that prevented pre-ata drives from working since 1999.
	[bouyer, ticket #1481]

gnu/dist/cvs/AUTHORS				1.1.1.1 (new)
gnu/dist/cvs/BUGS				1.1.1.1-1.1.1.1
gnu/dist/cvs/COPYING				1.1.1.1-1.1.1.1
gnu/dist/cvs/COPYING.LIB			1.1.1.1-1.1.1.1
gnu/dist/cvs/ChangeLog				1.1.1.2-1.1.1.5
gnu/dist/cvs/ChangeLog.zoo			1.1.1.2-1.1.1.1
gnu/dist/cvs/DEVEL-CVS				1.1.1.2-1.1.1.3
gnu/dist/cvs/FAQ				1.1.1.2-1.1.1.3
gnu/dist/cvs/HACKING				1.1.1.2-1.1.1.3
gnu/dist/cvs/INSTALL				1.1.1.1-1.1.1.3
gnu/dist/cvs/MINOR-BUGS				1.1.1.1-1.1.1.1
gnu/dist/cvs/Makefile.am			1.1.1.2 (new)
gnu/dist/cvs/Makefile.in			1.1.1.2-1.1.1.4
gnu/dist/cvs/NEWS				1.1.1.2-1.1.1.5
gnu/dist/cvs/PROJECTS				1.1.1.2-1.1.1.1
gnu/dist/cvs/README				1.1.1.2-1.1.1.3
gnu/dist/cvs/README.VMS				1.1.1.2-1.1.1.1
gnu/dist/cvs/TESTS				1.1.1.2-1.1.1.3
gnu/dist/cvs/TODO				1.1.1.2-1.1.1.4
gnu/dist/cvs/acinclude.m4			1.1.1.2 (new)
gnu/dist/cvs/aclocal.m4				1.1.1.2 (new)
gnu/dist/cvs/compile				1.1.1.1 (new)
gnu/dist/cvs/config.h.in			1.1.1.2-1.1.1.4
gnu/dist/cvs/configure				1.1.1.2-1.1.1.5
gnu/dist/cvs/configure.in			1.1.1.2-1.1.1.5
gnu/dist/cvs/contrib/ChangeLog			1.1.1.2-1.1.1.4
gnu/dist/cvs/contrib/Makefile.am		1.1.1.2 (new)
gnu/dist/cvs/contrib/Makefile.in		1.1.1.2-1.1.1.4
gnu/dist/cvs/contrib/README			1.1.1.1-1.1.1.2
gnu/dist/cvs/contrib/check_cvs.in		1.1.1.1 (new)
gnu/dist/cvs/contrib/clmerge.in			1.1.1.1 (new)
gnu/dist/cvs/contrib/cln_hist.in		1.1.1.1 (new)
gnu/dist/cvs/contrib/commit_prep.in		1.1.1.1 (new)
gnu/dist/cvs/contrib/cvs2vendor.sh		1.1.1.1-1.1.1.1
gnu/dist/cvs/contrib/cvs_acls.in		1.1.1.2 (new)
gnu/dist/cvs/contrib/cvscheck.man		1.1.1.1-1.1.1.1
gnu/dist/cvs/contrib/cvscheck.sh		1.1.1.1-1.1.1.1
gnu/dist/cvs/contrib/cvshelp.man		1.1.1.1-1.1.1.1
gnu/dist/cvs/contrib/debug_check_log.sh		1.1.1.2 (new)
gnu/dist/cvs/contrib/descend.man		1.1.1.1-1.1.1.1
gnu/dist/cvs/contrib/descend.sh			1.1.1.1-1.1.1.1
gnu/dist/cvs/contrib/dirfns.shar		1.1.1.1-1.1.1.1
gnu/dist/cvs/contrib/intro.doc			1.1.1.1-1.1.1.1
gnu/dist/cvs/contrib/log.in			1.1.1.1 (new)
gnu/dist/cvs/contrib/log_accum.in		1.1.1.1 (new)
gnu/dist/cvs/contrib/mfpipe.in			1.1.1.1 (new)
gnu/dist/cvs/contrib/pvcs2rcs.in		1.1.1.1 (new)
gnu/dist/cvs/contrib/rcs-to-cvs.sh		1.1.1.1-1.1.1.1
gnu/dist/cvs/contrib/rcs2log.sh			1.1.1.2-1.1.1.3
gnu/dist/cvs/contrib/rcs2sccs.sh		1.1.1.1-1.1.1.2
gnu/dist/cvs/contrib/rcslock.in			1.1.1.1 (new)
gnu/dist/cvs/contrib/sccs2rcs.in		1.1.1.1 (new)
gnu/dist/cvs/cvs-format.el			1.1.1.2-1.1.1.1
gnu/dist/cvs/cvs.spec.in			1.1.1.2 (new)
gnu/dist/cvs/cvs2netbsd				1.1-1.3
gnu/dist/cvs/depcomp				1.1.1.1 (new)
gnu/dist/cvs/diff/ChangeLog			1.1.1.2-1.1.1.4
gnu/dist/cvs/diff/Makefile.am			1.1.1.1 (new)
gnu/dist/cvs/diff/Makefile.in			1.1.1.1-1.1.1.3
gnu/dist/cvs/diff/analyze.c			1.1.1.1-1.1.1.2
gnu/dist/cvs/diff/build_diff.com		1.1.1.1-1.1.1.2
gnu/dist/cvs/diff/cmpbuf.c			1.1.1.1-1.1.1.1
gnu/dist/cvs/diff/cmpbuf.h			1.1.1.1-1.1.1.1
gnu/dist/cvs/diff/context.c			1.1.1.1-1.1.1.1
gnu/dist/cvs/diff/diagmeet.note			1.1.1.1-1.1.1.1
gnu/dist/cvs/diff/diff.c			1.1.1.1-1.1.1.3
gnu/dist/cvs/diff/diff.h			1.1.1.1-1.1.1.1
gnu/dist/cvs/diff/diff3.c			1.1.1.2-1.1.1.3
gnu/dist/cvs/diff/diffrun.h			1.1.1.2-1.1.1.1
gnu/dist/cvs/diff/dir.c				1.1.1.1-1.1.1.2
gnu/dist/cvs/diff/ed.c				1.1.1.1-1.1.1.1
gnu/dist/cvs/diff/ifdef.c			1.1.1.1-1.1.1.1
gnu/dist/cvs/diff/io.c				1.1.1.1-1.1.1.2
gnu/dist/cvs/diff/libdiff.dsp			1.1.1.1-1.1.1.1
gnu/dist/cvs/diff/normal.c			1.1.1.1-1.1.1.1
gnu/dist/cvs/diff/side.c			1.1.1.1-1.1.1.1
gnu/dist/cvs/diff/system.h			1.1.1.1-1.1.1.3
gnu/dist/cvs/diff/util.c			1.1.1.1-1.1.1.2
gnu/dist/cvs/diff/version.c			1.1.1.1-1.1.1.1
gnu/dist/cvs/doc/ChangeLog			1.1.1.2-1.1.1.5
gnu/dist/cvs/doc/ChangeLog.fsf			1.1.1.2-1.1.1.1
gnu/dist/cvs/doc/Makefile.am			1.1.1.1 (new)
gnu/dist/cvs/doc/Makefile.in			1.1.1.2-1.1.1.4
gnu/dist/cvs/doc/RCSFILES			1.1.1.2-1.1.1.1
gnu/dist/cvs/doc/cvs-paper.ms			1.1.1.2-1.1.1.1
gnu/dist/cvs/doc/cvs.texinfo			1.4-1.5
gnu/dist/cvs/doc/cvsclient.texi			1.1.1.2-1.1.1.3
gnu/dist/cvs/doc/mdate-sh			1.1.1.1 (new)
gnu/dist/cvs/doc/stamp-1			1.1.1.3 (new)
gnu/dist/cvs/doc/stamp-vti			1.1.1.3 (new)
gnu/dist/cvs/doc/texinfo.tex			1.1.1.1 (new)
gnu/dist/cvs/doc/version-client.texi		1.1.1.3 (new)
gnu/dist/cvs/doc/version.texi			1.1.1.3 (new)
gnu/dist/cvs/install-sh				1.1.1.2-1.1.1.3
gnu/dist/cvs/lib/ChangeLog			1.1.1.2-1.1.1.4
gnu/dist/cvs/lib/ChangeLog.fsf			1.1.1.2-1.1.1.1
gnu/dist/cvs/lib/Makefile.am			1.1.1.2 (new)
gnu/dist/cvs/lib/Makefile.in			1.1.1.1-1.1.1.3
gnu/dist/cvs/lib/argmatch.c			1.1.1.1-1.1.1.1
gnu/dist/cvs/lib/build_lib.com			1.1.1.1-1.1.1.2
gnu/dist/cvs/lib/dup2.c				1.1.1.1-1.1.1.1
gnu/dist/cvs/lib/fncase.c			1.1.1.1-1.1.1.1
gnu/dist/cvs/lib/fnmatch.c			1.1.1.1-1.1.1.2
gnu/dist/cvs/lib/fnmatch.h.in			1.1.1.1 (new)
gnu/dist/cvs/lib/ftruncate.c			1.1.1.1-1.1.1.1
gnu/dist/cvs/lib/getdate.y			1.1.1.2-1.1.1.4
gnu/dist/cvs/lib/gethostname.c			1.1.1.1 (new)
gnu/dist/cvs/lib/getline.c			1.1.1.2-1.1.1.4
gnu/dist/cvs/lib/getline.h			1.1.1.2-1.1.1.3
gnu/dist/cvs/lib/getopt.c			1.1.1.2-1.1.1.1
gnu/dist/cvs/lib/getopt.h			1.1.1.1-1.1.1.2
gnu/dist/cvs/lib/getopt1.c			1.1.1.1-1.1.1.1
gnu/dist/cvs/lib/getpagesize.h			1.1.1.1 (new)
gnu/dist/cvs/lib/md5.c				1.1.1.1-1.1.1.1
gnu/dist/cvs/lib/md5.h				1.1.1.1-1.1.1.1
gnu/dist/cvs/lib/memmove.c			1.1.1.1-1.1.1.1
gnu/dist/cvs/lib/mkdir.c			1.1.1.1-1.1.1.1
gnu/dist/cvs/lib/regex.c			1.1.1.2-1.1.1.3
gnu/dist/cvs/lib/regex.h			1.1.1.2-1.1.1.3
gnu/dist/cvs/lib/rename.c			1.1.1.1-1.1.1.2
gnu/dist/cvs/lib/savecwd.c			1.1.1.1-1.1.1.2
gnu/dist/cvs/lib/savecwd.h			1.1.1.1-1.1.1.1
gnu/dist/cvs/lib/sighandle.c			1.1.1.1-1.1.1.2
gnu/dist/cvs/lib/strerror.c			1.1.1.1-1.1.1.2
gnu/dist/cvs/lib/stripslash.c			1.1.1.1-1.1.1.1
gnu/dist/cvs/lib/strstr.c			1.1.1.1-1.1.1.1
gnu/dist/cvs/lib/strtoul.c			1.1.1.1-1.1.1.1
gnu/dist/cvs/lib/system.h			1.1.1.1-1.1.1.3
gnu/dist/cvs/lib/valloc.c			1.1.1.1-1.1.1.2
gnu/dist/cvs/lib/wait.h				1.1.1.1-1.1.1.1
gnu/dist/cvs/lib/waitpid.c			1.1.1.1-1.1.1.1
gnu/dist/cvs/lib/xgetwd.c			1.1.1.1-1.1.1.1
gnu/dist/cvs/lib/xgssapi.h			1.1.1.1 (new)
gnu/dist/cvs/lib/xselect.h			1.1.1.1 (new)
gnu/dist/cvs/lib/xtime.h			1.1.1.1 (new)
gnu/dist/cvs/lib/yesno.c			1.1.1.1-1.1.1.1
gnu/dist/cvs/man/ChangeLog			1.1.1.2-1.1.1.4
gnu/dist/cvs/man/Makefile.am			1.1.1.1 (new)
gnu/dist/cvs/man/Makefile.in			1.1.1.2-1.1.1.4
gnu/dist/cvs/man/cvs.1				1.5-1.9
gnu/dist/cvs/man/cvs.5				1.1.1.1-1.1.1.2
gnu/dist/cvs/man/cvsbug.8			1.1.1.1-1.1.1.2
gnu/dist/cvs/mdate-sh				1.1.1.1 (new)
gnu/dist/cvs/missing				1.1.1.1 (new)
gnu/dist/cvs/mkinstalldirs			1.1.1.2-1.2
gnu/dist/cvs/noautomake.sh			1.1.1.2 (new)
gnu/dist/cvs/src/ChangeLog			1.1.1.2-1.1.1.5
gnu/dist/cvs/src/ChangeLog-9194			1.1.1.2-1.1.1.1
gnu/dist/cvs/src/ChangeLog-9395			1.1.1.2-1.1.1.1
gnu/dist/cvs/src/ChangeLog-96			1.1.1.2-1.1.1.1
gnu/dist/cvs/src/ChangeLog-97			1.1.1.2-1.1.1.1
gnu/dist/cvs/src/Makefile.am			1.1.1.2 (new)
gnu/dist/cvs/src/Makefile.in			1.1.1.2-1.1.1.4
gnu/dist/cvs/src/add.c				1.1.1.2-1.1.1.4
gnu/dist/cvs/src/admin.c			1.1.1.2-1.1.1.4
gnu/dist/cvs/src/annotate.c			1.1.1.2 (new)
gnu/dist/cvs/src/buffer.c			1.1.1.1-1.3
gnu/dist/cvs/src/buffer.h			1.1.1.1-1.2
gnu/dist/cvs/src/build_src.com			1.1.1.1-1.1.1.2
gnu/dist/cvs/src/checkin.c			1.1.1.1-1.1.1.1
gnu/dist/cvs/src/checkout.c			1.3-1.5
gnu/dist/cvs/src/classify.c			1.1.1.1-1.1.1.3
gnu/dist/cvs/src/client.c			1.6-1.16
gnu/dist/cvs/src/client.h			1.1.1.1-1.1.1.2
gnu/dist/cvs/src/commit.c			1.3-1.9
gnu/dist/cvs/src/create_adm.c			1.1.1.2-1.1.1.4
gnu/dist/cvs/src/cvs.h				1.4-1.9
gnu/dist/cvs/src/cvsbug.in			1.1.1.2 (new)
gnu/dist/cvs/src/cvsrc.c			1.1.1.1-1.1.1.2
gnu/dist/cvs/src/diff.c				1.1.1.1-1.3
gnu/dist/cvs/src/edit.c				1.1.1.2-1.3
gnu/dist/cvs/src/edit.h				1.1.1.2-1.1.1.1
gnu/dist/cvs/src/entries.c			1.1.1.1-1.5
gnu/dist/cvs/src/error.c			1.1.1.2-1.1.1.3
gnu/dist/cvs/src/error.h			1.1.1.1-1.1.1.2
gnu/dist/cvs/src/expand_path.c			1.1.1.1-1.1.1.2
gnu/dist/cvs/src/fileattr.c			1.1.1.1-1.1.1.2
gnu/dist/cvs/src/fileattr.h			1.1.1.1-1.1.1.1
gnu/dist/cvs/src/filesubr.c			1.1.1.2-1.2
gnu/dist/cvs/src/find_names.c			1.1.1.1-1.2
gnu/dist/cvs/src/hardlink.c			1.1.1.1-1.1.1.1
gnu/dist/cvs/src/hardlink.h			1.1.1.1-1.1.1.1
gnu/dist/cvs/src/hash.c				1.1.1.1-1.1.1.2
gnu/dist/cvs/src/hash.h				1.1.1.1-1.1.1.2
gnu/dist/cvs/src/history.c			1.3-1.5
gnu/dist/cvs/src/ignore.c			1.1.1.2-1.4
gnu/dist/cvs/src/import.c			1.1.1.2-1.1.1.4
gnu/dist/cvs/src/lock.c				1.3-1.7
gnu/dist/cvs/src/log.c				1.1.1.2-1.1.1.4
gnu/dist/cvs/src/login.c			1.1.1.2-1.1.1.4
gnu/dist/cvs/src/logmsg.c			1.3-1.7
gnu/dist/cvs/src/main.c				1.4-1.7
gnu/dist/cvs/src/mkmodules.c			1.3-1.4
gnu/dist/cvs/src/modules.c			1.1.1.2-1.2
gnu/dist/cvs/src/myndbm.c			1.1.1.2-1.1.1.4
gnu/dist/cvs/src/myndbm.h			1.1.1.2-1.1.1.1
gnu/dist/cvs/src/no_diff.c			1.1.1.2-1.1.1.1
gnu/dist/cvs/src/parseinfo.c			1.3-1.5
gnu/dist/cvs/src/patch.c			1.1.1.2-1.1.1.4
gnu/dist/cvs/src/rcs.c				1.6-1.10
gnu/dist/cvs/src/rcs.h				1.1.1.2-1.1.1.3
gnu/dist/cvs/src/rcscmds.c			1.1.1.1-1.1.1.3
gnu/dist/cvs/src/recurse.c			1.3-1.6
gnu/dist/cvs/src/release.c			1.1.1.1-1.1.1.2
gnu/dist/cvs/src/remove.c			1.1.1.2-1.3
gnu/dist/cvs/src/repos.c			1.1.1.2-1.3
gnu/dist/cvs/src/root.c				1.1.1.2-1.3
gnu/dist/cvs/src/root.h				1.1.1.1 (new)
gnu/dist/cvs/src/run.c				1.1.1.2-1.2
gnu/dist/cvs/src/sanity.sh			1.1.1.2-1.1.1.4
gnu/dist/cvs/src/scramble.c			1.1.1.1-1.1.1.2
gnu/dist/cvs/src/server.c			1.6.2.1-1.11
gnu/dist/cvs/src/server.h			1.1.1.1-1.1.1.2
gnu/dist/cvs/src/status.c			1.1.1.1-1.1.1.3
gnu/dist/cvs/src/subr.c				1.1.1.2-1.2
gnu/dist/cvs/src/tag.c				1.3-1.5
gnu/dist/cvs/src/update.c			1.4-1.8
gnu/dist/cvs/src/update.h			1.1.1.1-1.1.1.2
gnu/dist/cvs/src/vers_ts.c			1.1.1.2-1.1.1.4
gnu/dist/cvs/src/version.c			1.1.1.2-1.1.1.4
gnu/dist/cvs/src/watch.c			1.1.1.2-1.1.1.4
gnu/dist/cvs/src/watch.h			1.1.1.2-1.1.1.1
gnu/dist/cvs/src/wrapper.c			1.1.1.1-1.1.1.3
gnu/dist/cvs/src/zlib.c				1.1.1.2-1.1.1.4
gnu/usr.bin/cvs/Makefile.inc			patch
gnu/usr.bin/cvs/cvs/Makefile			patch
gnu/usr.bin/cvs/cvsbug/Makefile			1.4-1.5
gnu/usr.bin/cvs/include/config.h		1.3-1.7

	Update "cvs" to version 1.11.5 taken from the HEAD branch.
	[christos, ticket #1484]

sys/arch/mips/mips/cpu_exec.c			1.33
sys/arch/sh3/sh3/coff_exec.c			1.16
sys/compat/common/compat_exec.c			1.6
sys/compat/ibcs2/ibcs2_exec_coff.c		1.4
sys/compat/linux/common/linux_exec_aout.c	1.49
sys/compat/m68k4k/m68k4k_exec.c			1.9
sys/compat/netbsd32/netbsd32_exec_aout.c	1.9
sys/compat/sunos/sunos_exec_aout.c		1.5
sys/kern/exec_aout.c				1.24
sys/kern/exec_elf32.c				1.74
sys/kern/exec_macho.c				1.7

	Remove trailing \n in panic().
	[junyoung, ticket #1466]

sys/netinet/if_arp.c				1.94 (via patch)

	On arplookup() failure, nuke cloned route - otherwise outsider could
	use massive number of bogus ARPs for DoS attack.  FreeBSD-SA-03:14.arp
	[itojun, ticket #1482]

crypto/dist/openssl/crypto/asn1/asn1_lib.c	patch
crypto/dist/openssl/crypto/x509/x509_vfy.c	patch

	Fix various bugs revealed by running the NISCC test suite:
	Stop out of bounds reads in the ASN1 code when presented with
	invalid tags (CAN-2003-0543 and CAN-2003-0544).
	If verify callback ignores invalid public key errors don't try to check
	certificate signature with the NULL public key.
	SA#2003-017
	[christos, ticket #1492]

sys/kern/kern_sysctl.c				1.147

	Make debug_sysctl() sysctl MIB check more strict. SA#2003-014
	[itojun, ticket #1493]

sbin/route/route.8				1.36

	Correct typo.  PR#22944.
	[itojun, ticket #1494]

crypto/dist/openssl/ssl/ssl_ciph.c		1.6 (via patch)

	From OpenBSD:
	Correct some off-by-ones.  They currently don't matter, but this
	is for future safety and consistency.
	OK krw@, markus@
	[itojun, ticket #1495]

crypto/dist/openssl/ssl/s3_clnt.c		1.5
crypto/dist/openssl/ssl/s3_srvr.c		1.6

	More fixes from 0.9.7c, from openbsd.
	[itojun, ticket #1496]

usr.bin/vmstat/vmstat.c				1.119

	Extra columns appeared in one line of the "Memory statistics by type"
	header in '94 and '97.  Grow the other line a little so that it looks
	pretty again.
	[simonb, ticket #1487]

sys/arch/mips/mips/cpu_exec.c			1.34
sys/arch/sh3/sh3/coff_exec.c			1.17
sys/compat/common/compat_exec.c			1.7
sys/compat/hpux/hpux_exec_aout.c		1.4
sys/compat/ibcs2/ibcs2_exec_coff.c		1.5
sys/compat/linux/common/linux_exec_aout.c	1.50
sys/compat/linux/common/linux_uselib.c		1.7
sys/compat/m68k4k/m68k4k_exec.c			1.10
sys/compat/netbsd32/netbsd32_exec_aout.c	1.10
sys/compat/sunos/sunos_exec_aout.c		1.6
sys/kern/exec_aout.c				1.25
sys/kern/exec_ecoff.c				1.18-1.19 (via patch)
sys/kern/exec_elf32.c				1.76 (via patch)
sys/kern/exec_macho.c				1.8
sys/kern/exec_subr.c				1.31
sys/kern/vfs_vnops.c				1.55
sys/sys/vnode.h					1.96

	Count executable image pages as executable for vm-usage purposes.
	Also, always do the VTEXT vs. v_writecount mutual exclusion
	(which we previously skipped if the text or data segment was empty).
	[junyoung, ticket #1488]

lib/libmenu/item.c				1.10

	new_item fixes:
	 * return NULL to indicate an error if a NULL name is passed
	 * fix a crash if description is NULL
	Thanks to Julian Coleman for finding and fixing these.
	[blymn, ticket #1489]

sys/dev/pci/if_sip.c				1.81

	Fix typo (DP83020 -> DP83820) from HITOSHI Osada in PR#23023.
	[martin, ticket #1490]

sys/netinet6/ipsec.c				1.84

	Permit tunnel mode over link-local address. (outer header is
	link-local) iij seil team.
	[itojun, ticket #1498]

sys/net/if_vlan.c				1.37

	Need to use m_freem(), not m_free().  from iij seil team.
	[itojun, ticket #1499]

sys/netinet6/mld6.c				1.22 (via patch)
sys/netinet6/ip6_output.c			1.54 (via patch)
sys/netinet6/ip6_var.h				1.21 (via patch)
sys/netinet6/nd6_nbr.c				1.39 (via patch)

	Correct IPv6 MLD/DAD behavior (when sending IPv6 packets with :: as the
	source address).
	[itojun, ticket #1491]

sys/netinet6/ip6_forward.c			1.37

	Correctly look at outer IPv6 header when forwarding packet into ipsec
	tunnel. iij seil team
	[itojun, ticket #1500]

sys/netinet6/ip6_forward.c			1.38

	Do not deref state.ro if it is NULL.
	[itojun, ticket #1501]

lib/libipsec/policy_parse.y			1.11

	Correct unsafe use of realloc().
	[itojun, ticket #1502]

sys/netinet6/ip6_forward.c			1.39

	Shouldn't check scope match when encapsulating packet into tunnel mode.
	iij seil team
	[itojun, ticket #1504]

sys/nfs/nfs_subs.c				1.129
sys/nfs/nfs_vfsops.c				1.133

	Plug mbuf leak due to manual mbuf handling.  Fixes PR#13807.
	[martti, ticket #1506]

lib/libc/net/gethnamaddr.c			1.56-1.57

	Fix off-by-one error.  from millert@openbsd
	Add parenthesis around macro argument.
	[itojun, ticket #1509]

sys/netinet/in_proto.c				1.60
sys/netinet6/in6_proto.c			1.50

	Enforce ipsec policy on raw wildcard.
	[itojun, ticket #1409]

usr.sbin/route6d/route6d.c			1.47

	Don't age non-gateway host routes.  Fixes PR#22568 from Andrew White.
	[itojun, ticket #1432]

sys/crypto/rijndael/rijndael-api-fst.c		1.11-1.12

	Missing IV handling in CBC mode (does not affect ESP code as we have
	CBC handling in sys/netinet6/esp_core.c).  sync w/kame
	Correct panic() condition - it was backwards.
	[tv, ticket #1460]

lib/libipsec/policy_parse.y			1.12 (via patch)
crypto/dist/kame/libipsec/policy_parse.y	1.3 (via patch)

	Realloc error check failure; Greg Troxel, sync w/ kame.
	[itojun, ticket #1507]

distrib/sets/lists/man/mi			1.610
share/man/man4/Makefile				1.298
share/man/man4/bce.4				1.1 (new file)
share/man/man4/bge.4				1.7
sys/arch/i386/conf/GENERIC			1.571
sys/arch/i386/conf/GENERIC_LAPTOP		1.77
sys/dev/pci/files.pci				1.194
sys/dev/pci/if_bce.c				1.1-1.3 (new file)
sys/dev/pci/if_bcereg.h				1.1-1.3 (new file)

	Add new driver for broadcom BCM4401 chipset (as seen on recent dell
	laptops) written by Cliff Wright <cliff@snipe444.org> and tested by
	yours truly.
	[mrg, ticket #1486]

sys/netinet6/ipsec.c				1.87

	No need to clear mbuf flags here; sync w/kame
	[itojun, ticket #1508]

sys/kern/kern_xxx.c				1.50

	Make this compile with __HAVE_MINIMAL_EMUL.
	[junyoung, ticket #1510]

distrib/sets/lists/man/mi			1.608-1.609
share/man/man4/Makefile				1.296-1.297
share/man/man4/man4.mac68k/Makefile		1.9-1.10
share/man/man4/man4.mac68k/obio.4		1.6
share/man/man4/man4.macppc/Makefile		1.5-1.7
share/man/man4/man4.macppc/bm.4			1.3
share/man/man4/man4.macppc/gm.4			1.5
share/man/man4/man4.macppc/intro.4		1.7
share/man/man4/man4.macppc/mc.4			1.3
share/man/man4/man4.macppc/mesh.4		1.1
share/man/man4/man4.macppc/obio.4		1.1
share/man/man4/adb.4				1.1
share/man/man4/akbd.4				1.1
share/man/man4/ams.4				1.1
share/man/man4/mc.4				1.1

	New man page on the Apple Macintosh Enhanced SCSI Hardware driver
	contributed by Alex Zepeda <zipzippy@sonic.net>
	Mention that gm is obsoleted by the gem driver.
	Update macppc ethernet device references
	 - delete obsolete de refs
	 - change gm to gem
	Nice new mac68k/macppc obio man pages courtesy of Alex Zepeda
	<zipzippy@sonic.net>
	Alex Zepeda <zipzippy@sonic.net> created some nice new ADB man pages
	based loosely on the mac68k adb.4.  These pages are MI (mac68k and
	macppc).
	Combine mac68k and macppc mc.4 man page into an MI man page.
	mac68k and macppc man page addition/obsoletion:
	 - man4.mac68k/adb.4
	 + adb.4
	 + akbd.4
	 + ams.4
	 - man4.mac68k/mc.4
	 - man4.macppc/mc.4
	 + man4.macppc/obio.4
	 + mc.4
	[mbw, ticket #1485]

share/man/man4/bce.4				1.2

	Mention that bce appeared in 1.6.2.
	[wiz, ticket #1511]

sys/dev/pci/pci_map.c				1.11

	When testing for a void region, use PCI_MAPREG_MEM_SIZE() for 32bit
	memaddr. If the 32bit mask read is 0, wmask will be 0xffffffff00000000,
	and PCI_MAPREG_MEM64_SIZE() won't make this 0.
	[kleink, ticket #1513]

gnu/dist/cvs/src/main.c				1.8
gnu/dist/cvs/src/patch.c			1.2
gnu/dist/cvs/src/rcs.c				1.11

	Avoid re-entry in the cleanup signal handlers.
	[christos, ticket #1514]

sys/dev/usb/ohci.c				1.141

	Update actlen even in the case where a TD returns an error -- this is
	critical for the umass bulk-only STALL case.
	[bad, ticket #1515]

lib/libc/net/gethnamaddr.c			1.58

	Back out rev. 1.56; `pointer points the byte just after the valid
	region'	is normal case.  If the parser wants something more, there
	should be another bounds check for it.
	[bad, ticket #1521]

sys/arch/sparc64/sparc64/pmap.c			1.145 (via patch)

	cache_flush_virt() is buggy, just use blast_dcache() instead.
	Fixes PR#23093.
	[martin, ticket #1522]

distrib/sets/lists/xcomp4/mi			patch

	Remove bdftruncate.pl which was missed in a previous pullup.
	[tron, ticket #1443]

distrib/sets/lists/xbase/md.i386		1.12
distrib/sets/lists/xbase/md.macppc		1.5
distrib/sets/lists/xbase/obsolete.mi		1.3
distrib/sets/lists/xbase4/md.i386		1.1,1.3
distrib/sets/lists/xbase4/md.macpcc		1.1-1.2
distrib/sets/lists/xbase4/mi			1.8
distrib/sets/lists/xbase4/shl.elf		1.3
distrib/sets/lists/xbase4/shl.mi		1.3
distrib/sets/lists/xcomp/obsolete.mi		1.2
distrib/sets/lists/xcomp4/md.cats		1.2-1.3
distrib/sets/lists/xcomp4/md.i386		1.2-1.3
distrib/sets/lists/xcomp4/md.macppc		1.2-1.3
distrib/sets/lists/xcomp4/md.sparc		1.1
distrib/sets/lists/xcomp4/mi			1.4
distrib/sets/lists/xfont4/md.sparc		1.1
distrib/sets/lists/xserver/md.sparc		1.9
distrib/sets/lists/xserver/obsolete.alpha	1.2
distrib/sets/lists/xserver/obsolete.mi		1.3
distrib/sets/lists/xserver3/md.sparc		1.1
distrib/sets/lists/xserver4/md.sparc		1.1

	The manual page "scanpci" is only include in XFree86 4.x.
	Add a leading `.' to all pathnames, to be more consistent with the
	other sets, and to prepare for an upcoming feature addition to
	postinstall...
	Support XF4 on sparc.
	Sync with .so additions.
	Sort.
	[taca, ticket #1523]

lib/libc/arch/sparc64/softfloat/qp.c		1.4-1.5

	Correct unsigned to float conversions, add license, adjust style.
	Make _Qp_qtoui return the right value for inputs that do not fit into
	an int value, but are valid unsigned ints.  Fixes PR#21414.
	The same problem exists for _Qp_qtoux, but there is no similar trivial
	solution to that (I could think of).
	Pointed out by David Laight.
	[nakayama, ticket #1517]

distrib/notes/common/main			1.245

	macppc Quick install notes section -- remove scsi-ext references (no 
	such thing).
	[mbw, ticket #1518]

sys/kern/kern_allocsys.c			1.19

	Avoid integer overflow during computation of nbuf.
	[junyoung, ticket #1524]

sys/netinet6/ip6_input.c			1.67

	Fix endian bug in fragment header scanning.
	[itojun, ticket #1525]

gnu/dist/toolchain/gcc/config/m68k/m68k.c	1.4

	Cast using HOST_WIDE_INT, not unsigned.
	[matt, ticket #1526]

gnu/dist/toolchain/gcc/config/m68k/m68k.c	1.5

	Keep the unsigned, just add HOST_WIDE_INT.
	[matt, ticket #1527]

distrib/sets/lists/xbase4/shl.elf		1.4
distrib/sets/lists/xbase4/shl.mi		1.4

	Update XFree86 4.x sets for latest shared library changes.
	[tron, ticket #1529]

distrib/notes/macppc/install			1.29

	- mkhybrid deprecated, describe mkisofs
	- mention that OF may need version numbers from ISO 9660 file systems
	- remove scsi-ext references (no such device)
	[mbw, ticket #1520]

sys/dev/pci/pcidevs				1.569

	Add entry for Intel i865G Integrated Graphics Device.
	[tron, ticket #1440]

sys/dev/pci/if_bge.c				1.50

	From FreeBSD as suggested by Nicolas Joly in PR#22682:
	Do not initalize the LED's to 0x00.  The default configuration
	the chip comes up in should yeild proper operation of the LED's.
	[tron, ticket #1447]

share/man/man4/umass.4				1.18

	Add a few more devices which are known to work with this driver.
	Some of them were suggested by Rich Neswold in PR#22684.
	[tron, ticket #1448]

sys/arch/i386/conf/INSTALL			1.224
sys/arch/i386/conf/INSTALL_LAPTOP		1.47

	Add entry for bce(4).
	[tron, ticket #1512]

sys/dev/raidframe/rf_disks.c			1.42

	Remember to close the component if we decide it's not suitable for use
	as a hot spare.  Closes PR#20989 by David Brownlee.
	[oster, ticket #1531]

distrib/utils/sysinst/util.c			1.81
distrib/utils/sysinst/msg.mi.en			1.86.2.3
distrib/utils/sysinst/msg.mi.fr			1.43.2.2

	Re-enable progress bar.
	[ticket #1167]

share/locale/ctype/bg_BG.CP1251.src		new (from patch)
share/locale/ctype/el_GR.ISO8859-7.src		new (from patch)
share/locale/ctype/hy_AM.ARMSCII-8.src		new (from patch)
share/locale/ctype/lt_LT.ISO8859-13.src		new (from patch)
share/locale/ctype/Makefile			from patch
share/locale/ctype/en_US.ASCII.src		from patch
share/locale/ctype/en_US.DIS_8859-15.src	from patch
share/locale/ctype/en_US.ISO_8859-1.src		from patch
share/locale/ctype/en_US.ISO_8859-2.src		from patch
share/locale/ctype/en_US.ISO_8859-4.src		from patch
share/locale/ctype/en_US.UTF-8.src		from patch
share/locale/ctype/ru_RU.CP866.src		from patch
share/locale/ctype/ru_RU.ISO_8859-5.src		from patch
share/locale/ctype/ru_RU.KOI8-R.src		from patch
share/locale/ctype/uk_UA.KOI8-U.src		from patch
etc/mtree/NetBSD.dist				from patch
distrib/sets/lists/base/mi			from patch

	Add support for new LC_CTYPE locales (bg_BG.CP1251, ca_ES.ISO8859-1,
	ca_ES.ISO8859-15, el_GR.ISO8859-7, hy_AM.ARMSCII-8, lt_LT.ISO8859-13)
	Also includes some fixes for the existing locales on 1.6.
	[tshiozak, ticket #1379]

usr.sbin/user/user.c				1.51.2.4->1.70  

	Numerous bug fixes, blowfish password support.
	[agc, ticket #1147]

sys/dev/pcmcia/pcmcia_cis.c			1.30-1.31
sys/dev/pcmcia/pcmcia_cis_quirks.c		1.19-1.20
sys/dev/pcmcia/pcmciavar.h			1.16-1.17

	Fix support for multi-function pcmcia cards.
	[chris christos, ticket #699]

usr.sbin/lpr/lpd/Makefile			from patch
usr.sbin/lpr/lpd/lpd.8				from patch
usr.sbin/lpr/lpd/lpd.c				from patch

	Use STDOUT_FILENO instead of 1. 
	Pass the file descriptor to request_init() (libwrap) so that
	it can actually do something useful later in fromhost().
	[thorpej, ticket #946]

distrib/notes/common/main			from patch

	Clean up macppc quickstart wording a little.
	Clean up wording of quickstart section on macppc partitioning
	in quickstart, rearrange to account for macppc having two floppies now.
	Corrected names for release ISO images for macppc and sparc.
	[mbw, ticket #1309]

distrib/notes/macppc/install			1.27-1.28 (hand patched)
distrib/notes/macppc/prep			1.39-1.40 (hand patched)

	Substantianal overhaul of install notes.
	[mbw, ticket #1474]

distrib/notes/macppc/Makefile			1.5
distrib/notes/macppc/hardware			1.37-1.38
distrib/notes/macppc/prep.OPENFIRMWARE		0-1.2
distrib/notes/common/contents			1.91
distrib/notes/common/netboot			1.16-1.17
distrib/notes/common/postinstall		1.51-1.52 (hand patched)
distrib/notes/common/sysinst			1.64-1.66

	Substantianal overhaul of install notes for macppc.
	[mbw, ticket #1475]

distrib/notes/macppc/prep.OPENFIRMWARE		1.4

	mkhybrid is deprecated, describe mkisofs instead.
	Update Toast instructions for Toast 5 instead of Toast 4.
	[mbw, ticket #1519]

sys/compat/linux/common/linux_socket.c		1.49 (via patch)
sys/compat/linux/common/linux_socket.h		1.11

	More complete sendmsg(2) and recvmsg(2) emulation:
	* translate MSG_* flags
	* rewrite CMSG level/type to appropriate NetBSD value on input, 
	  and to Linux value on output
	* handle different CMSG_DATA alignment for some archs
 
	This fixes SCM_RIGHTS passing. Other SCM_* types are not supported -
	the set is different on NetBSD and Linux. SCM_TIMESTAMP doesn't seem
	to be actually implemented in Linux 2.5.15, so it's not supported
	for Linux binaries either (for now).
	[tv, ticket #1425]

sys/compat/linux/common/linux_oldmmap.c		1.59-1.60
sys/compat/linux/common/linux_misc.c		1.115

	Don't allow non-page-aligned offsets.
	[tv, ticket #1426]

sys/compat/linux/arch/arm/syscalls.master	1.13
sys/compat/linux/arch/i386/syscalls.master	1.65
sys/compat/linux/arch/m68k/syscalls.master	1.41
sys/compat/linux/arch/mips/syscalls.master	1.11
sys/compat/linux/common/linux_misc.c		1.118 (hand patched)
sys/compat/linux/common/linux_mmap.h		1.15 (hand patched)

	Proper support for mmap2.
	[tv, ticket #1427]

sys/compat/linux/common/linux_misc.c		1.119

	Implement MAP_TRYFIXED for linux emulation.
	[tv, ticket #1428]

sys/compat/linux/common/linux_socket.c		1.41-1.42

	setsockopt(IPPROTO_IPV6, IPV6_V6ONLY, 0) for AF_INET6 sockets,
	to meet with the default behavior of linux.
	[tv, ticket #1429]

share/man/man8/compat_linux.8			1.27-1.30

	Replaced /proc with /emul/linux/proc. Some minor grammar fixes too.
	[manu, ticket #1444]

sys/kern/kern_clock.c				patch
sys/sys/callout.h				patch
share/man/man9/callout.9			patch
sys/netinet/tcp_input.c				1.173
sys/netinet/tcp_subr.c				1.144
sys/netinet/tcp_timer.c				1.63
sys/netinet/tcp_var.h				1.103
usr.bin/netstat/inet.c				1.57
 
	Introduce a new INVOKING status for callouts, and use it to close
	a race condition in the TCP code.  Fixes PR#20390.
	[he, ticket #1530]

sys/sys/shm.h					1.35 (via patch)

	Need to make sure __sysconf() has C linkage.
	[kleink, ticket #1532]

sys/kern/kern_exit.c				1.96

	Move the call up exit hooks before curproc = NULL so that we can
	use lockmgr in exit hooks.
	[junyoung, ticket #1533]

libexec/telnetd/utility.c			1.19
	
	If the peer closes the connection in ttloop()
	 syslog(LOG_ERR, "ttloop:  peer died: %m");
	is a little console spammingly excessive. Switch to LOG_INFO.
	[abs, ticket #1534]

sys/arch/sparc/sparc/machdep.c			patch

	On small sun4c machines trim the buffer cache to reduce the demand for
	kernel virtual memory. This leaves more of the precious PMEG resources
	available for user space VM which speeds up things considerably, since
	a reasonable PMEG working set can be maintained.
	[pk, ticket #1535]

include/util.h					1.27
lib/libutil/Makefile				1.40
lib/libutil/disklabel_dkcksum.3			1.1
lib/libutil/disklabel_dkcksum.c			1.1
lib/libutil/disklabel_scan.3			1.1
lib/libutil/disklabel_scan.c			1.1
lib/libutil/util.3				1.11
lib/libutil/disklabel_dkcksum.3			1.2
lib/libutil/disklabel_scan.3			1.2
distrib/sets/lists/comp/mi			1.491
distrib/sets/lists/base/shl.mi			diff
lib/libutil/shlib_version			diff

	Added two functions disklabel_dkcksum() and disklabel_scan() to libutil
	so that they can be shared by disklabel(8) and cgdconfig(8).
	[jmc, ticket #1461]

share/termcap/termcap.src			1.84

	Added xterm-color entry from ESR's / ncurses termcap.src for,
	primarily, Mac OS X 10.3.
	[jklos, ticket #1539]

distrib/sets/lists/xserver4/md.cats		1.3

	"./usr/X11R6/lib/libXxf86dga.a" belongs into "xcomp" and not into
	"xserver" set.
	[tron, ticket #1540]

distrib/sets/lists/xcomp/md.atari		1.3
distrib/sets/lists/xserver/md.atari		1.10

	"libXxf86dga.a", "libXxf86misc.a" and "libXxf86vm.a" belong into the
	"xcomp" and not into the "xserver" set.
	[tron, ticket #1541]

distrib/sets/lists/xbase4/md.cats		1.1
distrib/sets/lists/xbase4/md.i386		1.4
distrib/sets/lists/xbase4/md.macppc		1.3
distrib/sets/lists/xbase4/md.sparc64		1.1
distrib/sets/lists/xbase4/shl.elf		1.5
distrib/sets/lists/xbase4/shl.mi		1.5

	Move shared version of "libXxf86dga" into architecture specific sets
	because it is not build under NetBSD-sparc.
	[tron, ticket #1542]

dist/bind/README				1.9
dist/bind/Version				1.5
dist/bind/bin/named/ns_main.c			1.15
dist/bind/lib/irs/gethostent.c			1.6
dist/bind/lib/resolv/res_debug.c		1.7
dist/bind/README				1.8
dist/bind/Version				1.4
dist/bind/bin/probe_ipv6			1.5
dist/bind/bin/dig/dig.c				1.7
dist/bind/bin/dnsquery/dnsquery.c		1.5
dist/bind/bin/host/host.c			1.7
dist/bind/bin/named/db_defs.h			1.7
dist/bind/bin/named/db_load.c			1.7
dist/bind/bin/named/ns_ctl.c			1.7
dist/bind/bin/named/ns_maint.c			1.7
dist/bind/bin/named/db_ixfr.c			1.5
dist/bind/bin/named/ns_glob.h			1.5
dist/bind/bin/named/ns_init.c			1.5
dist/bind/bin/named/ns_lexer.c			1.5
dist/bind/bin/named/db_sec.c			1.6
dist/bind/bin/named/ns_forw.c			1.6
dist/bind/bin/named/ns_ixfr.c			1.6
dist/bind/bin/named/ns_ncache.c			1.6
dist/bind/bin/named/ns_parser.y			1.6
dist/bind/bin/named/ns_update.c			1.6
dist/bind/bin/named/ns_config.c			1.8
dist/bind/bin/named/ns_func.h			1.8
dist/bind/bin/named/ns_req.c			1.8
dist/bind/bin/named/ns_defs.h			1.9
dist/bind/bin/named/ns_main.c			1.14
dist/bind/bin/named/ns_resp.c			1.10
dist/bind/bin/named-xfer/named-xfer.c		1.7
dist/bind/bin/ndc/ndc.c				1.8
dist/bind/bin/nslookup/getinfo.c		1.6
dist/bind/bin/nslookup/main.c			1.4
dist/bind/bin/nslookup/send.c			1.5
dist/bind/bin/nsupdate/nsupdate.c		1.6 (hand patched)
dist/bind/include/hesiod.h			1.2
dist/bind/include/irp.h				1.2
dist/bind/include/netgroup.h			1.2
dist/bind/include/irs.h				1.4
dist/bind/include/port_after.h			1.6
dist/bind/include/resolv.h			1.8
dist/bind/include/arpa/nameser.h		1.5
dist/bind/include/arpa/nameser_compat.h		1.3
dist/bind/include/isc/ctl.h			1.4
dist/bind/include/isc/misc.h			1.4
dist/bind/include/isc/dst.h			1.2
dist/bind/include/isc/tree.h			1.2
dist/bind/include/isc/eventlib.h		1.3
dist/bind/include/isc/irpmarshall.h		1.3
dist/bind/include/isc/logging.h			1.5
dist/bind/lib/bsd/strtoul.c			1.2 (hand patched)
dist/bind/lib/bsd/writev.c			1.2 (hand patched)
dist/bind/lib/dst/bsafe_link.c			1.6
dist/bind/lib/dst/dst_api.c			1.6
dist/bind/lib/dst/cylink_link.c			1.5
dist/bind/lib/dst/hmac_link.c			1.4
dist/bind/lib/irs/dns_gr.c			1.3
dist/bind/lib/irs/getnetgrent.c			1.3
dist/bind/lib/irs/getnetgrent_r.c		1.3
dist/bind/lib/irs/nis_gr.c			1.3
dist/bind/lib/irs/nis_ho.c			1.3
dist/bind/lib/irs/dns_ho.c			1.6 (hand patched)
dist/bind/lib/irs/irs_data.c			1.6
dist/bind/lib/irs/dns_nw.c			1.5
dist/bind/lib/irs/getaddrinfo.c			1.5 (hand patched)
dist/bind/lib/irs/gethostent.c			1.5
dist/bind/lib/irs/getnameinfo.c			1.5
dist/bind/lib/irs/gen_gr.c			1.4
dist/bind/lib/irs/hesiod.c			1.4
dist/bind/lib/irs/irp_p.h			1.4
dist/bind/lib/isc/ctl_clnt.c			1.5
dist/bind/lib/isc/ctl_srvr.c			1.5
dist/bind/lib/isc/eventlib_p.h			1.5
dist/bind/lib/isc/ev_files.c			1.4
dist/bind/lib/isc/ev_waits.c			1.4
dist/bind/lib/isc/logging.c			1.4
dist/bind/lib/isc/ev_timers.c			1.7 (hand patched)
dist/bind/lib/isc/eventlib.c			1.6 (hand patched)
dist/bind/lib/nameser/ns_name.c			1.9 (hand patched)
dist/bind/lib/nameser/ns_parse.c		1.5
dist/bind/lib/nameser/ns_print.c		1.5
dist/bind/lib/nameser/ns_samedomain.c		1.4
dist/bind/lib/nameser/ns_sign.c			1.4
dist/bind/lib/resolv/res_comp.c			1.2
dist/bind/lib/resolv/res_private.h		1.2
dist/bind/lib/resolv/res_debug.c		1.6
dist/bind/lib/resolv/res_update.c		1.6
dist/bind/lib/resolv/res_findzonecut.c		1.5
dist/bind/lib/resolv/res_init.c			1.5
dist/bind/lib/resolv/res_mkquery.c		1.3
dist/bind/lib/resolv/res_mkupdate.c		1.4
dist/bind/lib/resolv/res_query.c		1.4
dist/bind/lib/resolv/res_send.c			1.7 (hand patched)
dist/bind/man/dig.1				1.10 (hand patched)
dist/bind/man/named-xfer.8			1.8 (hand patched)
dist/bind/man/named.conf.5			1.13 (hand patched)
dist/bind/lib/inet/inet_lnaof.c			1.2
dist/bind/lib/inet/inet_makeaddr.c		1.2
dist/bind/lib/bsd/strerror.c			(hand patched)
dist/bind/lib/inet/inet_netof.c			1.2
dist/bind/lib/inet/inet_network.c		1.3
dist/bind/man/dnskeygen.1			1.5
dist/bind/man/dnsquery.1			1.5
dist/bind/man/host.1				1.9-1.10
dist/bind/man/named.8				1.11-1.14
dist/bind/man/nslookup.8			1.7-1.9
dist/bind/man/nsupdate.8			1.7
include/arpa/inet.h				1.15
lib/libc/net/inet_lnaof.c			1.8
lib/libc/net/inet_makeaddr.c			1.11
lib/libc/net/inet_netof.c			1.8
lib/libc/net/inet_network.c			1.15
lib/libc/net/inet_pton.c			1.18
share/man/man5/resolv.conf.5			1.23

	Bring BIND up to 8.3.6
	[itojun, ticket #1536]

dist/dhcp/common/auth.c				removed
dist/dhcp/common/dhcp-contrib.5			removed
dist/dhcp/COPYRIGHT				1.2
dist/dhcp/Makefile				1.2
dist/dhcp/Makefile.conf				1.2-1.3
dist/dhcp/Makefile.dist				1.2
dist/dhcp/README				1.2-1.3
dist/dhcp/RELNOTES				1.2-1.3
dist/dhcp/configure				1.2
dist/dhcp/client/Makefile.dist			1.2
dist/dhcp/client/clparse.c			1.3-1.4
dist/dhcp/client/dhclient-script.8		1.3-1.4
dist/dhcp/client/dhclient.8			1.4-1.6
dist/dhcp/client/dhclient.c			1.5-1.8
dist/dhcp/client/dhclient.conf.5		1.3-1.6
dist/dhcp/client/dhclient.leases.5		1.3-1.5
dist/dhcp/client/scripts/freebsd		1.2-1.3
dist/dhcp/client/scripts/linux			1.2-1.3
dist/dhcp/common/Makefile.dist			1.2
dist/dhcp/common/alloc.c			1.2-1.4
dist/dhcp/common/bpf.c				1.4-1.6
dist/dhcp/common/comapi.c			1.3-1.5
dist/dhcp/common/conflex.c			1.2
dist/dhcp/common/ctrace.c			1.2
dist/dhcp/common/dhcp-eval.5			1.5-1.6
dist/dhcp/common/dhcp-options.5			1.4-1.5
dist/dhcp/common/discover.c			1.2.4.1->1.6
dist/dhcp/common/dispatch.c			1.2
dist/dhcp/common/dlpi.c				1.2
dist/dhcp/common/dns.c				1.3-1.5
dist/dhcp/common/ethernet.c			1.2
dist/dhcp/common/execute.c			1.2-1.4
dist/dhcp/common/fddi.c				1.3-1.4
dist/dhcp/common/icmp.c				1.1.4.1=>1.5
dist/dhcp/common/inet.c				1.2-1.3
dist/dhcp/common/lpf.c				1.2
dist/dhcp/common/memory.c			1.2-1.4
dist/dhcp/common/nit.c				1.2
dist/dhcp/common/options.c			1.2-1.4
dist/dhcp/common/packet.c			1.3
dist/dhcp/common/parse.c			1.3-1.5
dist/dhcp/common/print.c			1.3-1.5
dist/dhcp/common/raw.c				1.2-1.3
dist/dhcp/common/resolv.c			1.2-1.3
dist/dhcp/common/socket.c			1.1.4.1=>1.5
dist/dhcp/common/tables.c			1.3-1.4
dist/dhcp/common/tr.c				1.2
dist/dhcp/common/tree.c				1.2-1.4
dist/dhcp/common/upf.c				1.2
dist/dhcp/dhcpctl/Makefile.dist			1.2
dist/dhcp/dhcpctl/callback.c			1.2-1.3
dist/dhcp/dhcpctl/cltest.c			1.2
dist/dhcp/dhcpctl/dhcpctl.3			1.2
dist/dhcp/dhcpctl/dhcpctl.c			1.2-1.4
dist/dhcp/dhcpctl/dhcpctl.h			1.2
dist/dhcp/dhcpctl/omshell.1			1.2
dist/dhcp/dhcpctl/omshell.c			1.2-1.4
dist/dhcp/dhcpctl/remote.c			1.2-1.4
dist/dhcp/dst/Makefile.dist			1.2
dist/dhcp/dst/base64.c				1.2
dist/dhcp/dst/dst_api.c				1.2-1.3
dist/dhcp/dst/dst_support.c			1.2
dist/dhcp/dst/hmac_link.c			1.2=1.3
dist/dhcp/dst/prandom.c				1.2-1.3
dist/dhcp/includes/dhcp.h			1.3
dist/dhcp/includes/dhcpd.h			1.2-1.6
dist/dhcp/includes/dhctoken.h			1.3
dist/dhcp/includes/failover.h			1.2
dist/dhcp/includes/osdep.h			1.2
dist/dhcp/includes/site.h			1.3
dist/dhcp/includes/tree.h			1.2
dist/dhcp/includes/version.h			1.2-1.3
dist/dhcp/includes/arpa/nameser.h		1.2
dist/dhcp/includes/arpa/nameser_compat.h	1.2
dist/dhcp/includes/cf/freebsd.h			1.2
dist/dhcp/includes/cf/linux.h			1.2
dist/dhcp/includes/minires/resolv.h		1.2
dist/dhcp/includes/netinet/if_ether.h		1.2
dist/dhcp/includes/netinet/ip.h			1.2
dist/dhcp/includes/netinet/ip_icmp.h		1.2
dist/dhcp/includes/netinet/udp.h		1.2
dist/dhcp/includes/omapip/alloc.h		1.2
dist/dhcp/includes/omapip/hash.h		1.2
dist/dhcp/includes/omapip/omapip.h		1.2-1.3
dist/dhcp/minires/ns_name.c			1.2-1.3
dist/dhcp/minires/ns_parse.c			1.4-1.5
dist/dhcp/minires/ns_samedomain.c		1.3
dist/dhcp/minires/ns_sign.c			1.3
dist/dhcp/minires/res_comp.c			1.2
dist/dhcp/minires/res_findzonecut.c		1.4
dist/dhcp/minires/res_init.c			1.2
dist/dhcp/minires/res_mkquery.c			1.2
dist/dhcp/minires/res_mkupdate.c		1.1.4.1->1.3
dist/dhcp/minires/res_query.c			1.2
dist/dhcp/minires/res_send.c			1.2-1.3
dist/dhcp/minires/res_update.c			1.2
dist/dhcp/omapip/alloc.c			1.3-1.5
dist/dhcp/omapip/array.c			1.2
dist/dhcp/omapip/auth.c				1.2
dist/dhcp/omapip/buffer.c			1.2
dist/dhcp/omapip/connection.c			1.2-1.3
dist/dhcp/omapip/convert.c			1.3
dist/dhcp/omapip/dispatch.c			1.2
dist/dhcp/omapip/generic.c			1.2
dist/dhcp/omapip/handle.c			1.2
dist/dhcp/omapip/hash.c				1.2-1.3
dist/dhcp/omapip/inet_addr.c			1.2
dist/dhcp/omapip/listener.c			1.2
dist/dhcp/omapip/message.c			1.2-1.4
dist/dhcp/omapip/mrtrace.c			1.2
dist/dhcp/omapip/protocol.c			1.3-1.5
dist/dhcp/omapip/result.c			1.3-1.4
dist/dhcp/omapip/support.c			1.3-1.4
dist/dhcp/omapip/trace.c			1.2
dist/dhcp/relay/dhcrelay.8			1.4-1.5
dist/dhcp/relay/dhcrelay.c			1.3-1.5
dist/dhcp/server/Makefile.dist			1.2
dist/dhcp/server/bootp.c			1.2-1.3
dist/dhcp/server/class.c			1.2-1.3
dist/dhcp/server/confpars.c			1.2-1.5
dist/dhcp/server/db.c				1.2-1.4
dist/dhcp/server/ddns.c				1.2-1.4
dist/dhcp/server/dhcp.c				1.2-1.5
dist/dhcp/server/dhcpd.8			1.3-1.6
dist/dhcp/server/dhcpd.c			1.2-1.4
dist/dhcp/server/dhcpd.conf			1.1.4.1->1.2
dist/dhcp/server/dhcpd.conf.5			1.4-1.9
dist/dhcp/server/dhcpd.leases.5			1.3-1.5
dist/dhcp/server/failover.c			1.4-1.7
dist/dhcp/server/mdb.c				1.2-1.3
dist/dhcp/server/omapi.c			1.2-1.5
dist/dhcp/server/salloc.c			1.2
dist/dhcp/server/stables.c			1.2-1.3

	Update dhcp to dhcp-3.0.1rc11
	[mellon, ticket #1537]

etc/defaults/rc.conf				1.51
etc/rc.d/fsck					1.3-1.4
share/man/man5/rc.conf.5			1.82

	Allow custom fsck options via fsck_flags.
	[martti, ticket #1543]

doc/LAST_MINUTE                                 patched by hand

        Null out in preparation for 1.6.2

sys/conf/osrelease.sh                           patched by hand
share/tmac/doc-common                           patched by hand
sys/sys/param.h                                 patched by hand

        Update to 1.6.2_RC1

dist/dhcp/common/parse.c			1.6-1.7

	- Apply patches from ISC DHCP 3.0.1rc12 to correct a parser bug that
	  causes the ISC DHCP server to fail to start when it is configured to
	  use the ad-hoc DNS update mechanism. This fixes PR#20460 and
	  PR#23284.
	- Add declarations for lhs_context and rhs_context. For some reason
	  these were missing from the diff between 3.0.1rc11 and 3.0.1rc12,
	  so the previous commit didn't compile.
	[mellon, ticket #1544]

Moved tag netbsd-1-6-PATCH002-RC1 on:

	dist/dhcp/common/parse.c
	doc/CHANGES-1.6.2

crypto/dist/openssl/crypto/asn1/a_bytes.c	patched by hand
crypto/dist/openssl/ssl/ssl_ciph.c		patched by hand

	Changes between 0.9.6k and 0.9.6l  [04 Nov 2003]
	*) Fix additional bug revealed by the NISCC test suite:
	    Stop bug triggering large recursion when presented with
            certain ASN.1 tags (CAN-2003-0851). from Steve Henson
	[itojun, ticket #1557]

distrib/notes/pmax/hardware			1.14

	Fix/complete some framebuffer descriptions, fixes PR#23224
	[drochner, ticket #1553]

sys/arch/sparc64/include/psl.h			1.24

	Lower PIL_AUD so /dev/audio will not interrupt and interfere with
	scheduler. Fixes PR#23382.
	[petrov, ticket #1559]

xsrc/xfree/xc/config/cf/NetBSD.cf		1.57

	Turn off the shared XDM greeter library for NetBSD-alpha.
	[tron, ticket #1562]

sys/conf/osrelease.sh                           patched by hand
share/tmac/doc-common                           patched by hand

        Update to 1.6.2_RC2

sys/compat/linux/arch/arm/syscalls.master	patched by hand
sys/compat/linux/arch/m68k/syscalls.master	patched by hand
sys/compat/linux/arch/arm/linux_syscall.h	regen
sys/compat/linux/arch/arm/linux_syscallargs.h	regen
sys/compat/linux/arch/arm/linux_syscalls.c	regen
sys/compat/linux/arch/arm/linux_sysent.c	regen
sys/compat/linux/arch/m68k/linux_syscall.h	regen
sys/compat/linux/arch/m68k/linux_syscallargs.h	regen
sys/compat/linux/arch/m68k/linux_syscalls.c	regen
sys/compat/linux/arch/m68k/linux_sysent.c	regen
sys/compat/linux/arch/arm/linux_syscall.h	regen
sys/compat/linux/arch/arm/linux_syscallargs.h	regen
sys/compat/linux/arch/arm/linux_syscalls.c	regen
sys/compat/linux/arch/arm/linux_sysent.c	regen
sys/compat/linux/arch/m68k/linux_syscall.h	regen
sys/compat/linux/arch/m68k/linux_syscallargs.h	regen
sys/compat/linux/arch/m68k/linux_syscalls.c	regen
sys/compat/linux/arch/m68k/linux_sysent.c	regen

	Fixes for ticket #1427. Forgot an #include which broke builds.  

crypto/dist/openssl/crypto/opensslv.h		apply patch

	Define OPENSSL_HAS_20031107_FIX which reflects the date that the
	OpenSSL 0.6.9g -> 0.9.6l fixes were pulled up to the branch.
	[jlam, ticket #1566]

dist/bind/README				1.10
dist/bind/Version				1.6
dist/bind/bin/named/ns_init.c			1.7
dist/bind/bin/named/ns_resp.c			1.12
dist/bind/bin/nslookup/commands.l		1.5

	Sync with BIND 8.3.7. SA#2003-018
	[itojun, ticket #1568]

lib/libc/sys/intro.2				1.36

	Catch up with namei: An empty string is not a valid pathname.
	Noted by SAITOH Akinori in PR#23565.
	[kleink, ticket #1567]

sys/netinet/ip_nat.c				patched by hand
sys/netinet/ip_nat.h				patched by hand

	Change to ip filter's NAT code to keep excessive NAT
	entries from causing the kernel to panic.
	[jklos, ticket #1564]

sys/conf/osrelease.sh                           patched by hand
share/tmac/doc-common                           patched by hand

	Update to 1.6.2_RC3

BUILDING					regen
BUILDING.mdoc					patch

	Add some examples to BUILDING that correspond as best as possible to
	the examples in the doc from -current.
	[jmc, ticket #1578]

usr.bin/cksum/cksum.c				1.19
usr.bin/cksum/crc.c				1.14
usr.bin/cksum/extern.h				1.13
usr.bin/cksum/print.c				1.9
usr.bin/cksum/sum1.c				1.10
usr.bin/cksum/sum2.c				1.10

	Update to keep file lengths in appropriate data types (off_t, as
	opposed to u_int32_t).
	[kleink, ticket #1580]

etc/skel/dot.cshrc				1.2
etc/skel/dot.profile				1.2

	Nuke 'umask 2' as it is inappropriate for the default useradd(8)
	behaviour.
	[grant, ticket #1570]

usr.bin/menuc/menu_sys.def			patch

	The opt_action function may allocate new menus, which may make 
	m a stale pointer into the old menus array. So re-target it.
	[martin, ticket #1571]

distrib/utils/sysinst/arch/sparc64/md.c		patch

	When upgrading an old system, install new bootblocks too.
	Fixes PR#17204.
	[martin, ticket #1572]

share/man/man5/rc.conf.5			1.84

	Correct typo.  Fixes PR#23622 and PR#23722
	[wiz, ticket #1574]

usr.bin/ipcs/ipcs.c				1.28

	Fix a printf.
	[tv (reviewed by jmc), ticket #1576]

share/man/man9/pool.9				1.29

	Note that the fifth argument to pool_init() is "flags" and not "nitems".
	[simon, ticket #1581]

BUILDING					patch
BUILDING.mdoc					patch

	Change -v to -V in the following section:
	 Print make(1)'s idea of the value of var.  Does not build any targets.
	To reflect reality.
	[zuntum, ticket #1582]

gnu/dist/cvs/lib/getpass.c			new file
gnu/dist/cvs/src/history.h			new file
gnu/dist/cvs/AUTHORS				1.2
gnu/dist/cvs/BUGS				1.1.1.2
gnu/dist/cvs/COPYING				1.1.1.1
gnu/dist/cvs/COPYING.LIB			1.1.1.1
gnu/dist/cvs/ChangeLog				1.1.1.6
gnu/dist/cvs/ChangeLog.zoo			1.1.1.1
gnu/dist/cvs/DEVEL-CVS				1.1.1.3
gnu/dist/cvs/FAQ				1.1.1.4
gnu/dist/cvs/HACKING				1.1.1.3
gnu/dist/cvs/INSTALL				1.1.1.4
gnu/dist/cvs/MINOR-BUGS				1.1.1.1
gnu/dist/cvs/Makefile.am			1.2
gnu/dist/cvs/Makefile.in			1.1.1.5
gnu/dist/cvs/NEWS				1.1.1.6
gnu/dist/cvs/PROJECTS				1.1.1.1
gnu/dist/cvs/README				1.1.1.4
gnu/dist/cvs/README.VMS				1.1.1.1
gnu/dist/cvs/TESTS				1.1.1.4
gnu/dist/cvs/TODO				1.1.1.5
gnu/dist/cvs/acinclude.m4			1.2
gnu/dist/cvs/aclocal.m4				1.2
gnu/dist/cvs/compile				1.1
gnu/dist/cvs/config.h.in			1.1.1.5
gnu/dist/cvs/configure				1.1.1.6
gnu/dist/cvs/configure.in			1.1.1.6
gnu/dist/cvs/cvs-format.el			1.1.1.1
gnu/dist/cvs/cvs.spec.in			1.2
gnu/dist/cvs/cvs2netbsd				1.3
gnu/dist/cvs/depcomp				1.2
gnu/dist/cvs/install-sh				1.1.1.3
gnu/dist/cvs/mdate-sh				1.1
gnu/dist/cvs/missing				1.1
gnu/dist/cvs/mkinstalldirs			1.2
gnu/dist/cvs/contrib/ChangeLog			1.1.1.5
gnu/dist/cvs/contrib/Makefile.am		1.2
gnu/dist/cvs/contrib/Makefile.in		1.1.1.5
gnu/dist/cvs/contrib/README			1.1.1.2
gnu/dist/cvs/contrib/check_cvs.in		1.2
gnu/dist/cvs/contrib/clmerge.in			1.1
gnu/dist/cvs/contrib/cln_hist.in		1.1
gnu/dist/cvs/contrib/commit_prep.in		1.2
gnu/dist/cvs/contrib/cvs2vendor.sh		1.1.1.2
gnu/dist/cvs/contrib/cvs_acls.in		1.1
gnu/dist/cvs/contrib/cvscheck.man		1.1.1.1
gnu/dist/cvs/contrib/cvscheck.sh		1.1.1.1
gnu/dist/cvs/contrib/cvshelp.man		1.1.1.1
gnu/dist/cvs/contrib/debug_check_log.sh		1.1
gnu/dist/cvs/contrib/descend.man		1.1.1.1
gnu/dist/cvs/contrib/descend.sh			1.1.1.1
gnu/dist/cvs/contrib/dirfns.shar		1.1.1.1
gnu/dist/cvs/contrib/intro.doc			1.1.1.1
gnu/dist/cvs/contrib/log.in			1.1
gnu/dist/cvs/contrib/log_accum.in		1.2
gnu/dist/cvs/contrib/mfpipe.in			1.1
gnu/dist/cvs/contrib/pvcs2rcs.in		1.1
gnu/dist/cvs/contrib/rcs-to-cvs.sh		1.1.1.1
gnu/dist/cvs/contrib/rcs2log.sh			1.1.1.4
gnu/dist/cvs/contrib/rcs2sccs.sh		1.1.1.3
gnu/dist/cvs/contrib/rcslock.in			1.1
gnu/dist/cvs/contrib/sccs2rcs.in		1.2
gnu/dist/cvs/diff/ChangeLog			1.1.1.5
gnu/dist/cvs/diff/Makefile.am			1.1
gnu/dist/cvs/diff/Makefile.in			1.1.1.4
gnu/dist/cvs/diff/analyze.c			1.1.1.2
gnu/dist/cvs/diff/build_diff.com		1.1.1.2
gnu/dist/cvs/diff/cmpbuf.c			1.1.1.1
gnu/dist/cvs/diff/cmpbuf.h			1.1.1.1
gnu/dist/cvs/diff/context.c			1.1.1.1
gnu/dist/cvs/diff/diagmeet.note			1.1.1.1
gnu/dist/cvs/diff/diff.c			1.1.1.3
gnu/dist/cvs/diff/diff.h			1.1.1.1
gnu/dist/cvs/diff/diff3.c			1.1.1.4
gnu/dist/cvs/diff/diffrun.h			1.1.1.1
gnu/dist/cvs/diff/dir.c				1.1.1.2
gnu/dist/cvs/diff/ed.c				1.1.1.1
gnu/dist/cvs/diff/ifdef.c			1.1.1.1
gnu/dist/cvs/diff/io.c				1.1.1.3
gnu/dist/cvs/diff/libdiff.dsp			1.1.1.1
gnu/dist/cvs/diff/normal.c			1.1.1.1
gnu/dist/cvs/diff/side.c			1.1.1.1
gnu/dist/cvs/diff/system.h			1.1.1.4
gnu/dist/cvs/diff/util.c			1.1.1.3
gnu/dist/cvs/diff/version.c			1.1.1.1
gnu/dist/cvs/doc/ChangeLog			1.1.1.6
gnu/dist/cvs/doc/ChangeLog.fsf			1.1.1.1
gnu/dist/cvs/doc/Makefile.am			1.2
gnu/dist/cvs/doc/Makefile.in			1.1.1.5
gnu/dist/cvs/doc/RCSFILES			1.1.1.1
gnu/dist/cvs/doc/cvs-paper.ms			1.1.1.1
gnu/dist/cvs/doc/cvs.texinfo			1.6
gnu/dist/cvs/doc/cvsclient.texi			1.1.1.4
gnu/dist/cvs/doc/mdate-sh			1.1
gnu/dist/cvs/doc/stamp-1			1.2
gnu/dist/cvs/doc/stamp-vti			1.2
gnu/dist/cvs/doc/texinfo.tex			1.1
gnu/dist/cvs/doc/version-client.texi		1.2
gnu/dist/cvs/doc/version.texi			1.2
gnu/dist/cvs/lib/ChangeLog			1.1.1.5
gnu/dist/cvs/lib/ChangeLog.fsf			1.1.1.1
gnu/dist/cvs/lib/Makefile.am			1.2
gnu/dist/cvs/lib/Makefile.in			1.1.1.4
gnu/dist/cvs/lib/argmatch.c			1.1.1.1
gnu/dist/cvs/lib/build_lib.com			1.1.1.2
gnu/dist/cvs/lib/dup2.c				1.1.1.1
gnu/dist/cvs/lib/fncase.c			1.1.1.2
gnu/dist/cvs/lib/fnmatch.c			1.1.1.2
gnu/dist/cvs/lib/fnmatch.h.in			1.1
gnu/dist/cvs/lib/ftruncate.c			1.1.1.1
gnu/dist/cvs/lib/getdate.y			1.1.1.5
gnu/dist/cvs/lib/gethostname.c			1.1
gnu/dist/cvs/lib/getline.c			1.1.1.4
gnu/dist/cvs/lib/getline.h			1.1.1.3
gnu/dist/cvs/lib/getopt.c			1.1.1.1
gnu/dist/cvs/lib/getopt.h			1.1.1.2
gnu/dist/cvs/lib/getopt1.c			1.1.1.1
gnu/dist/cvs/lib/getpagesize.h			1.1
gnu/dist/cvs/lib/getpass.c			1.1
gnu/dist/cvs/lib/md5.c				1.1.1.1
gnu/dist/cvs/lib/md5.h				1.1.1.1
gnu/dist/cvs/lib/memmove.c			1.1.1.1
gnu/dist/cvs/lib/mkdir.c			1.1.1.1
gnu/dist/cvs/lib/regex.c			1.1.1.3
gnu/dist/cvs/lib/regex.h			1.1.1.3
gnu/dist/cvs/lib/rename.c			1.1.1.2
gnu/dist/cvs/lib/savecwd.c			1.1.1.2
gnu/dist/cvs/lib/savecwd.h			1.1.1.1
gnu/dist/cvs/lib/sighandle.c			1.1.1.2
gnu/dist/cvs/lib/strerror.c			1.1.1.2
gnu/dist/cvs/lib/stripslash.c			1.1.1.1
gnu/dist/cvs/lib/strstr.c			1.1.1.1
gnu/dist/cvs/lib/strtoul.c			1.1.1.1
gnu/dist/cvs/lib/system.h			1.1.1.4
gnu/dist/cvs/lib/valloc.c			1.1.1.2
gnu/dist/cvs/lib/wait.h				1.1.1.2
gnu/dist/cvs/lib/waitpid.c			1.1.1.1
gnu/dist/cvs/lib/xgetwd.c			1.1.1.1
gnu/dist/cvs/lib/xgssapi.h			1.1
gnu/dist/cvs/lib/xselect.h			1.1
gnu/dist/cvs/lib/xtime.h			1.1
gnu/dist/cvs/lib/yesno.c			1.1.1.1
gnu/dist/cvs/man/ChangeLog			1.1.1.5
gnu/dist/cvs/man/Makefile.am			1.2
gnu/dist/cvs/man/Makefile.in			1.1.1.5
gnu/dist/cvs/man/cvs.1				1.10
gnu/dist/cvs/man/cvs.5				1.1.1.2
gnu/dist/cvs/man/cvsbug.8			1.1.1.2
gnu/dist/cvs/src/ChangeLog			1.1.1.6
gnu/dist/cvs/src/ChangeLog-9194			1.1.1.1
gnu/dist/cvs/src/ChangeLog-9395			1.1.1.1
gnu/dist/cvs/src/ChangeLog-96			1.1.1.1
gnu/dist/cvs/src/ChangeLog-97			1.1.1.1
gnu/dist/cvs/src/Makefile.am			1.2
gnu/dist/cvs/src/Makefile.in			1.1.1.5
gnu/dist/cvs/src/add.c				1.1.1.5
gnu/dist/cvs/src/admin.c			1.1.1.5
gnu/dist/cvs/src/annotate.c			1.2
gnu/dist/cvs/src/buffer.c			1.4
gnu/dist/cvs/src/buffer.h			1.2
gnu/dist/cvs/src/build_src.com			1.1.1.2
gnu/dist/cvs/src/checkin.c			1.1.1.2
gnu/dist/cvs/src/checkout.c			1.6
gnu/dist/cvs/src/classify.c			1.1.1.3
gnu/dist/cvs/src/client.c			1.17
gnu/dist/cvs/src/client.h			1.1.1.3
gnu/dist/cvs/src/commit.c			1.10
gnu/dist/cvs/src/create_adm.c			1.1.1.4
gnu/dist/cvs/src/cvs.h				1.10
gnu/dist/cvs/src/cvsbug.in			1.2
gnu/dist/cvs/src/cvsrc.c			1.1.1.2
gnu/dist/cvs/src/diff.c				1.4
gnu/dist/cvs/src/edit.c				1.4
gnu/dist/cvs/src/edit.h				1.1.1.1
gnu/dist/cvs/src/entries.c			1.5
gnu/dist/cvs/src/error.c			1.1.1.3
gnu/dist/cvs/src/error.h			1.1.1.2
gnu/dist/cvs/src/expand_path.c			1.1.1.3
gnu/dist/cvs/src/fileattr.c			1.1.1.2
gnu/dist/cvs/src/fileattr.h			1.1.1.1
gnu/dist/cvs/src/filesubr.c			1.3
gnu/dist/cvs/src/find_names.c			1.2
gnu/dist/cvs/src/hardlink.c			1.1.1.1
gnu/dist/cvs/src/hardlink.h			1.1.1.1
gnu/dist/cvs/src/hash.c				1.1.1.3
gnu/dist/cvs/src/hash.h				1.1.1.2
gnu/dist/cvs/src/history.c			1.6
gnu/dist/cvs/src/history.h			1.1
gnu/dist/cvs/src/ignore.c			1.5
gnu/dist/cvs/src/import.c			1.1.1.5
gnu/dist/cvs/src/lock.c				1.8
gnu/dist/cvs/src/log.c				1.1.1.5
gnu/dist/cvs/src/login.c			1.1.1.5
gnu/dist/cvs/src/logmsg.c			1.8
gnu/dist/cvs/src/main.c				1.9
gnu/dist/cvs/src/mkmodules.c			1.5
gnu/dist/cvs/src/modules.c			1.3
gnu/dist/cvs/src/myndbm.c			1.1.1.5
gnu/dist/cvs/src/myndbm.h			1.1.1.1
gnu/dist/cvs/src/no_diff.c			1.1.1.2
gnu/dist/cvs/src/parseinfo.c			1.6
gnu/dist/cvs/src/patch.c			1.3
gnu/dist/cvs/src/rcs.c				1.12
gnu/dist/cvs/src/rcs.h				1.1.1.4
gnu/dist/cvs/src/rcscmds.c			1.1.1.4
gnu/dist/cvs/src/recurse.c			1.7
gnu/dist/cvs/src/release.c			1.1.1.2
gnu/dist/cvs/src/remove.c			1.4
gnu/dist/cvs/src/repos.c			1.4
gnu/dist/cvs/src/root.c				1.4
gnu/dist/cvs/src/root.h				1.2
gnu/dist/cvs/src/run.c				1.2
gnu/dist/cvs/src/sanity.sh			1.1.1.5
gnu/dist/cvs/src/scramble.c			1.1.1.2
gnu/dist/cvs/src/server.c			1.12
gnu/dist/cvs/src/server.h			1.1.1.3
gnu/dist/cvs/src/status.c			1.1.1.4
gnu/dist/cvs/src/subr.c				1.3
gnu/dist/cvs/src/tag.c				1.6
gnu/dist/cvs/src/update.c			1.9
gnu/dist/cvs/src/update.h			1.1.1.3
gnu/dist/cvs/src/vers_ts.c			1.1.1.5
gnu/dist/cvs/src/version.c			1.1.1.4
gnu/dist/cvs/src/watch.c			1.1.1.5
gnu/dist/cvs/src/watch.h			1.1.1.1
gnu/dist/cvs/src/wrapper.c			1.1.1.4
gnu/dist/cvs/src/zlib.c				1.1.1.4

	Update cvs to version 1.11.10 to fix security issue of
	modules command being able to create directories and possibly
	files in the root directory of the repository's file system.
	[christos, ticket #1579]

sys/netinet/ip_nat.c				patched by hand
sys/netinet/ip_nat.h				patched by hand

	Backout changes from #1564 as too many people are reporting problems
	with "out of the box" configurations.

sys/conf/osrelease.sh                           patched by hand
share/tmac/doc-common                           patched by hand

	Update to 1.6.2_RC4

sys/arch/sun2/include/param.h			patch

	Clips MAXPHYS to 32k on sun2, as needed by the sc driver.
	[fredette, ticket #1600]

sys/conf/osrelease.sh                           patched by hand
share/tmac/doc-common                           patched by hand

	Mark what we have now as 1.6.2.
