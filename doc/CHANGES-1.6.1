#	$NetBSD: CHANGES-1.6.1,v 1.1.2.24 2002/11/07 20:12:41 tron Exp $

A complete list of changes from NetBSD 1.6 to NetBSD 1.6.1:

File						Revision(s)
----						--------

sys/conf/osrelease.sh				patch
share/tmac/doc-common				patch

	Mark this as 1.6_STABLE.

distrib/sets/lists/base/mi			1.350
distrib/sets/lists/base/obsolete.mi		1.52-1.53
distrib/sets/lists/man/mi			1.513
distrib/sets/lists/man/obsolete.mi		1.52
libexec/Makefile				1.43
libexec/kfd/Makefile				1.8
usr.bin/Makefile				1.126
usr.bin/kf/Makefile				1.10

	Don't build kf or kfd; there are security issues with
	Heimdal 0.4e, and we don't actually need them.
	[joda, ticket #782]

sys/arch/vax/vsa/asc_vsbus.c			1.25

	Increase sc_maxxfer from 63K to 64K, otherwise fsck
	fails for file systems with larger block sizes.
	[chuck, ticket #783]

sys/dev/pcmcia/if_ne_pcmcia.c			1.95
sys/dev/pcmcia/pcmciadevs			1.177
sys/dev/pcmcia/pcmciadevs.h			regen
sys/dev/pcmcia/pcmciadevs_data.h		regen

	Add support for ACCTON EN2216-PCMCIA-ETHERNET.
	[bouyer, ticket #829]

doc/LAST_MINUTE					1.1, patch
doc/CHANGES					1.1, patch
doc/CHANGES.prev				1.1, patch
doc/README.files				1.1

	Pull up documentation that was moved into the base source.
	Clean up for the 1.6 release.
	Update LAST_MINUTE for cats and alpha X set issues.

share/termcap/termcap.src			1.71

	Correct the escape sequences for F1-F4 in our xterm entry.
	Fixes PR#18272.
	[jdc, ticket #789]

distrib/sets/makesums				1.5

	Also sum symlinks (as well as files) which match.
	[lukem, ticket #822]

distrib/notes/sparc/hardware			1.22-1.23

	Mention that some non-Sun CD-ROM drives can't boot any OS
	on Sun hardware.  Fix broken link to CD-ROM FAQ.
	[mbw, ticket #833]

sys/netinet/ip_output.c				1.102

	In rare cases when there is no room for ip options
	ip_insertoptions() can fail and corrupt a header length.
	Initialize len and check what ip_insertoptions() returns.
	[darrenr, ticket #842]

libexec/ftpd/ftpd.c				1.142

	Fix to allow /etc/ftpchroot to work correctly for
	usernames with > 9 characters.
	[lukem, ticket #843]

distrib/utils/sysinst/menus.mi.en		1.57-1.58
distrib/utils/sysinst/menus.mi.fr		1.37-1.38
distrib/utils/sysinst/menus.mi.pl		1.8-1.9

	Nullify ftp password whenever the user is changed.
	Fixes PR#11436.
	[grant, ticket #852]

distrib/utils/sysinst/arch/hpcmips/msg.md.en	1.7
distrib/utils/sysinst/arch/i386/msg.md.en	1.28

	Add explanation of normal vs. serial bootblocks.
	Addresses part of PR#18192.
	[grant, ticket #854]

distrib/hpcmips/Makefile			1.22

	Reorder lines so that ${MAKESUMS} is executed after all
	files are installed.
	[shin, ticket #856]

sys/arch/shark/isa/isa_shark_machdep.c		1.2

	Improve the display of ISA interrupts.
	[cgd, ticket #858]

sys/arch/macppc/stand/ofwboot/Makefile		1.35
sys/arch/macppc/stand/ofwboot/alloc.c		1.3

	Re-add own alloc(), to fix recent issues with
	kernels randomly dying on boot.
	[wrstuden, ticket #866]

sys/arch/macppc/stand/ofwboot/Locore.c		1.11

	Remove vestiges of the syncicache() call.
	This change makes OpenFirmware 2.4 machines actually boot.
	[wrstuden, ticket #867]

sys/nfs/nfs_serv.c				1.64

	Remove unnecessary PNBUF_PUT() in the NFSv2 mknod case.
	Fixes PR#18013.
	[bouyer, ticket #879]

sys/nfs/nfs_serv.c				1.63,1.65

	Improve various checks in nfsrv_commit() and nfs_commit().
	Prevents DIAGNOSTIC panics with some NVSv3 clients.
	[bouyer, ticket #880]

sys/arch/macppc/conf/INSTALL			patch

	Add uninorth* bus, so that this kernel can boot on
	various newer systems.

games/rogue/inventory.c				1.8
games/rogue/message.c				1.9
games/rogue/rogue.h				1.13
games/rogue/save.c				1.8

	Fix buffer overflows.
	[mrg, ticket #892]

sys/arch/arm/arm32/fault.c			1.23

	Record growth of stack in fault handler,
	so that core dumps contain the entire stack.
	[nathanw, ticket #885]

usr.bin/sort/fsort.c				1.21

	Use the right file to output merge result.
	[enami, ticket #883]

sys/uvm/uvm_swap.c				1.68

	Fix writing of kernel core dumps to alternate dump devices.
	Fixes PR#15947.
	[drochner, ticket #876]

sys/dev/pci/if_fxp_pci.c			1.26

	Certain revisions of the i82558 would not initialise
	correctly; fix this.
	Fixes PR#18011.
	[itojun, ticket #870]

gnu/dist/groff/src/preproc/pic/pic.y		1.2

	Avoid a possible buffer overflow.
	[wiz, ticket #869]

sys/dev/pcmcia/if_xi.c				1.23

	Changes from FreeBSD to improve performance.
	From PR#18372.
	[martin, ticket #891]

libexec/talkd/extern.h				1.3
libexec/talkd/process.c				1.8 (via patch)
libexec/talkd/talkd.c				1.14

	Fix response buffer & string handling.
	[itojun, ticket #846]

usr.sbin/lpr/lpd/lpd.c				1.43 (via patch)

	Set IPV6_V6ONLY socket option on AF_INET6 sockets, to avoid
	complicated access control issues due to IPv4 mapped address.
	[itojun, ticket #857]

crypto/dist/kame/racoon/missing/crypto/rijndael/rijndael-api-fst.c 1.2

	Turn on strict alignment #define's, because racoon reliably core
	dumps on machines which require strict alignment such as sparc64.
	[elric, ticket #897]

gnu/dist/sendmail/smrsh/smrsh.c			1.9

	More strict checking on command invocation.
	Refer to http://www.sendmail.org/smrsh.adv.txt.
	Resolves PR#18516.
	[itojun, ticket #898]

gnu/dist/toolchain/gdb/i386nbsd-nat.c		1.7

	Make sure to write back correct FP state.
	Resolves PR#17927.
	[toshii, ticket #841]

sys/dev/pci/if_fxp_pci.c			1.25

	Recognise the Intel PRO/100 VM Network Controller as seen in
	the HP omnibook 6100.
	[abs, ticket #844]

gnu/dist/toolchain/gcc/config/arm/arm.h		1.9

	Pull up patch from FSF GCC to fix aborts when compiling
	large functions for ARMv4.
	[rearnsha, ticket #847]

sys/netinet6/ip6_output.c			1.58

	The length field on the PADN option before the jumbo
	payload option was wrong.
	[itojun, ticket #855]

sys/arch/i386/conf/INSTALL			1.204
sys/arch/i386/conf/INSTALL_SMALL		1.90
sys/arch/i386/conf/INSTALL_TINY			1.58

	Change "ep0 at isa?" to "ep* at isa?", so ep instances
	during install are consistent with GENERIC.
	[grant, ticket #860]

distrib/utils/sysinst/menus.mi.en		1.61 (via patch)
distrib/utils/sysinst/menus.mi.fr		1.41 (via patch)
distrib/utils/sysinst/menus.mi.pl		1.12 (via patch)

	Use current values for start/size/bsize/fsize as defaults
	when editing disklabel partitions.
	[grant, ticket #853]

distrib/utils/sysinst/msg.mi.pl			1.5-1.6

	Language improvements.
	[grant, ticket #864]

distrib/utils/sysinst/menus.mi.en		1.59
distrib/utils/sysinst/menus.mi.fr		1.39
distrib/utils/sysinst/menus.mi.pl		1.10
distrib/utils/sysinst/msg.mi.en			1.91
distrib/utils/sysinst/msg.mi.fr			1.44
distrib/utils/sysinst/msg.mi.pl			1.10

	Allow unsetting of mountpoints in disklabel editor.
	Partially addresses PR#17801.
	[grant, ticket #865]

usr.sbin/etcupdate/etcupdate			1.7-1.8

	Fix typo, and don't execute /etc/postinstall if -b was used.
	[martti, ticket #871]

usr.bin/cdplay/cdplay.c				1.21

	Fix to allow the first minute of a CD to be played
	when using absolute msf addresses.
	[is, ticket #872]

sys/netinet/ip_nat.c				1.54

	Relax overly-conservative TCP option parsing used by ipnat
	when hunting for an MSS option to clamp.
	[sommerfeld, ticket #884]

distrib/utils/sysinst/util.c			1.74

	During timezone selection, only update the clock once per minute.
	Once per second is painful and annoying over a serial line.
	[grant, ticket #902]

bin/ksh/main.c					1.8

	Remove (nonexistent) newgrp as a builtin alias.
	This prevents the shell from unexpectedly dying if a
	user enters the 'newgrp' command.
	[jschauma, ticket #910]

sys/miscfs/kernfs/kernfs_vnops.c		1.84

	Correctly calculate file length for (e.g.) msgbuf.
	[jdolecek, ticket #911]

distrib/common/parselist.awk			1.13

	Escape { and } in the regexp that matches e.g. ${FOO}.
	[thorpej, ticket #824]

sys/nfs/nfs_vnops.c				1.152

	Fix panic in NFS client code when unlinking certain paths.
	[thorpej, ticket #930]

usr.sbin/rarpd/rarpd.8				1.10
usr.sbin/rarpd/rarpd.c				1.46

	Allow more than one interface to be specified on the command line.
	[thorpej, ticket #920]

bin/ps/keyword.c				1.28

	Correct use of format string.
	Fixes PR#18679.
	[itojun, ticket #922]

sbin/route/route.c				1.60

	Make prefixlen check to make sure its argument is present before
	dereferencing.
	[itojun, ticket #923]

sys/ufs/ufs/ufs_readwrite.c			1.43

	Make sure to update the vnode's size even if uiomove failed.
	otherwise, softdep states can't be flushed later.
	Fixes PR#16670.
	[yamt, ticket #926]

games/trek/getpar.c				1.10

	Avoid buffer overrun.
	[itojun, ticket #927]

sys/arch/macppc/stand/ofwboot/version		1.7

	Bump to version 1.7 to indicate a working alloc.c.
	[wrstuden, ticket #931]

sys/arch/i386/i386/machdep.c			1.492 (via patch)
	Fix bugs in BIOS memory probe.
	Fixes PR#13399.
	[kanaoka, ticket #934]

sys/netinet/tcp_input.c				1.156 (via patch)

	Correct log_refused check.
	Fixes PR#18669.
	[itojun, ticket #915]

sys/dev/pci/if_pcn.c				1.16

	Fix typos in media configuration register init.
	May address PR#16346.
	[thorpej, ticket #940]

lib/libpcap/pcap-bpf.c				1.9

	Open the BPF file descriptor as read-write.
	[thorpej, ticket #932]

sys/miscfs/genfs/genfs_vnops.c			1.65

	Improve NFS read performance.
	[fvdl, ticket #935]

etc/services					1.58

	Add iscsi at 3260/tcp.
	[thorpej, ticket #937]

sys/netinet/tcp_input.c				1.158

	Make sure TF_REQ_TSTMP and TF_REQ_SCALE get set correctly
	in the new TCPCB in the passive-open case.
	Fixes PR#18677.
	[thorpej, ticket #938]

sys/dev/i2o/iop.c				1.27

	Don't issue I2O_EXEC_IOP_CLEAR to AMI boards, since some
	firmware revisions can't handle it.
	Fixes PR#18760.
	[ad, ticket #939]

etc/rc.d/network				1.39
share/man/man5/ifconfig.if.5			1.6

	Automatically create and destroy cloning interfaces and sync
	IP Filter immediately afterwards before bringing the interface up.
	[tron, ticket #901]

dist/ipf/HISTORY				1.14
dist/ipf/fils.c					1.17-1.21
dist/ipf/ipf.c					1.11-1.13
dist/ipf/ipfs.c					1.8-1.10
dist/ipf/ipft_ef.c				1.6-1.7
dist/ipf/ipft_td.c				1.6-1.7
dist/ipf/ipft_tx.c				1.7-1.8
dist/ipf/ipmon.c				1.12-1.17
dist/ipf/ipnat.c				1.11-1.12
dist/ipf/ipsend/ip_var.h			1.2
dist/ipf/ipsend/ipsend.c			1.8 
dist/ipf/ipsend/iptests.c			1.5
dist/ipf/ipt.c					1.8-1.10
dist/ipf/kmem.c					1.8-1.10
dist/ipf/man/ipf.4				1.10
dist/ipf/man/ipf.5				1.8
dist/ipf/man/ipftest.1				1.3
dist/ipf/man/ipmon.8				1.10
dist/ipf/man/ipnat.5				1.9-1.10
dist/ipf/man/ipnat.8				1.4 
dist/ipf/misc.c					1.7 
dist/ipf/natparse.c				1.10
dist/ipf/parse.c				1.13
dist/ipf/printnat.c				1.8-1.10
dist/ipf/relay.c				1.5-1.6
dist/ipf/rules/example.9			1.2
etc/rc.d/ipnat					1.8
regress/sys/kern/ipf/Makefile			1.3-1.4
regress/sys/kern/ipf/dotest6			1.2
regress/sys/kern/ipf/expected/f13		1.1.1.2
regress/sys/kern/ipf/expected/i12		1.1.1.1
regress/sys/kern/ipf/expected/ni3		1.1.1.1
regress/sys/kern/ipf/expected/ni5		1.2
regress/sys/kern/ipf/input/f13			1.1.1.2
regress/sys/kern/ipf/input/ipv6.1		1.1.1.1
regress/sys/kern/ipf/input/ni3			1.1.1.1
regress/sys/kern/ipf/regress/i12		1.1.1.1
regress/sys/kern/ipf/regress/ipv6.1		1.1.1.1
regress/sys/kern/ipf/regress/ni3.ipf		1.1.1.1
regress/sys/kern/ipf/regress/ni3.nat		1.1.1.1
sys/arch/alpha/conf/ALPHA			1.169,1.171
sys/arch/amiga/conf/GENERIC			1.185-1.186
sys/arch/amiga/conf/AMIGA			(regen from GENERIC)
sys/arch/amiga/conf/DRACO			(regen from GENERIC)
sys/arch/amiga/conf/INSTALL			(regen from GENERIC)
sys/arch/amiga/conf/WSCONS			(regen from GENERIC)
sys/arch/arc/conf/GENERIC			1.71-1.72
sys/arch/atari/conf/GENERIC.in			1.24-1.25
sys/arch/cats/conf/GENERIC			1.31-1.32
sys/arch/cobalt/conf/GENERIC			1.34-1.35
sys/arch/hp300/conf/GENERIC			1.83-1.84
sys/arch/i386/conf/CARDBUS			1.66-1.67
sys/arch/i386/conf/GENERIC			1.510,1.512
sys/arch/i386/conf/GENERIC_LAPTOP		1.58-1.59
sys/arch/i386/conf/GENERIC_PS2TINY		1.19-1.20
sys/arch/i386/conf/GENERIC_TINY			1.47-1.48
sys/arch/luna68k/conf/GENERIC			1.33-1.33
sys/arch/mac68k/conf/GENERIC			1.130-1.131
sys/arch/mac68k/conf/GENERICSBC			1.21-1.22
sys/arch/mac68k/conf/SMALLRAM			1.4-1.5
sys/arch/macppc/conf/GENERIC			1.142-1.143
sys/arch/mipsco/conf/GENERIC			1.21-1.22
sys/arch/mmeye/conf/GENERIC			1.44-1.45
sys/arch/news68k/conf/GENERIC			1.36-1.37
sys/arch/news68k/conf/GENERIC_TINY		1.18-1.19
sys/arch/newsmips/conf/GENERIC			1.50-1.51
sys/arch/ofppc/conf/GENERIC			1.56-1.57
sys/arch/pmax/conf/GENERIC			1.103-1.104
sys/arch/prep/conf/GENERIC			1.55-1.56
sys/arch/sbmips/conf/GENERIC			1.11-1.12
sys/arch/sgimips/conf/GENERIC			1.7-1.8
sys/arch/sparc/conf/GENERIC			1.138-1.139
sys/arch/sparc64/conf/GENERIC32			1.46-1.47
sys/arch/vax/conf/GENERIC			1.102-1.103
sys/arch/x68k/conf/ALL				1.55-1.56
sys/arch/x68k/conf/GENERIC			1.80-1.81
sys/lkm/netinet/if_ipl/mln_ipl.c		1.29
sys/netinet/fil.c				1.57-1.58
sys/netinet/ip_auth.c				1.29-1.30
sys/netinet/ip_compat.h				1.30-1.31
sys/netinet/ip_fil.c				1.81-1.86
sys/netinet/ip_fil.h				1.46-1.49
sys/netinet/ip_frag.c				1.33-1.34
sys/netinet/ip_frag.h				1.18
sys/netinet/ip_ftp_pxy.c			1.25-1.26
sys/netinet/ip_h323_pxy.c			1.5-1.6
sys/netinet/ip_log.c				1.22-1.23
sys/netinet/ip_nat.c				1.51-1.53
sys/netinet/ip_nat.h				1.27
sys/netinet/ip_netbios_pxy.c			1.4
sys/netinet/ip_proxy.c				1.35-1.36
sys/netinet/ip_proxy.h				1.18
sys/netinet/ip_state.c				1.41-1.42
sys/netinet/ip_state.h				1.23
sys/netinet/ipl.h				1.14

	Upgrade IPFilter to 3.4.29.

	NOTE:	this requires a new kernel, reinstalled headers,
		and a rebuilt /sbin/ipf.  The headers and ipf(8)
		can be rebuilt with:
			cd /usr/src/sys
			make includes
			cd /usr/src/usr.sbin/ipf
			make dependall install

	[martti, ticket #905]

libexec/ftpd/cmds.c				1.19

	Turns out that our implementation of STAT wasn't RFC 959 compliant.
	This version is now RFC 959 compliant.
	[itojun, ticket #942]

sys/ufs/mfs/mfs_vfsops.c			1.42

	Force MFS mounts to be "sync".
	Fixes PR#17128 and PR#17321.
	[tron, ticket #941]

sys/net/if.c					1.105
sys/net/if.h					1.76
sys/sys/sockio.h				1.19

	Add SIOCGIFDATA and SIOCZIFDATA ioctl's to get interface data.  (the Z
	variant also zeroes the counters after copying them).  In ifunit, add
	support for dealing all numeric ifname by treating them as an ifindex
	which is used to look up the interface.
	[martin, ticket #32]

sys/arch/acorn26/podulebus/if_eh.c		1.3
sys/arch/acorn26/podulebus/podulebusreg.h	1.2
sys/arch/acorn32/podulebus/amps.c		1.3
sys/arch/acorn32/podulebus/asc.c		1.6
sys/arch/acorn32/podulebus/cosc.c		1.4
sys/arch/acorn32/podulebus/csa.c		1.3
sys/arch/acorn32/podulebus/csc.c		1.3
sys/arch/acorn32/podulebus/icside.c		1.3
sys/arch/acorn32/podulebus/if_ie.c		1.6
sys/arch/acorn32/podulebus/if_ne_pbus.c		1.5
sys/arch/acorn32/podulebus/podulebus.c		1.9
sys/arch/acorn32/podulebus/rapide.c		1.3
sys/arch/acorn32/podulebus/simide.c		1.3
sys/dev/podulebus/acemidi.c			1.4
sys/dev/podulebus/if_ea.c			1.6
sys/dev/podulebus/if_eb.c			1.4
sys/dev/podulebus/if_ei.c			1.5
sys/dev/podulebus/oak.c				1.9
sys/dev/podulebus/podule_data.h			1.8
sys/dev/podulebus/podulebus.h			1.6
sys/dev/podulebus/podulelist2h.awk		1.2
sys/dev/podulebus/podules			1.10
sys/dev/podulebus/podules.h			1.8

	Substantial overhaul of podule IDs.  Unlike on PCI or USB, podule IDs
	are assigned by RISCOS Ltd (and were assigned by Acorn) to be unique
	across all manufacturers.  This means that associating each one with
	a manufacturer (and checking the manufacturer when attaching) is
	bogus. Thus, we don't do that any more.

	This should have the pleasant side-effect of getting APDL IDE
	interfaces working, since they're just ICS ones with a different
	manufacturer ID.
	[chris, ticket #120]

usr.sbin/greconfig/greconfig.c			1.7

	Avoid a NULL pointer access if passed bogus parameters.
	Unify exit codes to EXIST_SUCCESS/EXIT_FAILURE.
	[martin, ticket #225]

Makefile					1.176

	In afterinstall, only run postinstall check if DESTDIR != /
	(or equivalents). Fixes [misc/17275] from
	Gregory McGarry <g.mcgarry@ieee.org>
	[lukem, ticket #319]

sys/netinet/ip_output.c				1.98-1.99

	Do not consult routing table under the following condition:
	- the destination is IPv4 multicast or 255.255.255.255, and
	- outgoing interface is specified via socket option

	This simplifies operation of routed
	(no longer require 224.0.0.0/4 to be set up)
	[itojun, ticket #356]

sys/dev/pci/pcidevs				1.466

	Add Promise Ultra133TX2 and Ultra133TX2v2 PCI ID.
	[bouyer, ticket #724]

distrib/notes/i386/hardware			1.109
share/man/man4/pciide.4				1.41
sys/dev/pci/pciide.c				1.165

	Add support for Promise Ultra133TX2 and Ultra133TX2v2, from FreeBSD
	and stephen@degler.net in kern/17509.
	[bouyer, ticket #724]

sys/dev/pci/pciide.c				1.166
sys/dev/pci/pciide_hpt_reg.h			1.8-1.9

	Add support for HPT372. From sdegler@kashmir.degler.net in kern/17908,
	with some improvement from me, and from FreeBSD.
	[bouyer, ticket #725]

sys/dev/ic/wdc.c				1.117

	Add support for Ultra/133 (ultra-DMA6) in wdc_probe_caps().
	[bouyer, ticket #726]

sys/dev/pci/pciide.c				1.167
sys/dev/pci/pciide_apollo_reg.h			1.12

	Correct setup for Ultra133 capable VIA chipsets, From Matthias Drochner
	on current-users, with cross-check and some improvement from
	linux-2.4.19 and FreeBSD-current. Also don't set the
	APO_UDMA_CLK66 bit for Ultra/100 capable chipset, and support
	Ultra/133 for the VT8233A.
	[bouyer, ticket #727]

sys/dev/pci/pciide.c				1.168

	Support Ultra/133 on promise controllers that can do it.
	[bouyer, ticket #728]

sys/dev/scsipi/atapi_wdc.c			1.53

	Do PIO transfers for len < 4 bytes. From Matthias Drochner in
	private mail.
	[bouyer, ticket #733]

sys/arch/powerpc/mpc6xx/pmap.c			1.46

	Set SR_PRKEY for user pmaps.  For the kernel SR(s) set
	SR_SUKEY|SR_PRKEY. Note that we never use a PTE PP of 0 or 1
	(supervisor protection) so the "key" is basically unused.  However,
	use SR_PRKEY for user space is conceptionally the right thing to do.
	Currently the kernel_pmap SR(s) are ignored but that is going to be
	fixed shortly.
	[matt, ticket #372]

sys/arch/powerpc/powerpc/trap_subr.S		1.22

	Revamp how SR(s) are loaded on the user/kernel boundary. We now load
	all 16 SR registers when transitioning between kernel and user.  Also,
	don't reload the kernel SR(s) on every trap but only on traps from
	user space. Instead of loading magic SRs for the kernel, load the
	kernel SRs from the kernel_pmap_. This makes trap_subr.S completely
	ignorant of SR uses and so they can change with having to change
	trap_subr.S. Also note that since the user and kernel get complete
	SR sets, user VA space can now be increased to 4GB if desired.
	[matt, ticket #373]

sys/arch/powerpc/include/mpc6xx/vmparam.h	1.2

	When not using the OLD pmap, bump kernel KVA space to 512MB (OLD pmap
	stays at 256MB).
	[matt, ticket #374]

sys/dev/pci/if_sip.c				1.55
sys/dev/pci/if_sipreg.h				1.11

	* Give symbolic names to the CFG bits in the EEPROM.
	* Get CFG_M64ADDR, CFG_T64ADDR, and CFG_DATA64_EN from the EEPROM.
	  Note, we still disable CFG_M64ADDR and CFG_T64ADDR later (XXX need
	  PCI bus capability flags for these).
	* Print a message if we're in a 64-bit slot and 64-bit data is
	  disabled in the EEPROM.  Make sure CFG_DATA64_EN is disabled if
	  we're not in a 64-bit slot.
	[thorpej, ticket #411]

sys/dev/pci/if_sip.c				1.56

	Implement a sliding interrupt delay window for Tx interrupts.
	[thorpej, ticket #412]

sys/dev/pci/if_sip.c				1.58

	Update the TODO list: We have some Tx interrupt mitigation now, so
	we need to do Rx interrupt mitigation next.
	[thorpej, ticket #413]

sys/dev/pci/if_sip.c				1.59

	Load configuration data from the EEPROM on the DP83820 differently:
	rather than grovel the EEPROM directly, initiate an "EEPROM load" in
	the PCI test register, and fetch the values from the CFG register.
	[thorpej, ticket #414]

sys/dev/pci/if_sip.c				1.60

	Add a table of known-64-bit DP83820-based cards.  Use this table
	to enable 64-bit data transfers on 64-bit cards when plugged into
	a 64-bit slot.  Right know the Asante GigaNIX is listed in that
	table.

	Sigh, there is an EEPROM bit that can be used to detect 64-bit vs
	32-bit cards.  Unfortunately, at least 2 vendors of 32-bit cards
	fail to clear the "DATA64_EN" bit in the EEPROM, which causes the
	card to lose badly, because it still manages to detect that it's
	plugged into a 64-bit PCI slot.  Yay, stupid hardware vendors.
	[thorpej, ticket #415]

sys/arch/i386/pci/pchb_rnd.c			1.10-1.12

	Add hardware random generator support for Intel i845, i850
	and i860 chipsets, and make sure to unmap if it's not there.
	[tron, ticket #231]

distrib/sets/lists/xcomp4/mi			1.2

	Add new files installed by XFree86 4.2.1.
	[tron, ticket #780]

distrib/macppc/floppies/ramdisk/list		1.21
distrib/utils/sysinst/arch/macppc/Makefile	1.3
distrib/utils/x_ftp/Makefile			1.14
distrib/utils/x_ifconfig/Makefile		1.17-1.18
distrib/utils/x_route/Makefile			1.14
sys/arch/macppc/conf/INSTALL			1.62

	Make macppc install floppy IPv6-ready.
	[itojun, ticket #347]

tools/host-mkdep/host-mkdep.in			1.3

	Delete a few things which appear in gcc 3.x's CPP output.
	[thorpej, ticket #784]

gnu/usr.sbin/dbsym/dbsym.c			1.5

	Pull in config.h if building as a host tool.
	bfd_vma is not a pointer type, so use 0 instead of NULL.
	[thorpej, ticket #785]

gnu/usr.sbin/mdsetimage/mdsetimage.c		1.7

	bfd_vms is not a pointer type, so use 0 instead of NULL.
	[thorpej, ticket #786]

usr.bin/man/manconf.c				1.1 (new)
usr.bin/man/manconf.h				1.1 (new)
usr.bin/man/Makefile				1.8
usr.bin/man/man.c				1.29
libexec/makewhatis/Makefile			1.15 via patch
libexec/makewhatis/makewhatis.c			1.26
usr.bin/man/config.c				delete
usr.bin/man/config.h				delete

	Rename man/config.{c,h} to man/manconf.{c,h}, so we do not
	have to worry about problems including "config.h" when
	building as a host tool.
	[thorpej, ticket #787]

usr.bin/man/manconf.c				1.2

	Pull in config.h when building as a host tool.
	[thorpej, ticket #788]

lib/libasn1/asn1_compile/Makefile		1.18

	When being built as a host tool, the <config.h> we use is
	actually the libnbcompat config.h, so -DKRB5=1 so that
	print_version.h actually has a version in it.
	[thorpej, ticket #790]

distrib/sets/lists/xcomp/md.macppc		1.1 (new)
distrib/sets/lists/xcomp4/md.macppc		1.1 (new)
distrib/sets/lists/xfont/md.macppc		1.1 (new)
distrib/sets/lists/xbase/md.macppc		1.4 (re-added)
distrib/sets/lists/xserver/md.macppc		1.4-1.5
distrib/sets/lists/xserver4/md.macppc		1.1-1.3 (new)

	Add XFree86 version 4 stuff for macppc.
	[mycroft, ticket #792]

bin/cat/cat.c					1.35

	Don't use MAX(); not all systems have it, and this is a
	host tool.
	[thorpej, ticket #793]

lib/libcom_err/compile_et/Makefile		1.15

	The config.h we use when building as a host tool is the
	libnbcompat config.h, not the heimdal config.h, so define
	KRB4=1 and KRB5=1 for print_version.h.
	[thorpej, ticket #794]

tools/compat/glob.h				1.1 (new)
tools/compat/md2.h				1.1 (new)
tools/compat/md4.h				1.1 (new)
tools/compat/md5.h				1.1 (new)
tools/compat/rmd160.h				1.1 (new)
tools/compat/sha1.h				1.1 (new)
tools/compat/vis.h				1.1 (new)
tools/compat/config.h.in			1.20 via patch
tools/compat/configure.ac			1.22 via patch
tools/compat/configure				regenerate
tools/compat/Makefile				1.14
tools/compat/README				1.4

	Include various more functions in libnbcompat, mostly
	becuase our tools use features not universally present in
	other versions. This applies to glob(3), vis(3), and the
	MD2, MD4, RMD160 and SHA1 implementations.
	Also add checks for random(3) and termios.h for the Heimdal
	host tools.
	Update README to indicate the current state of building the
	host tools on Solaris 8 (for SPARC).
	[thorpej, ticket #797]

tools/make/buildmake.sh.in			1.4

	Be more conservative with quoting, to play nice with
	Solaris 8's /bin/sh.
	[thorpej, ticket #798]

build.sh					1.67 via patch

	Use /usr/bin/env to invoke the real interpreter; this gets
	us a POSIX shell on more systems.
	Deal with a broken "pwd" on Solaris.
	[thorpej, ticket #800]

tools/compat/README				1.5

	Update Solaris section.
	[thorpej, ticket #801]

tools/compat/compat_defs.h			1.17

	Add __restrict to the set of tokens we #define away: our
	glob.h uses it.
	[thorpej, ticket #802]

libexec/makewhatis/makewhatis.c			1.25
usr.bin/apropos/apropos.c			1.18-1.20
usr.bin/apropos/Makefile			1.10
usr.bin/man/man.c				1.28
usr.bin/whatis/whatis.c				1.14-1.16
usr.bin/whatis/Makefile				1.7
usr.sbin/catman/catman.c			1.17-1.18
usr.sbin/catman/Makefile			1.7

	Make these compile again, after the changes in ticket
	#787.
	[he, ticket #787]

libexec/ftpd/ftpcmd.y				1.69

	We really, actually, positively want to apply the ftpd.conf "passive"
	option to all possible *PSV commands.  Some ftp servers are simply not
	capable of passive connections, hence the option....
	[tv, ticket #418]

sys/dev/usb/usbdevs				1.258

	Add product code for SMC 2206USB/ETH EZ Connect Ethernet adapter
	[rh, ticket #442]

sys/dev/usb/if_aue.c				1.77

	Add support for the SMC 2206USB/ETH EZ Connect adapter (Pegasus II)
	[rh, ticket #442]

libexec/fingerd/fingerd.c			1.16

	typo in message.  PR 17528
	[itojun, ticket #445]

sys/net/if_gre.c				1.27

	Change default MTU to 1476 (same value that Cisco uses).
	Do not limit the MTU when set by the admin with ifconfig, per
	discussion on tech-net. This fixes PR 16761 from Jasper Wallace.
	[martin, ticket #226]

sys/dev/audio.c					1.156

	When audio recording was paused or dropping samples, the "outp" of the
	recording ring buffer could overrun the end of the buffer.  When
	recording resumed, memory after the end of the buffer would be read,
	sometimes causing a system crash.
	[gson, ticket #972]

sys/dev/pci/pcidevs				1.451

	Clean up Intel i8254x product names, and add i82540, i82545, and i82546
	product IDs.
	[thorpej, ticket #452]

sys/dev/pci/if_wm.c				1.11

	Don't use internal names to identify chips.  Add types for the
	i82540, i82545, and i82546 (but don't match them yet).
	[thorpej, ticket #453]

