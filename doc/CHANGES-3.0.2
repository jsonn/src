#	$NetBSD: CHANGES-3.0.2,v 1.1.2.12 2006/08/23 20:14:55 tron Exp $

A complete list of changes from the NetBSD 3.0.1 release to the NetBSD 3.0.2
release:

File						Revision(s)
----						--------
gnu/usr.bin/groff/tmac/mdoc.local		patch
sys/sys/param.h					patch

	Welcome to 3.0.1_STABLE

sys/arch/sparc/sparc/machdep.c			patch

	Avoid panic in memory management on some SPARC systems with QFE cards.
	This fixes PR port-sparc/33340 and  PR port-sparc/33894.
	[fair, ticket #1401]

sys/nfs/nfs_vnops.c				1.239-1.240 via patch
sys/nfs/nfs_var.h				1.62 via patch

	Fix race condition in NFS renaming that could cause the renamed file
	to be deleted.
	[jld, ticket #1424]

lib/libm/arch/i387/s_scalbn.S			1.8
lib/libm/arch/i387/s_scalbnf.S			1.7

	Fix the ldexp() bug reported on the port-amd64 mailing list.
	[drochner, ticket #1236]

sys/uvm/uvm_bio.c				patch

	Avoid a panic in page fault handling that can occur under low-memory
	conditions.
	[jld, ticket #1323]

xsrc/xfree/xc/programs/Xserver/hw/xfree86/drivers/nv/nv_driver.c 1.8
xsrc/xfree/xc/programs/Xserver/hw/xfree86/drivers/nv/riva_driver.c 1.3

	Fix unresolved symbol in the "nv" driver.
	[jmmv, ticket #1439]

lib/libc/arch/i386/sys/__sigtramp2.S		1.2

	Fix PR port-i386/34112 where a program could mysteriously exit on
	return from a signal handler.
	[jld, ticket #1447]

usr.bin/column/column.c				1.13-1.14

	- PR bin/32322: Division by zero in column(1) with certain column
	  widths.
	- Plug memory leak.
	[daniel, ticket #1449]

usr.bin/whereis/whereis.c			1.18

	PR bin/34114: which(1) doesn't handle commands given as absolute
	pathnames.
	[cube, ticket #1456]

sys/dev/usb/ehci.c				1.96
sys/dev/usb/ohci.c				1.159
sys/dev/usb/uhci.c				1.188
sys/dev/usb/usbdivar.h				1.74

	Fix a race condition in xfer abort.  Derived from a FreeBSD patch.
	Fixes occasional crashes while printing.  PR#33250
	[abs, ticket #1459]

distrib/utils/sysinst/label.c			1.48

	pointer signedness comparison fixes (needed for following pullup).
	[dsl, ticket #1462]

distrib/utils/sysinst/defs.h			1.130
distrib/utils/sysinst/label.c			1.49
distrib/utils/sysinst/mbr.c			1.75

	When we read 'last mounted' from an FFSv2 superblock set the flag to
	default the partition to FFSv2 (instead of FFSv1).
	This makes update installs add the correct bootstrap code.
	Fixes PR/33682 and PR/32636 (and 33228 which has alrady been closed
	as a duplicate of 32636).
	[dsl, ticket #1463]

sys/net/if_spppsubr.c				1.96

	Avoid buffer overflow in the in-kernel PPP code shared by ISDN PPP
	interfaces ippp(4) and pppoe(4). This fixes SA2006-019 (CVE-2006-4304).
	[adrianp, ticket #1476]

