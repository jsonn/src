#	$NetBSD: CHANGES-2.0,v 1.1.2.486 2004/10/04 06:05:50 jmc Exp $

A complete list of changes from the initial NetBSD 2.0 branch on 28 March 2004
until 2.0 release:

File						Revision(s)
----						--------
doc/LAST_MINUTE                                 patched by hand

        Null out in preparation for 2.0

share/tmac/doc-common                           patched by hand
sys/sys/param.h                                 patched by hand

        Update to 2.0_BETA

dist/ipf/tools/ipmon.c				1.3

	Don't create unnecessary ifdefs that are due to character signness in
	different platforms.
	[jmc, ticket #5]

usr.sbin/ipf/Makefile.inc			1.12
usr.sbin/ipf/ipf/Makefile			1.18
usr.sbin/ipf/ipfstat/Makefile			1.17
usr.sbin/ipf/ipftest/Makefile			1.25
usr.sbin/ipf/ipmon/Makefile			1.18
usr.sbin/ipf/ipnat/Makefile			1.20
usr.sbin/ipf/ippool/Makefile			1.4
usr.sbin/ipf/ipresend/Makefile			1.17
usr.sbin/ipf/ipsend/Makefile			1.20
usr.sbin/ipf/iptest/Makefile			1.16
usr.sbin/ipf/libipf/Makefile			1.2

	de-lint makefiles:
	* fix -j N parallel build issues
	* support MAKEVERBOSE
	* move NOxxx= to before <bsd.own.mk>
	* remove unnecessary -ll (except for ipsend)
	* remove unnecessary CPPFLAGS
	* only build libipf.a (we don't need libipf_p.a or libipf_pic.a)
	* fix dependencies upon libipf.a
	[martti, ticket #7]

usr.sbin/ipf/ipsend/Makefile			1.21

	Use iplang_l.l instead of iplang_l.c in SRCS, and tweak appropriately.
	[martti, ticket #8]

usr.bin/gzip/zdiff				1.3
usr.bin/gzip/zmore				1.3

	s/compress/gzip/, our compress is not the backend for gzip.
	[wiz, ticket #9]

sys/sys/param.h					patch by hand

	Note 2.0_BETA in the comments as osrelease.sh picks this up.
	[cube, ticket #11]

gnu/usr.bin/groff/tmac/mdoc.local		patch by hand
	
	This is the correct place to bump the default OS version now
	[wiz, private email]

gnu/lib/libgcc3/Makefile.inc			1.7

	Remove generated sources files "__gcc_bcmp.c", "_bb.c" and "_eprintf.c"
	in "cleandir" target.
	[tron, ticket #10]

distrib/utils/sysinst/msg.mi.fr			1.75

	Some minor fixes in text.
	[bouyer, ticket #12]

games/worms/worms.c				1.15

	Properly handle -d 1000.
	[hubertf, ticket #13]

sys/sys/userret.h				1.4

	Update comment to match reality:  sparc64 uses mi_userret.
	[cl, ticket #14]

sys/arch/powerpc/fpu/fpu_emu.c			1.11

	Make the "cond" variable an unsigned variable. PR#24938
	[simonb, ticket #18]

sys/compat/darwin/darwin_sysctl.c		1.24

	Fix undefined variable.
	[jmc, ticket #15]

share/mk/bsd.files.mk				1.34-1.35

	Include <bsd.sys.mk> because uue files need TOOL_UUDECODE and in the
	USETOOLS=no case this never gets defined.
	Also pull in bsd.obj.mk for something which is just using files to
	install a uuencoded file
	[jmc, ticket #16]

usr.sbin/ipf/ipf/Makefile			1.19
usr.sbin/ipf/ipftest/Makefile			1.26
usr.sbin/ipf/ipmon/Makefile			1.19
usr.sbin/ipf/ipnat/Makefile			1.21
usr.sbin/ipf/ippool/Makefile			1.5
usr.sbin/ipf/ipsend/Makefile			1.22

	Add -I. to CPPFLAGS or else the generated .c files lose.
	[jmc, ticket #19]

distrib/acorn32/stand/BtNetBSD/!BtNetBSD/Banner.uue	delete
distrib/acorn32/stand/BtNetBSD/!BtNetBSD/banner.uue	1.1
distrib/acorn32/stand/Makefile				1.11

	Rename Banner.uue to banner.uue so it doesn't lose on .PATH lookups
	[jmc, ticket #20]

distrib/hp300/miniroot/list			1.12

	Catch up with the removal of gawk, so that the miniroot builds again.
	[he, ticket #24]

usr.bin/gzip/gzip.c				1.30
usr.bin/gzip/unbzip2.c				1.2-1.3

	Patch to convert to using public bz interfaces. PR#24964
	[tron, ticket #21]

usr.bin/gzip/gzip.c				1.31

	Use off_t instead of ssize_t in a few places.
	Fix "gzip -l" in -DSMALL (it wasn't doing a stat(2)).
	[mrg, ticket #22]

sys/uvm/uvm_map.c				1.165

	uvm_map_findspace: don't return unaligned address if alignment is
	specified.
	[yamt, ticket #23]

usr.bin/find/find.1				1.48
usr.bin/find/find.c				1.19

	Do not skip whiteout files returned by fts_read(), which only returns
	them if requested. Patch from PR#5419.
	Mention -type w, which is coded as a synonym for W (whitespace).
	[heas, ticket #25]

usr.bin/calendar/calendars/calendar.birthday	1.16

	Tweak change for Asimov's entry some. Restore reference to
	Russian SFSR, but note that it's now Russia, not part of the USSR.
	[wrstuden, ticket #26]

crypto/dist/kame/racoon/isakmp.c		1.14

	Reject packet with too big isakmp message length field.
	[itojun, ticket #27]

sys/netinet/udp_usrreq.c			1.117-1.118

	Drop packet if IPv6 udp packet does not have checksum (checksum is
	mandatory in IPv6).
	[itojun, ticket #28]

sys/netinet/ip_compat.h				1.36

	Fix panics caused by IPFilter on most platforms.
	[mrg, ticket #32]


usr.sbin/wsmoused/wsmoused.conf.5		1.8

	Fix two typos. PR#22581
	[jmmv, ticket #29]

usr.sbin/apm/apm.8				1.17
usr.sbin/apm/apm.c				1.15

	Add missing m option in SYNOPSIS. 
	Remove duplicate d in getopt(3) call. PR#24971
	[tron, ticket #30]

usr.bin/rlogin/rlogin.c				1.30

	Drop some unnecessary whitespaces from the usage message. PR#24993
	[jmmv, ticket #31]

usr.bin/gzip/gzip.c				1.33-1.34

	Handle files with link count larger than 1 if -f option is used. 
	This is consistent with the old gzip and required by pkgsrc 
	to implement MANZ properly.
	[tron, ticket #33]

sys/netinet/ip_compat.h				1.37

	Only #define COPYIN copyin, et cetera, in the kernel.
	[mrg, ticket #34]

sys/dev/pci/auvia.c				1.37

	Don't allow block sizes < 288 bytes on VT823x chips. PR#22788
	[jmcneill, ticket #36]

sys/kern/kern_sysctl.c				1.170

	Add the standard "is this tree writeable" check to sysctl_describe()
	and a comment to sysctl_destroy() about why the check is slightly
	different there.
	[atatat, ticket #37]

gnu/dist/cvs/src/server.c			1.14

	Correctly fallback into the normal path when SETXID_SUPPORT is defined
	but the binary was the normal one.  Fixes PR#23471.
	[jmc, ticket #35]

sys/netinet/ip_fil_netbsd.c			1.4

	Untangle ioctl copyin/copyout confusion. IP-Filter now actually works
	on sparc64 (and probably everywhere else).
	[martin, ticket #39]

dist/ipf/tools/ipf_y.y				1.2

	ioctl(2) "request" arguments should be ioctlcmd_t, not u_int.
	[martin, ticket #40]

sys/kern/kern_ras.c				1.8-1.9

	ras_install: don't do pool_get(PR_WAITOK) while we're holding a
	             spinlock.
	ras_fork:    don't do PR_WAITOK holding a spinlock.
	[yamt, ticket #41]

usr.sbin/ipf/ipf/Makefile			1.20
usr.sbin/ipf/ipftest/Makefile			1.27
usr.sbin/ipf/ipmon/Makefile			1.20
usr.sbin/ipf/ipnat/Makefile			1.22
usr.sbin/ipf/ippool/Makefile			1.6
usr.sbin/ipf/ipsend/Makefile			1.23

	Simplify `bar.c: bar.y' (et al) rules by moving header dependencies
	which bar.o (not bar.c) needs to DPSRCS, and using {.ALLSRC} in the
	target now that only bar.y is a source.
	[lukem, ticket #42]

sys/dev/pci/pcidevs				1.616
sys/dev/pci/pcidevs.h				regen
sys/dev/pci/pcidevs_data.h			regen

	Correct entry for PCI vendor id 0x11af. It is assigned to Avid 
	Technology Inc. and not to Pro-Log Corporation. PR#25004
	[tron, ticket #38]

sys/kern/kern_sig.c				1.190

	If a signal is the result of trap, only invoke a supplied handler
	if it's not blocked.  Otherwise (it if it blocked or the handler
	is set to SIG_IGN) reset the signal back to its default settings
	so that a coredump can be generated.
	[matt, ticket #43]

sys/arch/macppc/macppc/machdep.c		1.131
sys/arch/powerpc/oea/oea_machdep.c		1.16

	Move to softintr__init to cpu_startup and remove softintr__init call 
	for oea.
	[matt, ticket #44]

sys/dev/ic/i82557.c				1.82

	Be more careful about issuing CU_RESUME in fxp_start()--only doing
	it if we think it's probably necessary.  Then do it again in the
	tx interrupt handler, if we again think it's necessary.  This
	reduces the number of commands we issue the chip.  Prior to this
	change, the i82550 (running without extended feature set, so like
	a '559)  would sometimes fail in fxp_scb_wait() prior to issuing
	another CU_RESUME, resulting in
	        fxp0: WARNING: SCB timed out!
	messages on the console, often followed by device timeouts.
	[briggs, ticket #45]

sys/netinet/fil.c				1.62
sys/netinet/ip_lookup.c				1.2

	A few more ioctl vs. copyin changes, spotted by Bill Studenmund.
	[martin, ticket #46]

sys/arch/i386/stand/misc/Makefile		1.3
sys/arch/i386/stand/misc/pfdisk.doc.uue		1.1
sys/arch/i386/stand/misc/pfdisk.exe.uue		1.1
sys/arch/i386/stand/misc/pfdisk.gze		delete
sys/arch/i386/stand/misc/pfdisk.txt		delete
sys/arch/i386/stand/misc/pfdisktc.zip		delete
sys/arch/i386/stand/misc/pfdisktc.zip.uue	1.1
sys/arch/i386/stand/misc/rawr32.zip		delete
sys/arch/i386/stand/misc/rawr32.zip.uue		1.1
sys/arch/i386/stand/misc/rawr32src.zip		delete
sys/arch/i386/stand/misc/rawr32src.zip.uue	1.1
sys/arch/i386/stand/misc/rawrite.doc.uue	1.1
sys/arch/i386/stand/misc/rawrite.exe.uue	1.1
sys/arch/i386/stand/misc/rawrite.gze		delete
sys/arch/i386/stand/misc/rawrite.txt		delete

	Convert to using UUDECODE_FILES instead of using -kb in the repository.
	[lukem, ticket #47]

sys/dev/mvme/vme_two.c				1.4

	After re-checking the docs in response to a port-mvme68k question,
	don't claim to support D8 local-bus->VMEbus transfers.
	[scw, ticket #49]

usr.bin/fstat/fstat.c				1.66

	Fix fstat core dumps when some process holds a reference in a Linux
	ext2fs filesystem. PR#21301
	[aymeric, ticket #50]

xfree/xc/fonts/util/bdftruncate.pl		1.4

	*shudder* install perl scripts... perhaps we shouldn't, but while we
	are, may as well give it a "#! /usr/bin/env perl" so it has a chance
	of working...  unfortunately, this even fixes PR#22578 ;-)
	[tron, ticket #48]

share/man/man4/options.4			1.233-1.234

	Document BEEP_ONHALT{,COUNT,PITCH,PERIOD}.
	[jmmv, ticket #51]

gnu/usr.bin/send-pr/send-pr.sh		1.21-1.22

	use mktemp(1) for safe temp files.
	oops; exit on failure with the previous.
	Fixes PR#21840.
	[reed, ticket #52]

distrib/mvme68k/miniroot/list			1.14

	Adapt to the replacement of gawk with nawk, source accessible as awk.
	[he, ticket #53]

sys/dev/pci/emuxki.c				1.32
sys/dev/pci/joy_pci.c				1.8
sys/dev/pci/pcidevs				1.618
sys/dev/pci/pcidevs.h				regen
sys/dev/pci/pcidevs_data.h			regen

	Added another SB Live! 5.1 soundcard and joystick version
	[martti, ticket #54]

sys/kern/kern_sig.c				1.191-1.193
sys/sys/siginfo.h				1.12

	Replace memset's of ksiginfo_t with KSI_INIT (which is the proper way 
	to initialize ksiginfo_t structures).
	Add the notion of an "empty" ksiginfo_t (one where on signo is filled 
	in).
	Add an initializer for them: KSI_INIT_EMPTY
	Add a predicate for them: KSI_EMPTY_P
	Don't bother storing empty ksiginfo_t's since they have no information.
	Change uses of KSI_INIT to KSI_INIT_EMPTY where no other information 
	other than the signo is being filled in.
	When a process is being traced (debugged) and a catchable signal 
	arrives, make sure to save its ksiginfo_t for eventual delivery.
	This makes debugging SA_SIGINFO signal handlers work.
	[matt, ticket #56]

usr.sbin/ipf/Makefile.inc			1.13
usr.sbin/ipf/ipfstat/Makefile			1.18
usr.sbin/ipf/ipnat/Makefile			1.23
usr.sbin/ipf/ippool/Makefile			1.7

	Move kvm library spec to Makefile.inc, so that it gets specified
	after the ipf library, since the ipf library depends on some functions
	from the kvm library.
	Fixes a build problem observed when building for sun2 (though I
	won't claim understanding why this doesn't show up elsewhere).
	[he, ticket #57]

sys/arch/i386/stand/misc/Makefile		1.5

	Fix uudecoding of object files.
	[groo, ticket #58]

sys/dev/pci/if_bge.c				1.67

	Fix mistaken arguments to bge_set_thresh(); the prior revision would
	pass the bge_softc * to a function expecting the struct ifnet*,
	triggering a panic every time the Rx-mitigation value is changed via
	sysctl.
	[jonathan, ticket #59]

sys/arch/sparc64/dev/pci_machdep.c		1.46

	OF_getprop can get only the first "reg" property with a statically
	allocated buffer, but prom_getprop cannot.
	This should fix a "kernel trap 30: data access exception" when you
	invoke a pcictl(8).
	[nakayama, ticket #60]

dist/dhcp/includes/cf/netbsd.h			1.4

	"gcc -m32 -mcpu=ultrasparc" defines __sparc_v9__, so __sparc64__ is
	more appropriate to indicate a 64-bit environment.
	[nakayama, ticket #61]

sys/arch/macppc/conf/GENERIC			1.173

	Enable "INSECURE" kernel option so that GENERIC kernels are capable of
	running XF4 servers.  while this isn't the best solution, it is the
	only one we have for the forseeable future, and there is long-standing
	precedent in the i386 port.
	[mrg, ticket #64]

sys/arch/i386/i386/identcpu.c			1.11

	- fix i386_intel_brand[]: it was missing a empty reserved entry at 0xD
	  causing Mobile Pentium 4 to be shown as a Mobile Celeron.
	- fix intel_family6_name() for brand=0xB && signature >= 0xF13
	- fix a potential out-of-bounds array reference
	[mrg, ticket #65]

xfree/xc/programs/xdm/config/Imakefile		1.2

	Provide a default tty under NetBSD-amd64, too. PR#25060
	[tron, ticket #63]

etc/rc.d/ipmon					1.11
etc/defaults/rc.conf				1.57

	Move ipmon's "-D" argument from "command_args" to "ipmon_flags" so that
	passing an (optional) filename argument (that must come last) works fine
	from $ipmon_flags. PR#25006
	[mrg, ticket #66]

distrib/sets/lists/xserver/md.sgimips		1.5

	Add mmapw - mmapr is already there.
	[hubertf, ticket #67]

usr.bin/lex/gen.c				1.18

	Typo in debugging output. PR#25065
	[christos, ticket #68]

sys/netinet/tcp_subr.c				1.161

	Invoking tcpcb's get erroneously free'd resulting in to_ticks <= 0 
	assertion.  PR#22551
	[christos, ticket #69]

sys/dev/ic/com.c				1.225

	Fix race condition introduced in rev 1.189; after the change, if there 
	is THRE interrupt occurs between the LSR read and IIR read, we won't 
	see the LSR_TXRDY bit when testing it in the variable 'lsr' and we 
	don't get interrupted again (as the corresponding bit in the IIR is 
	cleared by reading, except for some broken devices). PR#25010
	[enami, ticket #70]

dist/dhcp/includes/cf/netbsd.h			1.5

	Use _LP64 to indicate 64-bit platform.
	[nakayama, ticket #71]

x11/bin/xdm/config/Makefile			1.6
	mirror change in Imakefiles:  provide DEFAULTVT=vt05 for amd64 as well.
	[mrg, ticket #72]

xfree/xc/programs/xdm/sessreg.c			1.2
	Add support for utmpx in current (since 1.6C).  OKed by tron.
	[markd, ticket #73]

gnu/dist/gdb/sim/ppc/emul_netbsd.c		1.2
gnu/dist/gdb/sim/ppc/hw_htab.c			1.2
gnu/dist/gdb/sim/ppc/hw_init.c			1.2
gnu/dist/gdb/sim/ppc/hw_register.c		1.2
gnu/dist/gdb/sim/ppc/hw_trace.c			1.2
gnu/dist/gdb/sim/ppc/hw_vm.c			1.2
gnu/dist/gdb/sim/ppc/ppc-instructions		1.2
gnu/dist/gdb/sim/ppc/sim_calls.c		1.2
gnu/usr.bin/gdb53/Makefile			1.3
gnu/usr.bin/gdb53/arch/powerpc/defs.mk		1.3
gnu/usr.bin/gdb53/arch/powerpc/init.c		1.4
gnu/usr.bin/gdb53/gdb/Makefile			1.7
gnu/usr.bin/gdb53/sim/Makefile			0-1.1
gnu/usr.bin/gdb53/sim/arch/powerpc/config.h	0-1.1
gnu/usr.bin/gdb53/sim/arch/powerpc/subdir.mk	0-1.1
gnu/usr.bin/gdb53/sim/ppc/Makefile		0-1.2
gnu/usr.bin/gdb53/sim/ppc/psim/Makefile		0-1.1
gnu/usr.bin/sim/Makefile			1.4-0
gnu/usr.bin/sim/arch/powerpc/config.h		1.1-0
gnu/usr.bin/sim/arch/powerpc/subdir.mk		1.1-0
gnu/usr.bin/sim/ppc/Makefile			1.7-0
gnu/usr.bin/sim/ppc/psim/Makefile		1.2-0

	Restore some functionality that was lost in the gdb5.3 upgrade.
	[mrg, ticket #62]

sys/dev/hpc/hpckbdkeymap.h			1.27

	Give the MobilePro 800 and MobilePro 880 correct keymaps:  fix the
	positioning of the cursor keys to match the keycaps, and make the cmdmap
	work correctly.
	[tv, ticket #74]

sys/arch/hpcmips/conf/Makefile.hpcmips.inc	1.2

	Allow the codegen option to be specified in the config file rather than
	being fixed at -mips2, by setting "makeoptions MIPSFLAGS"

	[tv, ticket #75]

sys/arch/hpcmips/dev/mq200debug.c		1.3

	Allow compilation without MQ200_DEBUG:  mq200_clknames is used outside 
	of debugging-only code.
	[tv, ticket #76]

sys/kern/kern_sysctl.c				1.171

	First caller to set a description on a node sets it.  This allows one
	setup function to set the description, even if the node has been
	instantiated elsewhere.  Or not, depending on the other that the setup
	functions are called.
	[atatat, ticket #77]

share/termcap/termcap.src			1.89

	Move the attribute end escape sequence to the start of the xterm
	initialisation sequence capability. PR#11052
	[jdc, ticket #78]

usr.bin/tput/tput.1				1.13

	Note in the BUGS section that some termcap entries don't have
	reset capabilities, so use init instead. PR#11052

	[jdc, ticket #79]

share/termcap/termcap.src			1.90

	Add termcap entry for Olivetti M10 and compatibles. PR#17739
	[jdc, ticket #80]

sbin/sysctl/sysctl.c				1.87

	Add -d flag to usage message(s).
	[atatat, ticket #81]

usr.bin/gzip/gzip.c				1.32

	Factor out filetype checking code
	[mrg, ticket #82]

usr.bin/gzip/gzip.c				1.35

	Completely rewrite print_ratio(). 
	print_list() was getting the compressed/uncompressed sizes backwards.
	PR#25072
	[mrg, ticket #83]

dist/ipf/tools/ipfstat.c			1.3

	Incorrect conditional -- misplaced ]. PR#25097
	[christos, ticket #84]

sys/kern/init_sysctl.c				1.25

	Clear out the struct kinfo_drivers before stuffing things into it.
	Avoids leaking garbage from the stack (left over from the earlier
	call to sysctl_locate()).
	[atatat, ticket #85]

sys/conf/files					1.663

	Create opt_sysctl.h which will hold sysctl related options.  I suspect
	most of these won't be used (well, the description related one will
	be), but it's good to formalize things.
	[atatat, ticket #86]

sys/sys/sysctl.h				1.117

	Include new opt_sysctl.h here, and use SYSCTL_NO_DESCR for eliminating
	properly declared descriptions.
	[atatat, ticket #87]

sbin/sysctl/sysctl.c				1.88

	Do nothing else for nodes with no children if -d is used (dflag is
	set).  Otherwise, some nodes (those with "printers") will also print
	the "use foo ..." message.
	[atatat, ticket #88]

lib/libc/gen/sysctlbyname.c			1.2
lib/libc/gen/sysctlnametomib.c			1.2
lib/libc/gen/sysctlgetmibinfo.c			1.3
lib/libc/include/namespace.h			1.85

	Weak aliases for sysctlfoobar() functions.
	[atatat, ticket #90]

lib/libc/gen/sysctl.c				1.24

	Descriptions for user.* sysctl nodes.  Mostly copied from sysctl(3).
	[atatat, ticket #89]

share/man/man4/dmoverio.4			1.6

	The device is called /dev/dmoverio, not /dev/dmover.
	[atatat, ticket #91]

sbin/sysctl/sysctl.c				1.89

	Don't copy the size that sysctl gave back directly, copy the size of
	the description.
	[atatat, ticket #92]

sbin/sysctl/sysctl.c				1.90

	Don't copy the size that sysctl gave back directly, copy the size of
	the description.  *thwap*
	[atatat, ticket #94]

sys/arch/sparc/stand/boot/boot.c		1.19

	Compat mode: skip double map at VA 0 if the physical load address is 0.
	This allows a much wider range of historic kernels to be booted (with
	`-C').
	[pk, ticket #95]

sys/arch/sparc/sparc/pmap.c			1.277-1.278
sys/arch/sparc/include/pmap.h			1.71

	Maintain pmap resident count as pages are mapped and unmapped instead
	of traversing the page tables each time it's needed.
	Allow pv_link4_4c() to fail with ENOMEM on pool allocation failures
	(catching up with pv_link4m()).  
	Fix return code checking for pv_link4m() calls.
	Add low water setting to pv pool. 
	[pk, ticket #96]

sys/arch/sparc/sparc/cache.c			1.83

	For now, disable Hypersparc instruction cache on MP machines.
	[pk, ticket #97]

sys/net/if_spppsubr.c			1.76

	Be more paranoid about data a non-root user may query.
	Fixes PR#25099 by Christian Biere.
	[martin, ticket #98]

usr.bin/vi/common/options.c			1.10

	Fix copying and freeing of options.  Patch from yamt@ in PR#25050.
	[aymeric, ticket #99]

usr.bin/vi/common/exf.c			1.12
usr.bin/vi/ex/version.h			1.14

	Don't fail if asked to recover a file for which there is no recovery
	file.  Just continue.
	Bump version: failed recovery doesn't prevent editing anymore.
	[aymeric, ticket #100]

games/mille/move.c				1.14

	If the current player has no cards, skip to the other player.    
	Make this compile with -DDEBUG. PR#12530
	[jdc, ticket #101]

sys/arch/macppc/pci/pci_machdep.c		1.25

	Deal with OFW trees that have interrupt nodes without an #address-cells
	property. Treat them as if they had such a property but its value
	was 0.
	[matt, ticket #102]

sys/arch/i386/i386/procfs_machdep.c		1.19

	Revert previous: Linux' procfs spells "CPU" "cpu", so mimic it.
	Closes PR 25076 by salo.
	[salo, ticket #103]


sys/sys/sysctl.h				1.118
sys/sys/mbuf.h					1.91

	Standalone programs should not use stddef.h.  They are more like the
	kernel, so they must use sys/systm.h instead.

	[atatat, ticket #105]

xfree/xc/lib/X11/ConnDis.c			1.2

	Don't core when there exist (bogus) IPv6 XDM-AUTHORIZATION-1 records 
	in the ${XAUTHORITY} file. PR#25098
	[tron, ticket #104]

sys/dev/raidframe/rf_psstatus.h			1.10

	We really should have a wakeup in RF_UNLOCK_PSS_MUTEX in case we have
	a nap in RF_LOCK_PSS_MUTEX!
	[oster, ticket #106]

sys/sys/sysctl.h				1.119
sys/conf/files					1.664

	Invert the meaning of SYSCTL_NO_DESCR by calling it SYSCTL_USE_DESCR
	instead.  This makes it an option to include the descriptions, as
	opposed to an option to *exclude* them.

	[atatat, ticket #107]

usr.bin/netstat/mbuf.c				1.23

	sysctl(3) no longer returns ENOPROTOOPT in this case, but ENOENT,
	which is a more generic "that's not in the tree" response.

	ENOPROTOOPT was specific to the net subtree under the old framework,
	and didn't add much value (other than letting the caller know they
	were looking up something under the net subtree, which they presumably
	ought to have known already).

	[atatat, ticket #108]

sys/sys/sysctl.h				1.120
sys/conf/files					1.665

	s/SYSCTL_USE_DESCR/SYSCTL_INCLUDE_DESCR/g since the latter name seems
	more popular.  Or at least, less unpopular.

	[atatat, ticket #109]

dist/ipf/tools/ipf_y.y				1.3

	Commit fix, for a functional regression  in the new ipf
	return_icmp_as_dest with an argument was no longer accepted by the 
	parser
	[jwise, ticket #110]

usr.sbin/racoon/Makefile			1.3

	Wait for libpfkey to build before descending into racoon, as the
	latter depends on the existence of the result of the former.

	[he, ticket #111]

sys/ufs/lfs/lfs_inode.c				1.83

	If we bail out due to an error, we need 'unreserve' the space that
	we'd reserved earlier.
	[oster, ticket #112]

sys/dev/ic/mpt_netbsd.c				1.8

	Set the DMA SGL length correctly if the DMA request must be chained 
	because it is too large to fit in one SGL. PR#24967
	[briggs, ticket #113]

sys/arch/hp300/stand/common/clock.c		1.5

	Fix yet another y2k+1 bug.
	[tsutsui, ticket #115]

sys/arch/hp300/dev/com_frodo.c			1.2
sys/arch/hp300/dev/frodoreg.h			1.2
sys/arch/hp300/dev/frodo.c			1.17

	Adjust fd_name in struct frodo_device frodo_subdevs[]
	since MD apci(4) has been switched to MI com(4).     
	Adjust FRODO_BASE macro since com_frodo uses bus_space_map(9)
	which takes offset from intiobase instead of KVA.
	It turns out that not only HP425e but other HP4xx models also require
	COM_HW_NOIEN for APCI com(4) ports.

	[tsutsui, ticket #116]

sys/arch/hp300/dev/grf_tc.c			1.29
sys/arch/hp300/dev/grf_hy.c			1.22
sys/arch/hp300/dev/grf_gb.c			1.26
sys/arch/hp300/dev/grf_rb.c			1.27
sys/arch/hp300/dev/grf_dv.c			1.27

	Check mapped device VA by badaddr() in cnattach functions for 
	framebuffers.
	[tsutsui, ticket #117]

sys/arch/hp300/dev/itevar.h			1.19

	Don't panic when kernel tries to print a horizontal tab via itecnputc().
	[tsutsui, ticket #118]

sys/arch/hp300/dev/hil.c			1.62-1.63

	Include ite.h before the first reference of NITE. Change us_keymap 
	extern
	[tsutsui, ticket #119]

sys/arch/cobalt/cobalt/machdep.c		1.51

	Tidy up messages for total/avail memory.
	[tsutsui, ticket #120]

sys/arch/dreamcast/dreamcast/locore.S		1.6

	Add ALTENTRY(kernel_text) for pmap(1).
	[tsutsui, ticket #121]

sys/arch/sgimips/sgimips/machdep.c		1.82

	Tidy up total/avail memory message as well as other ports.
	[tsutsui, ticket #122]

sys/dev/raidframe/rf_aselect.c			1.20
sys/dev/raidframe/rf_dag.h			1.16
sys/dev/raidframe/rf_dagdegwr.c			1.24
sys/dev/raidframe/rf_dagffwr.c			1.27
sys/dev/raidframe/rf_dagutils.c			1.44
sys/dev/raidframe/rf_dagutils.h			1.17
sys/dev/raidframe/rf_desc.h			1.13
sys/dev/raidframe/rf_driver.c			1.99
sys/dev/raidframe/rf_netbsd.h			1.20
sys/dev/raidframe/rf_raid.h			1.33

	These changes complete the effective removal of malloc() from all
	write paths within RAIDframe.  They also resolve the "panics with
	RAID 5 sets with more than 3 components" issue which was present
	(briefly) in the commits which were previously supposed to address
	the malloc() issue. With this new code the 5-component RAID 5 set
	panics are now gone. It is also now also possible to swap to RAID 5.
	Fixes PR#20191
	[oster, ticket #123]

sys/dev/raidframe/rf_driver.c			1.100

	Allocating emergency buffer space is all fine and well, but one should
	really remember to return the memory when unconfiguring the array.
	Same thing goes	for the pool elements used to build the list!
	[oster, ticket #124]

lib/libc/gen/sysctl.c				1.25

	Avoid using preprocessing conditionals in a macro argument list at
	least as long as all ports have not yet been converted to using
	gcc 3.3.3.
	[he, ticket #128]

sbin/raidctl/raidctl.8				1.39-1.40

	Swapping to RAID 5 is happy now.  Remove indications to the contrary.
	Bump date for last.
	[oster, ticket #130]

distrib/sets/lists/man/mi			1.681
usr.sbin/ipf/ippool/Makefile			1.8

	install ippool(5) manual as well.  from peter postma in PR#25053.
	[mrg, ticket #129]

sys/arch/sparc/conf/GENERIC			1.151

	Add comment to indicate that the SunSwift Sbus HME/FAS366 SCSI
	combination board attaches esp* at sbus*; it's not just "older proms"
	[fair, ticket #114]

xfree/xc/programs/Xserver/hw/netbsd/amiga/s3/amigaCV.c	1.3

	The XF4.4.0 import now checks previously unused REGION_* macro 
	arguments; fix an error from the XF3->XF4 conversion.
	[tron, ticket #125]

xfree/xc/programs/Xserver/hw/netbsd/amiga/s3/amigaCVblt.c	1.3
xfree/xc/programs/Xserver/hw/netbsd/amiga/retina/amigaGX.c	1.2

	Fix a couple more XFree86 4.4.0 import changes.
	[tron, ticket #126]

xfree/xc/config/cf/xfree86.cf			1.13
xfree/xc/config/cf/NetBSD.cf			1.67

	Pull in an AMD64 specific configuration fix. 
	Static X servers using the vesa driver also need AFB. PR#25112
	[tron, ticket #127]

distrib/utils/sysinst/Makefile.inc		1.35

	Use ${DISTRIBVER} for the version number, not ${VER}. PR#24995
	[grant, ticket #131]

usr.sbin/racoon/racoon/Makefile			1.20

	Do not compile in print-isakmp.c, as src/dist/tcpdump contains ancient 
	version which could be vulnerable to attacks.
	[itojun, ticket #132]

distrib/sets/lists/xserver/md.evbsh3		1.1

	evbsh3 builds Xvfb.
	[mrg, ticket #133]

x11/tools/fc-cache/Makefile			1.7
x11/tools/mkfontscale/Makefile			1.3-1.4

	Remove DPADD=${LIBZ}, since a host tool should not depend on
	/usr/lib/libz.a even if it is using the system libz.
	Add -DDARWIN_NO_CARBON to HOST_CPPFLAGS so that cross build on MacOS
	will not attempt to use mac specific resource fork font support.
	[dbj, ticket #135]

sbin/sysctl/sysctl.c				1.91

	If the node was specifically requested but has no description, print
	the "no description" message instead of skipping (as happens when
	recursing into a subtree).  This does not apply to non-node-type
	nodes.
	[atatat, ticket #136]

sys/dev/ata/atavar.h				1.41

	Change the value of DRIVE_ATAPIST which was same as that of
	DRIVE_DMAERR. Ok'd by bouyer.
	[minoura, ticket #137]

sys/arch/i386/i386/locore.S			1.26
sys/arch/i386/i386/pmap.c			1.172

	- keep cr3 register and its copy in TSS synchronized.
	  otherwise an interrupt vector using a task gate (ie. ddbipi) messes
	  it up.
	- defer LDTR loading as well as cr3.
	- tweak comments to make three copies of switching code more
	  synchronized.
	[yamt, ticket #138]

sys/dev/pci/if_dge.c				1.2-1.3

	Make it possible to use 16k MTU.
	The 82597 chip may write back some receive descriptors off-by-one when
	the PCIX bus start to get heavily loaded.  This only happen when using
	chained descriptors, therefore work-around it by providing a private
	pool of receive buffers able to contain a full-sized packet.
	[ragge, ticket #139]

sys/netinet/tcp_input.c				1.192

	Add back one line which was accidentially removed (by me) a while ago.
	Spotted by Markus Friedl (markus at openbsd.org).
	[ragge, ticket #140]


sys/kern/kern_systrace.c			1.38

	Check process flags. SA#2004-007
	[provos, ticket #151]

lib/libc/time/strftime.3			1.22

	Add documentation for %v. PR#25180
	[kleink, ticket #141]

gnu/dist/gcc/gcc/ChangeLog			1.7
gnu/dist/gcc/gcc/expr.c				1.2
gnu/dist/gcc/gcc/fold-const.c			1.2
gnu/dist/gcc/gcc/tree.h				1.2

	Apply changes from PR#22489
	[mrg, ticket #142]

share/man/man4/options.4			1.235

	Flesh out description of COMPAT_AOUT.
	[mrg, ticket #143]

share/man/man4/options.4			1.236

	Add a useful description for COMPAT_AOUT.
	[mrg, ticket #144]

usr.bin/gzip/gzip.c				1.36

	Don't try to remove an output file we haven't actually created. PR#25189
	[mrg, ticket #146]

sys/arch/hpcmips/conf/GENERIC			1.147
sys/arch/hpcmips/conf/LROUTER			1.18
sys/arch/hpcmips/conf/NULLCONF			1.18
sys/arch/hpcmips/conf/VR41XX			1.18
sys/arch/hpcmips/conf/MPC303			1.26
sys/arch/hpcmips/conf/Makefile.hpcmips.inc	delete
sys/arch/hpcmips/conf/TX3912			1.50
sys/arch/hpcmips/conf/TX3922			1.53
sys/arch/hpcmips/conf/std.lcard			1.4

	Move -mips2 to CPUFLAGS in each kernel config file.
	[tv, ticket #147]

sys/arch/i386/conf/Makefile.i386		1.134

	We need to also clean out athhal-elf-o, so that "make clean; make"
	after an initial "make" will also (re)build athhal-elf.o.
	[he, ticket #148]

sys/dev/ic/wdcvar.h				1.56
sys/dev/ata/ata.c				1.28

	Make wdc_channel->ch_flags volatile, and cast it to (void *) when used
	in tsleep()/wakeup() to appease gcc. Otherwise, the ch_flags value may
	be cached in a register in atabus_thread(), and when it sets the 
	WDCF_TH_RUN bit after tsleep() it may loose loose the changes made by 
	an interrupt handler or another thread.
	[bouyer, ticket #149]

distrib/utils/sysinst/msg.mi.pl			1.36
distrib/utils/sysinst/msg.mi.en			1.126

	Said "Mount pount"...now says "Mount point".
	[atatat, ticket #153]

usr.bin/calendar/calendars/calendar.history	1.15

	Lincoln was fatally shot on the 14th, and only the 14th.  Move the 
	more detailed entry from 04/16 to 04/14.
	[snj, ticket #154]

bin/pax/tar.c					1.48

	Redo GNU tar --exclude emulation to actually work the same.
	[mrg, ticket #155]

bin/pax/tar.c					1.49

	Fix bugs in the previous.  use snprintf(). PR#25131
	[mrg, ticket #145]

usr.sbin/pkg_install/add/verify.c		1.5

	Fix signature verification after pkg_add and friends were changed to use
	fexec() - trying to exec "gpg --verify %s" won't work with fexec, so 
	split up the command into separate words.
	[agc, ticket #156]

distrib/sets/lists/xcomp/md.atari		1.5

	Add the XF86VidMode* manual pages. PR#25181
	[jdc, ticket #158]

distrib/utils/sysinst/msg.mi.pl			1.37

	Polish translations. PR#25224
	[dsl, ticket #159]

sys/netinet/tcp_subr.c				patch
sys/netinet/tcp_input.c				patch
sys/netinet/tcp_var.h				patch

	If a segment is received with RST set and the segment is completely to 
	the left of the receive window, ignore it.  Add some additional 
	comments to the code that deals with received segemnts that are 
	completely to the right of the receive window.  If an invalid SYN is 
	received, force an ACK and drop it; if the other side really sent the 
	SYN; it'll respond with a reset.
	Respond to RST by ACK, as suggested in NISCC recommendation.
	Rate-limit ACKs against RSTs and SYNs.
	If SYN is coming and RCV.NXT == SEG.SEQ, then ACK with value - 1.
	SA#2004-006.
	[itojun, ticket #169]

sys/compat/svr4_32/svr4_32_stat.c		1.14
sys/compat/svr4/svr4_stat.c			1.51

	Fix the sysinfo(SI_HW_SERIAL, emulation so that we actually get the
	hostid of the machine rather than always getting "0"
	[dmcmahill, ticket #161]

lib/libc/compat-43/gethostid.c			1.6
lib/libc/compat-43/sethostid.c			1.7

	The API to hostid that libc provides may involve a "long", but the
	interface the kernel provides to libc (and the rest of userland) is an
	"int".  Therefore, stop pretending that its a long, since that can
	incur bizarre failure modes if the types also dont have the same size
	(sparc64, alpha, etc).
	[atatat, ticket #162]

sys/fs/msdosfs/msdosfsmount.h			1.6

	Properly version the msdosfs mount structure after addition
	of gmt time offset support. PR#25226
	[jdolecek, ticket #160]

sys/dev/dksubr.c				1.12

	Redo dk_start(). If di->di_diskstart() runs synchronous its biodone() 
	will call dk_start() via dk_iodone() before the buffer gets removed 
	from queue.  PR#25240
	[elric, ticket #163]

distrib/sets/makesrctars			1.16

	Move ./contrib/sys from src.tgz to syssrc.tgz. PR#25251
	[lukem, ticket #165]

distrib/sets/makesrctars			1.17
distrib/sets/Makefile				1.45

	* Support '-x xsrcdir' to tar up xsrcdir as xsrc.tgz, with the
	  contents of the tarfile being relative to xsrcdir and
	  prefixed with 'usr/xsrc'
	* Convert to getopts a la the other scripts in this directory
	* if ${MKX11} != no, call makesrctars with '-x ${X11SRCDIR}'
	[lukem, ticket #166]

dist/dhcp/common/bpf.c				1.7
usr.sbin/mopd/common/pf.c			1.9
usr.sbin/ndbootd/config/ndbootd-bpf.c		1.7
usr.sbin/rarpd/rarpd.c				1.50
usr.sbin/rbootd/bpf.c				1.16
sys/net/bpf.c					1.91-1.95
sys/net/bpf.h					1.34-1.36
sys/net/bpfdesc.h				1.17-1.18

	Reduce bpf buffer to 32k from 1M to reduce kernel memory usage from 
	userland binaries. 
	Fix bpf so that select will return for a timeout.
	Fix the behaviour of BIOCIMMEDIATE.
	In bpf_mtap(), optimise the calling of bpf_filter() and catchpacket()
	based on whether or not the entire packet is in one mbuf.
	Various other bpf fixes, including PR#8674, PR#12170
	[darrenr, ticket #167]


distrib/amd64/floppies/ramdisk/list		1.6
distrib/atari/floppies/common/Makefile.images	1.6
distrib/common/list.sysinst			1.11
distrib/common/list.sysinst.en			1.1
distrib/i386/floppies/common/Makefile.ramdisk	1.22
distrib/i386/floppies/ramdisk-big/list		1.20
distrib/i386/floppies/ramdisk-tiny/Makefile	1.26
distrib/mac68k/instkernel/ramdisk/Makefile	1.27
distrib/prep/floppies/ramdisk/Makefile		1.11
distrib/x68k/floppies/ramdisk/Makefile		1.25

	Add French, German and Polish sysinstmsgs to all ramdisks that include 
	sysinst except those where at least one of the language variants isn't 
	built, and those that are known not to have enough space 
	(i386 ramdisk-tiny).  Files added to list.sysinst, list.sysinst.en is 
	used when these files cannot be added.
	[dsl, ticket #168]

bin/pax/ar_subs.c				1.30
bin/pax/tar.c					1.50-1.51
bin/pax/file_subs.c				1.42

	Fixes for multiple pax pr's. PR#25200. PR#25207.
	[christos, ticket #170]

sys/kern/sys_pipe.c				1.56
sys/kern/subr_prof.c				1.31
sys/kern/kern_resource.c			1.78
sys/kern/kern_ntptime.c				1.27
sys/kern/init_sysctl.c				1.26

	Lots of sysctl descriptions mostly copied from sysctl(3).
	[atatat, ticket #93]

sys/kern/init_sysctl.c				1.27

	Prefer that kern.hostid is printed in hex, not as a signed decimal,
	and avoid accidental sign-extension when setting it.
	[atatat, ticket #150]

distrib/sets/lists/base/shl.mi			1.262
lib/libkrb5/shlib_version			1.12
doc/3RDPARTY					1.202
crypto/dist/heimdal				netbsd-2-0-base -> 
					heimdal-1-6-1-merge-to-netbsd-2-0
lib/libgssapi/Makefile				1.13
include/heimdal/config.h			1.14
include/heimdal/version.h			1.15

	heimdal 0.6 to 0.6.1
	[lha, ticket #157]

distrib/sparc64/xminiroot/Makefile		1.23

	Copy the sysinst message files into the correct objdir at the same time
	as copying the crunched program binary.
	Fixes PR sparc64/25265
	[dsl, ticket #171]

sys/netinet/tcp_subr.c				1.164

	Change the default state of two tunables; bring our TCP a little bit
	closer to normal behaviour for the current century.
	New Reno is now on by default (which is really the only reasonable
	choice, since we don't do SACK); instead of an initial window of 1
	for non-local nets, we now use Sally Floyd's magic 4K rule.
	[tls, ticket #172]

sys/sys/sysctl.h				1.122

	Move a type cast (wrt description handling) and do a little lint
	cleaning.
	[atatat, ticket #173]

sbin/sysctl/sysctl.c				1.92

	Some lint cleaning, strip leading (and sometimes trailing) whitespace
	from values to be assigned when processing a file.  Clean up error
	reporting (print the name of the file and the line number), and tidy
	some numeric conversions.  Continue after most "errors" when
	processing a -f argument.
	Addresses PR bin/25115.
	[atatat, ticket #174]

etc/MAKEDEV.awk					1.15

	The character position passed to substr() should have an origin of
	1.  This fixes a bug that prevented MAKEDEV working with some awk
	implementations (e.g., mawk 1.3.3).
	[enami, ticket #175]

x11/Xserver/xinput/Makefile			1.9

	XINPUT is also needed by vax.  This fixes the vax build failure in
	src/x11/Xserver/xinput.
	[mhitch, ticket #176]

x11/Xserver/Makefile.common			1.17

	The Xprt build needs cfb, and the vax Xserver will soon need the cfb
	stuff, so enable building cfb.  Fixes the Xprt build failure on vax
	when building from src/x11.
	[mhitch, ticket #177]

sys/kern/vfs_subr.c				1.219

	Pass LK_NOWAIT to vget() while holding the spechash spinlock in
	checkalias().  This fixes a locking procedures violation on MP
	kernels.
	[pk, ticket #178]

sys/arch/sparc/sparc/pmap.c			1.279-1.293
sys/arch/sparc/sparc/cache.c			1.84-1.89
sys/arch/sparc/include/pmap.h			1.72-1.73
sys/arch/sparc/sparc/cpuvar.h			1.59-1.62
sys/arch/sparc/sparc/emul.c			1.9
sys/arch/sparc/sparc/trap.c			1.154
sys/arch/sparc/sparc/cpu.c			1.183-1.185
sys/arch/sparc/sparc/cache.h			1.29-1.31
sys/arch/sparc/sparc/intr.c			1.84-1.85
sys/arch/sparc/sparc/locore.s			1.199-1.207
sys/arch/sparc/sparc/genassym.cf		1.42-1.43
sys/arch/sparc/include/cpu.h			1.67
sys/arch/sparc/include/lock.h			1.15-1.17
sys/arch/sparc/conf/GENERIC.MP			1.3

	Many fixes for issues with sparc multi-processor support (includes
	fixes to make HyperSPARC MP work).
	[pk, ticket #179]

sys/sys/sysctl.h				1.123

	Add extra parentheses to make the cast correct.
	[atatat, ticket #180]

sbin/sysctl/sysctl.c				1.93

	Allocate adjusted size, not fixed size.
	[atatat, ticket #181]

sys/arch/i386/stand/mbr/mbr.S			1.6

	Put the 'mbr has bootselect table' marker into all versions of the
	mbr code.  Having the table in the 'standard' mbr allows fdisk to
	write in bootsel menu items and only ask about updating the mbr
	code before exit.
	Sysinst validates that the mbr code contains the bootselect table
	for all the mbr code variants it reads - because it might want to
	write the table and doesn't really want to make the validation
	dependant on what it is going to do later.
	PR#25235.
	[dsl, ticket #182]

sys/arch/vax/vax/machdep.c			1.146

	The second "console_device" node should really be called
	"booted_device".
	[atatat, ticket #183]

sbin/newfs/mkfs.c				1.88

	Fix support for creating APPLE_UFS filesystems with -v.
	This includes most of the support for creating fs level 3
	compatible filesystems, although there is currently no command
	line option to invoke it when not using apple_ufs.
	PR#23924.
	[dbj, ticket #184]

sbin/fsck_ffs/utilities.c			1.46
sbin/fsck_ffs/setup.c				1.72-1.73
etc/rc.d/fixsb					1.1-1.10
sys/ufs/ffs/ffs_alloc.c				1.75
sys/ufs/ffs/ffs_vfsops.c			1.141-1.142
etc/defaults/rc.conf				1.58
distrib/sets/lists/etc/mi			1.141
etc/postinstall					1.75
etc/mtree/special				1.80
etc/rc.d/Makefile				1.47

	Fix problems related to superblock upgrade issues which may be
	experienced by -current users from 2003.
	PR#17910, PR#21283, PR#21404, PR#23925, PR#23926, PR#25138, 
	[dbj, ticket #185]

sys/dev/scsipi/cd.c				1.201

	Some older devices do not understand the `disable block descriptor'
	bit in the mode sense request.  So fall back on mode sense data
	including a block descriptor section.
	PR#25210.
	[pk, ticket #186]

sys/netinet/ip_rules.c				1.2

	Fix VAX kernel problem: always include <sys/param.h> first.
	[matt, ticket #187]

bin/pax/file_subs.c				1.43-1.44
bin/pax/tar.c					1.52

	PR#25188: pax-as-tar problem with trailing slashes
	The problem is with the program that generates the tar file:
	-rwxrwxrwx  1 root     wheel          0 Feb  8 16:46 faad2/aacDECdrop/
	It creates directory nodes without the 'd' bit set, so that pax thinks
	they are files and does the temporary name and dance with them. Added
	code to detect this condition, warn about it, and work around it.

	PR#25350: Treat the sticky bit specially as non-superusers
	cannot set it on non-directories (elvis-2.2_0 extraction failed)

	PR#25299: 1.5.3/i386 kernel set archives confuse -current pax
	PR#25310: tar can't unpack MS-DOS gzip files correctly

	[snj, ticket #217]

sys/arch/i386/pci/pci_intr_fixup.c		1.28
sys/arch/i386/pci/pci_intr_fixup.h		1.4
sys/arch/i386/pci/pcibios.c			1.15
sys/arch/i386/pci/piix.c			1.6
sys/arch/i386/pci/piixreg.h			1.2

	Support for PIRQ[E-H], found in recent intel south bridges
	(ICH2 and later). PR#23700
	[kochi, ticket #188]

sys/dev/acpi/acpica/Osd/OsdHardware.c		1.8

	Fix 16bit-wide access to PCI configuration space.
	[kochi, ticket #189]

sys/dev/acpi/acpica/Subsystem/acobject.h	1.9
sys/dev/acpi/acpica/Subsystem/exmutex.c		1.13

	A bugfix for Mutex handling.
	[kochi, ticket #190]

sys/dev/acpi/acpivar.h				1.16-1.17
sys/dev/acpi/acpi_ec.c				1.23
sys/dev/acpi/acpi.c				1.60-1.61
sys/dev/acpi/files.acpi				1.23

	Add ACPI ECDT (Embedded Controller Description Table) support.
	This will enable usage of EC in early stage of ACPI initialization.
	[kochi, ticket #191]

sbin/sysctl/sysctl.c				1.94

	When converting a string to a number, also make sure that you didn't
	convert an empty string to a zero. PR#25115
	[atatat, ticket #192]

sys/sys/sysctl.h				1.124
sys/kern/kern_sysctl.c				1.172
lib/libc/gen/sysctl.c				1.26

	Remove dynamic sysctl node version 0 from the tree.
	[atatat, ticket #193]

sys/compat/darwin/darwin_sysctl.c		1.25
sys/kern/kern_sysctl.c				1.173

	Be consistent about using sysc_init_field()
	[atatat, ticket #194]

distrib/utils/sysinst/disks.c			1.77-1.83

	Perform the same function in sysinst as the etc/rc.d/fixsb script. 
	PR#25138
	[dbj, ticket #195]

x11/Xserver/hw/xfree86/int10/Makefile		1.4

	Only -D_PC on i386/amd64. PR#25036
	[kristerw, ticket #196]

sys/ufs/ffs/ffs_vfsops.c			1.145

	Remove botched superblock upgrade warnings.
	There are now alternate non-kernel checks and fixes for this problem.
	PR#17910 PR#21283 PR#21404 PR#23925 PR#23926 PR#25138
	[dbj, ticket #197]

sys/netinet6/in6_pcb.c				1.64

	Fix per-PCB IPsec policy cache for FAST_IPSEC.
	The sys/netipsec policy-cache assumes that policy-cacheable PCBs
	always has a non-NULL inph_sp in the common PCB header.  So we must 
	do all the per-PCB policy cache calls when either (KAME) IPSEC, or  
	FAST_IPSEC is defined.
	[jonathan, ticket #201]

sys/sys/bootblock.h				1.27

	Add offset of old i386 mbr bootsel structure.
	[dsl, ticket #198]

distrib/utils/sysinst/Makefile.inc		1.36
distrib/utils/sysinst/mbr.c			1.62
distrib/utils/sysinst/mbr.h			1.19
distrib/utils/sysinst/arch/i386/md.c		1.101

	Fix mbr bootcode handling to ensure that the bootselect table is always
	written into the correct place - even if the user decides not to update
	the mbr code and has the old (pre layout change) code installed.
	Tell the user that the mbr code needs updating if the new install uses
	'all the disk' and the old version had the bootselect code (otherwise 
	you get an empty menu). PR#25146
	[dsl, ticket #199]

usr.sbin/makefs/ffs.c				1.28

	Allow for ROOTINO when deciding whether their are enough inodes in the
	created filesystem.  Otherwise this fails when asked for 63 inodes for
	i386 ramdisk-big.
	[dsl, ticket #200]

sbin/fsck_ffs/inode.c				1.46

	Fix 64bit bug in chkrange().
	[dbj, ticket #202]

gnu/usr.bin/gcc3/backend/Makefile		1.15
doc/HACKS					1.33

	Drop workaround for PR#22489 now that the fix for it has been pulled
	from the gcc current.
	[uwe, ticket #203]

lib/libcurses/PSD.doc/macros			1.8

	Add trailing space that got lost from the string definition. PR#25340
	[uwe, ticket #204]

sys/dev/ic/i82557.c				1.83

	Back out revision 1.82.  It seems to cause a number of device timeouts
	on x86 boxes.  There must be a better way to deal with this that works
	well for everyone.  In the meantime, back out to the version that works
	for more people.
	[briggs, ticket #218]

sys/dev/pci/if_fxp_pci.c			1.38

	Add a default case to the product ID attachment to print the chip
	description and revision information if a chip is matched and this
	switch statement isn't updated to match.  Addresses PR kern/18019.
	[briggs, ticket #220]


share/man/man4/options.4			1.237-1.238

	Document the sysctl related options.
	[atatat, ticket #205]

sys/compat/netbsd32/netbsd32_sysctl.c		1.15
sys/compat/linux/common/linux_sysctl.c		1.14

	Be consistent about using sysc_init_field()
	[atatat, ticket #206]

sys/ddb/db_command.c				1.76

	Not supposed to be there
	[atatat, ticket #207]

sbin/tunefs/tunefs.8				1.34

	According to newfs(8) and reality, the default minfree value is 
	actually 5% not 10%.
	[grant, ticket #208]

sys/arch/arm/include/arm32/frame.h		1.11

	Always disable interrupts at the start of 
	DO_AST_AND_RESTORE_ALIGNMENT_FAULTS. PR#23581
	[scw, ticket #209]

usr.bin/su/su.1					1.37-1.38

	Fix typo's
	[cjep, ticket #210]

sys/arch/sparc/sparc/pmap.c			1.294
sys/arch/sparc/sparc/machdep.c			1.248

	Changes to fix and help diagnose MMU resource shortage on small 
	sun4c systems.
	[pk, ticket #211]

sys/conf/Makefile.kern.inc			1.52-1.53

	Add `-fno-zero-initialized-in-bss' for kernel builds using gcc 3.x
	so zero-initialised variables remain patchable.
	[pk, ticket #212]

sys/netinet/tcp_input.c				1.204

	When a packet is received that overlaps the left side of the window,
	check for RST *before* trimming data and adjust its sequence number.
	[matt, ticket #213]

sys/dev/scsipi/scsipi_base.c			1.105

	Revert part of 1.102:
	Don't decrease/check xs_retries when the device report "Power On, 
	Reset, or Bus Device Reset" sense condition, just retry the command. 
	The initial bus reset would cause the first TEST_UNIT_READY to report 
	this condition, and as xs_retries is set to 0 when XS_CTL_DISCOVERY 
	is set, it would report an error instead of being retried, causing 
	the disk probe to report "drive offline" instead of the geometry and 
	capacity. Checking/decreasing xs_retries on the bus reset reported 
	by the adapter is enouth to avoid the problem reported by rev 1.102.
	[bouyer, ticket #214]

gnu/lib/libgcc3/libgcc_s/Makefile		1.6

	Copy .s.so rule we use for libgcc_pic to make sure the millicode is
	.hidden in libgcc_s.so as well.  Enable it for sh3.  Other CPUs for
	which gcc uses millicode probably need this too.
	[uwe, ticket #215]

share/man/man4/termios.4			1.28

	Add missing itemization for CR and NL special characters. PR#25352
	[uwe, ticket #216]

libexec/ld.elf_so/arch/vax/Makefile.inc		1.9

	The -symbolic flag in gcc 2.95.3 is not passed to the linker, which is
	required.  Restore the -Bsymbolic option in LDFLAGS on the vax.
	[mhitch, ticket #219]

sys/dev/acpi/acpi_ec.c				1.30

	EcGpeHandler: in the case that the ec is EcLock'ed, always set
	EC_F_PENDQUERY flag so that AcpiClearGpe() will be called later.
	[yamt, ticket #221]

x11/bin/xinit/Makefile				1.4

	-DXFREE86 if we build an XFree86 server. Use /dev/urandom & hexdump to 
	generate cookies
	[mrg, ticket #222]

usr.bin/gzip/gzip.1				1.15-1.17
usr.bin/gzip/gzip.c				1.37-1.42
usr.bin/gzip/unbzip2.c				1.4
usr.bin/gzip/zuncompress.c			1.3

	Mega patch fixes several issues & bugs in gzip:
	- stdin bz2/compress support  
	- gzip -v pipe support
	- various robustness issues
	- no more .Sh BUGS in gzip.1
	[mrg, ticket #223]

share/mk/bsd.x11.mk				1.40

	When creating man pages, provide a defintion for __adminmansuffix__.
	[lukem, ticket #225]

x11/bin/xdm/Makefile.xdm			1.4
x11/bin/xdm/Makefile				1.6-1.7

	Add -DARC4_RANDOM to the global CPPFLAGS and X11EXTRAMANDEFS.
	Remove -DDEV_RANDOM, since ARC4_RANDOM takes precedence anyway.
	[lukem, ticket #226]

distrib/sets/lists/base/mi			1.474
distrib/sets/lists/xbase/mi			1.41
distrib/sets/lists/xcomp/mi			1.24
distrib/sets/lists/xfont/mi			1.20
etc/mtree/NetBSD.dist				1.260
x11/TODO					1.10
x11/bin/Makefile				1.6
x11/bin/fonttosfnt/Makefile			0-1.1
x11/bin/xclock/Makefile				1.4
x11/bin/xedit/modules/progmodes/Makefile	1.3
x11/bin/xkbcomp/geometry/Makefile		1.4
x11/bin/xkbcomp/geometry/ibm/Makefile		0-1.1
x11/bin/xkbcomp/symbols/pc/Makefile		1.3
x11/bin/xkbcomp/symbols/sun/Makefile		1.3
x11/bin/xkbcomp/types/Makefile			1.3
x11/lib/XRes/Makefile				1.4
x11/lib/Xfontcache/Makefile			1.4
x11/lib/Xss/Makefile				1.5
x11/lib/Xxf86dga/Makefile			1.5
x11/lib/expat/Makefile				1.6-1.7
x11/lib/expat/Makefile.expatdefs		1.1-0
x11/lib/fontconfig/Makefile			1.8
x11/lib/freetype2/Makefile			1.6
x11/share/fonts/encodings/Makefile		1.3
x11/share/fonts/scaled/TTF/Makefile		1.3
x11/share/nls/XI18N_OBJS/Makefile		1.3
x11/share/nls/XLC_LOCALE/Makefile		1.4
x11/tools/fc-cache/Makefile			1.8

	Fix up botches in X userland from upgrade from XFree86 4.3.0 -> 4.4.0.
	* Obsolete:
	        bin/fontconfig-config

	* Add directories:
	        lib/X11/locale/zh_CN.UTF-8 
	        lib/X11/xkb/geometry/ibm
        
	* Rename include/freetype2/ft2build.h to include/ft2build.h and 
	  obsolete former
        
	* Add files:
	        fonttosfnt(1) program & man page
	        include/expat.h
	        lib/X11/app-defaults/XClock-color
	        lib/X11/fonts/TTF/Vera*.ttf     
	        some font encodings
	        zn_CN.UTF-8 locale
	        some font encodings
	        various xkb config files
	        lib/X11/xedit/lisp/progmodes/patch.lsp
	        Xfontcache(3) and various links
	        XDGA(3) and various links    
	        XRes(3) and various links
	        Xss(3) and various XScreenSaver*(3) links
        
	* Add some more TODO items

	* Clean up lib/expat build now that the version is hard coded.
	[lukem, ticket #224]

x11/Xserver/os/Makefile				1.11-1.12

	Define XDMCP_NO_IPV6 along with XDMCP, as per the native XFree86 4.4 
	build.
	[lukem, ticket #227]

x11/share/fonts/scaled/TTF/Makefile		1.4
distrib/sets/lists/xfont/mi			1.21

	Install VeraIt.ttf. PR#25373
	[lukem, ticket #228]

x11/bin/x11perf/Makefile			1.6
x11/bin/xclock/Makefile				1.5
x11/bin/xditview/Makefile			1.6
x11/bin/xfd/Makefile				1.4
x11/bin/xlogo/Makefile				1.5
x11/bin/xterm/Makefile				1.6
x11/lib/Xft/Makefile				1.8
x11/lib/Xft1/Makefile				1.6
x11/lib/fontconfig/src/Makefile			1.6
x11/lib/freetype2/Makefile			1.7

	Sync to changes made in XFree86 4.4 and add -DXFREE86_FT2 appropriately.
	[lukem, ticket #229]

x11/bin/xhost/Makefile				1.4
x11/bin/xgc/Makefile				1.4
x11/bin/xdm/Makefile.xdm			1.5

	Add some #defines missed in the upgrade to XFree86 4.4.x
	[lukem, ticket #231]

sys/arch/alpha/conf/GENERIC			1.241
sys/arch/alpha/conf/ALPHA			1.192

	Remove specific scsibus* at (hba device)? declarations for the new,
	simple:

	scsibus* at scsi?
	[fair, ticket #232]

sys/arch/i386/conf/GENERIC			patch
sys/arch/i386/conf/GENERIC_LAPTOP		patch

	Comment out ichlpcib.
	[minoura, ticket #233]

distrib/common/mtree.common			1.5

	Add /targetroot (used by sysinst) so that sysinst can work on 
	sparc (etc) systems booted off a readonly miniroot.
	[dsl, ticket #238]

lib/libc/db/hash/ndbm.c				patch

	XPG4.2: when it is attempted to open a database write-only, silently
	"upgrade" to use read/write access on the database file.
	[kleink, ticket #240]

distrib/utils/sysinst/arch/i386/md.h		1.50
distrib/i386/floppies/ramdisk-big/list		1.21
sys/arch/i386/conf/INSTALL			1.239

	Add support for raid(4) and raidctl(8) on i386
	[gendalia, ticket #241]

sys/opencrypto/crypto.c				1.9

	Change control knob  for /dev/crypto to only allow requests which
	will be hardware-accelerated. Avoids copyin()/copyout() overhead and
	spending exceessive tie inside the kernel.
	[jonathan, ticket #234]

sys/netipsec/key.c				1.14

	Update sys/netipsec/key.c to check for attempts to add IPv6-related
	SPDs, and to warn about and reject any such attempts.
	[jonathan, ticket #235]

share/man/man4/Makefile				1.316
distrib/sets/lists/man/mi			1.683
share/man/man4/fast_ipsec.4			0-1.1

	Add a lightly-modified copy of Sam Leffler's FreeBSD manpage for 
	fast_ipsec, along with an explicit caveat about the unsupported, 
	unsafe state of combining both IPv6 and fast_ipsec.
	[jonathan, ticket #236]

sys/dev/pci/hifn7751.c				1.21

	Identify AES-capable chips (7955, 7956) in the driver attach message.
	[jonathan, ticket #239]

distrib/notes/sgimips/hardware			1.8

	Add missing .bullet)
	[pooka, ticket #242]

crypto/dist/ssh/sshd_config			1.19

	Set LoginGraceTime back to 600 like it used to be.  This should
	help slow machines with long keys to still work like they did with
	NetBSD 1.6 and before.
	[jonb, ticket #243]

sys/arch/i386/conf/GENERIC			1.602
sys/arch/i386/conf/GENERIC_LAPTOP		1.93

	Uncomment 'wd* at umass?' in GENERIC, add to GENERIC_LAPTOP.
	supports the ISD's ATA protocol over Bulk-Only, used with the Archos
	studio and Archos Jukebox products, among others.
	[gendalia, ticket #244]

sys/arch/vax/vsa/vsbus.c			1.45

	Fix bug that were introduced together with the merge of nathanw_sa:
	SCSI on VS2k/VS3100 stopped working. Spotted and fixed by
	Anders Hjalmarsson. This fixes PR#25307.
	[ragge, ticket #245]

gnu/dist/gcc/gcc/config/sparc/sparc-protos.h	1.2
gnu/dist/gcc/gcc/config/sparc/sparc.c		1.4
gnu/dist/gcc/gcc/config/sparc/sparc.md		1.7

	Bring in a change from gcc-current to fix double -> unsigned long
	conversions and generally avoid 128 bit (emulated) floats in between.
	This fixes heaps of problems in perl >= 5.7.1, where integer values
	and unsigned values are separated by the interpreter.
	[martin, ticket #246]

sys/dev/microcode/isp/asm_2100.h		1.5

	Revert ISP2100 firmware to Qlogic revision 1.19.16 (the version that
	shipped with NetBSD 1.5). With all newer versions available to us, we
	have seen some adapters crash -- and fail to respond to reset -- under
	certain heavy load conditions.  This version appears stable under heavy
	load with the current driver on multiple systems on which we can
	reproduce the failure with newer versions.
	[tls, ticket #247]

gnu/dist/gcc/gcc/version.c			1.7

	bump version for SPARC fixes (from kjk via martin)
	[mrg, ticket #253]


share/man/man4/crypto.4				0-1.5
share/man/man4/hifn.4				0-1.6
share/man/man4/ubsec.4				0-1.4
distrib/sets/lists/man/mi			1.687-1.688
share/man/man4/Makefile				1.317-1.318

	Add manpages for crypto(4),and for the hifn(4) and ubsec(4) hardware 
	crypto accelerators.
	[jonathan, ticket #237]

sys/arch/sparc/stand/ofwboot/version		1.8
sys/arch/sparc/stand/ofwboot/elfXX_exec.c	1.4

	When calculating the allocated symbol table size, round up the section
	sizes with ELF_ALIGN(). PR#25429
	[martin, ticket #248]

share/man/man4/acpitz.4				1.4
share/man/man4/acpi.4				1.9
share/man/man4/acpiacad.4			1.3
share/man/man4/acpibat.4			1.3
share/man/man4/acpibut.4			1.2
share/man/man4/acpiec.4				1.2
share/man/man4/acpilid.4			1.2

	Update ACPI manual pages to reflect more reality.
	[kochi, ticket #251]

usr.sbin/powerd/powerd.8			1.6
usr.sbin/envstat/envstat.8			1.7
share/man/man4/envsys.4				1.14

	Add references to ACPI man pages.
	[kochi, ticket #250]

bin/pax/file_subs.c				1.45-1.46

	Set the chflags *after* the rename, not before.
	Don't exit with 1 on broken archives that mark directories as files for
	the benefit of pkgsrc. 
	[snj, ticket #252]

sys/arch/amd64/amd64/cpu.c			1.5
sys/arch/amd64/isa/clock.c			1.4
sys/arch/x86/x86/lapic.c			1.6

	Compile TSC support code when __x86_64__ is defined.
	[toshii, ticket #254]

lib/libpthread/pthread_cond.c			1.15

	In the nothread version, don't return EINTR if select() was interrupted
	since this value is explicitly ruled out by POSIX.  Instead, return 0,
	like a spurious wakeup. PR#24240.
	[kleink, ticket #255]

sys/dev/ic/ncr53c9x.c				1.111

	On reset, clear state flags and the msgout queue and notify the upper 
	layer.
	[pk, ticket #255]

sys/kern/init_sysctl.c				1.29

	Fix a comment.
	[martin, ticket #257]

distrib/sets/lists/base/shl.mi			1.267-1.268
lib/libz/gzio.c					1.21
lib/libz/shlib_version				1.8-1.9
lib/libz/zlib.3					1.5

	Backout the changes made on 29th of january:
	- remove gzopenfull() and gzdopenfull()
	- un-bump minor number
	- remove docs for gone functions.
	[mrg, ticket #258]

share/man/man4/cardbus.4			1.18

	Update to suggest what to do if you see
	   cbb0: NOT USED because of unconfigured interrupt
	on an i386-family system. PR#25386
	[briggs, ticket #259]

lib/libc/gen/endutxent.3			1.4

	Thats "endutxent", not "entutxent".
	[atatat, ticket #260]

sbin/mount_nfs/mount_nfs.8			1.25

	Add nfsstat(1) reference in SEE ALSO.
	Correct spelling of "Kerberos." Add RFC references.
	Reword some awkward english.  Sprinkle mandoc macros throughout.
	Add white space to aid readability. Change date.
	[fair, ticket #264]

usr.bin/vi/common/line.c			1.7
usr.bin/vi/ex/version.h				1.15

	Flush the current line cache on every operation on the DB.
	We can't keep a reference to data returned by libdb after a
	subsequent call to any other libdb function on that DB.
	Bump version.
	[aymeric, ticket #261]

sys/dev/ata/atareg.h				1.18
sys/dev/ata/wd.c				1.275

	When using LBA48, use Flush cache extended command if supported.
	PR#25366.
	[bouyer, ticket #262]

bin/pax/tar.1					1.14
bin/pax/pax.1					1.48

	Documentation fixes.
	[grant, ticket #263]

sys/arch/x86/x86/intr.c				1.16

	Fix parameters for PPB_INTERRUPT_SWIZZLE macro.
	The macro expects pin = 1..4 (previously 0..3 were passed).
	[kochi, ticket #265]

sys/dev/pci/pciide_common.c			1.10

	default_chip_map(): We can't use pciide_mapchan() here, because
	pciide_mapchan() will attach an atabus, and we don't know yet if
	this channel is enabled or not.  PR#25455.
	[bouyer, ticket #267]

sys/arch/sparc64/sparc64/autoconf.c		1.97

	Recognize tlp and ethernet as bootpath.
	[petrov, ticket #268]

sys/conf/files					1.670
sys/uvm/uvm_map.c				1.169
sys/uvm/uvm_stat.c				1.24
sys/uvm/uvm_stat.h				1.32

	Replace uvm counters with evcnt, initialize them through __link_set
	(from Matt  Thomas), disable counters by default and add configuration
	option UVMMAP_COUNTERS.
	[petrov, ticket #269]

sys/conf/files					1.671
sys/uvm/uvm_map.c				1.170

	Revert default uvm counters, rename UVMMAP_COUNTERS to
	UVMMAP_NOCOUNTERS.
	[petrov, ticket #270]

sys/uvm/uvm_anon.c				1.29
sys/uvm/uvm_anon.h				1.17
sys/uvm/uvm_bio.c				1.32
sys/uvm/uvm_fault.c				1.88
sys/uvm/uvm_page.c				1.98
sys/uvm/uvm_pager.c				1.63

	Fix a amap_wirerange deadlock problem by re-introducing
	PG_RELEASED for anon pages. PR/23171 from Christian Limpach.
	for details, see discussion filed in the PR database.
	[yamt, ticket #271]

libexec/tftpd/tftpd.c				1.28

	Make sure we tzset() before chroot(); after passing that point
	it may no longer be accessible for syslog() to format messages.
	[kleink, ticket #272]

sys/kern/kern_sysctl.c				1.175

	Add a printf() to the other case in sysctl_createv() where a node did
	not get attached for what should be an extremely unusual case.
	[atatat, ticket #273]

sys/dev/pci/aac_pci.c				1.9

	Match Adaptec 2410SA.
	[jdolecek, ticket #274]

share/man/man4/aac.4				1.6

	Add Adaptec SATA RAID 2410SA to list of supported cards
	[jdolecek, ticket #275]

usr.bin/gzip/gzip.c				1.43

	Always initialise savename. Fix gzip -c core dump on sparc (and
	probably others).
	[bouyer, ticket #276]

sys/arch/sparc/sparc/cpu.c			1.186

	Fixes a possible NULL dereference when running an UP kernel on an MP
	machine.
	[pk, ticket #277]

sys/arch/powerpc/include/ptrace.h		1.8
usr.bin/kdump/kdump.c				1.78

	Allow kdump to print the names for machine dependent ptrace ops.
	(This requires <machine/ptrace.h> to define PT_MACHDEP_STRINGS
	which corresponds to the machdep ops).
	Add PT_MACHDEP_STRINGS so that kdump(1) can print out the
	PowerPC-specific ptrace requests.
	[matt, ticket #278]

gnu/dist/gdb/gdb/ppcnbsd-tdep.c			1.3

	Fix stack backtracing so not refer to the initial entry frame.
	Default to getting the LR out of the stack if no other way works.
	This makes backtraces work on stripped programs.
	[matt, ticket #279]

distrib/sets/lists/comp/mi			1.698
etc/mtree/NetBSD.dist				1.261
sys/Makefile					1.55
sys/netinet/in.h				1.67
sys/netinet/raw_ip.c				1.80
sys/netinet/tcp_input.c				1.205
sys/netinet/udp_usrreq.c			1.121
sys/netipsec/Makefile				1.1
sys/netipsec/ah_var.h				1.2
sys/netipsec/esp_var.h				1.2
sys/netipsec/ipcomp_var.h			1.2
sys/netipsec/ipip_var.h				1.2
sys/netipsec/ipsec.c				1.13
sys/netipsec/ipsec.h				1.9-1.10
sys/netipsec/ipsec_mbuf.c			1.5
sys/netipsec/ipsec_netbsd.c			1.10
sys/netipsec/ipsec_osdep.h			1.10
sys/netipsec/ipsec_output.c			1.13
sys/netipsec/ipsec_var.h			1.1
usr.bin/netstat/Makefile			1.23
usr.bin/netstat/fast_ipsec.c			1.1
usr.bin/netstat/main.c				1.44
usr.bin/netstat/netstat.h			1.29

	Redo net.inet.* sysctl subtree for fast-ipsec from scratch.
	Attach FAST-IPSEC statistics with 64-bit counters to new sysctl MIB.
	Rework netstat to show FAST_IPSEC statistics, via sysctl,  for 
	netstat -p ipsec.
	Minimal cleanup of sys/netipsec/ipsec{,_osdep}.h, to allow compiling
	FAST_IPSEC headers (with declarations of stats structures) in
	userspace code. I haven't checked for strict POSIX conformance, but
	Sam Leffler's FreeBS `ipsecstats' tool will now compile, if you
	manually make and populate usr/include/sys/netipsec.
	[jonathan, ticket #280]

sys/netipsec/key.c				1.15

	Fix sysctl() dumping of FAST_IPSEC's Security Policy and Security
	Association databases.
	[jonathan, ticket #281]

usr.bin/make/Makefile				1.32-1.33
usr.bin/make/Makefile.boot			1.16-1.17
usr.bin/make/arch.c				1.40
usr.bin/make/buf.c				1.15
usr.bin/make/compat.c				1.53-1.54
usr.bin/make/cond.c				1.20-1.24
usr.bin/make/config.h				1.17
usr.bin/make/dir.c				1.41
usr.bin/make/for.c				1.17
usr.bin/make/hash.c				1.13
usr.bin/make/job.c				1.84-1.85
usr.bin/make/lst.lib/lstAppend.c		1.10
usr.bin/make/lst.lib/lstAtEnd.c			1.10
usr.bin/make/lst.lib/lstAtFront.c		1.10
usr.bin/make/lst.lib/lstClose.c			1.10
usr.bin/make/lst.lib/lstConcat.c		1.12
usr.bin/make/lst.lib/lstDatum.c			1.10
usr.bin/make/lst.lib/lstDeQueue.c		1.10
usr.bin/make/lst.lib/lstDestroy.c		1.11
usr.bin/make/lst.lib/lstDupl.c			1.11
usr.bin/make/lst.lib/lstEnQueue.c		1.10
usr.bin/make/lst.lib/lstFind.c			1.11
usr.bin/make/lst.lib/lstFindFrom.c		1.11
usr.bin/make/lst.lib/lstFirst.c			1.10
usr.bin/make/lst.lib/lstForEach.c		1.11
usr.bin/make/lst.lib/lstForEachFrom.c		1.11
usr.bin/make/lst.lib/lstInit.c			1.10
usr.bin/make/lst.lib/lstInsert.c		1.10
usr.bin/make/lst.lib/lstInt.h			1.10
usr.bin/make/lst.lib/lstIsAtEnd.c		1.10
usr.bin/make/lst.lib/lstIsEmpty.c		1.10
usr.bin/make/lst.lib/lstLast.c			1.10
usr.bin/make/lst.lib/lstMember.c		1.10
usr.bin/make/lst.lib/lstNext.c			1.10
usr.bin/make/lst.lib/lstOpen.c			1.10
usr.bin/make/lst.lib/lstRemove.c		1.10
usr.bin/make/lst.lib/lstReplace.c		1.10
usr.bin/make/lst.lib/lstSucc.c			1.11
usr.bin/make/main.c				1.101-1.102
usr.bin/make/make.1				1.102
usr.bin/make/make.c				1.53
usr.bin/make/nonints.h				1.31-1.32
usr.bin/make/parse.c				1.96
usr.bin/make/pathnames.h			1.14
usr.bin/make/str.c				1.22
usr.bin/make/suff.c				1.45
usr.bin/make/targ.c				1.31
usr.bin/make/trace.c				1.6
usr.bin/make/unit-tests/Makefile		1.12-1.13
usr.bin/make/unit-tests/cond1			1.1-1.3
usr.bin/make/unit-tests/posix			1.1
usr.bin/make/unit-tests/test.exp		1.9-1.12
usr.bin/make/util.c				1.35
usr.bin/make/var.c				1.88

	Add check for extraneous .else's - based on patch from Arne H. Juul
	in PR/24420. Add a unit-test for conditionals. Also in the unit-test
	makefile strip any .CURDIR in output. This fixes PR bin/24420.
	Allow "string" and "${varspec}" on lhs of conditionals.
	This makes it possible to use expressions like
	${("${LIST:Msomething"}):?present:absent}
	it also makes treatment of lhs and rhs more consistent, and
	makes CondToken easier to read.
	Recognize -- (dash dash) and apply the usual interpretation.
	It's now possible to build make on some hosts with: cc *.c */*.c
	Remove use of sh -e when running in compat mode.
	Its not posix compliant and serves very little purpose.
	With this change compat and jobs modes are consistent wrt how
	they treat each line of a script.
	Add support for the '+' command line prefix as required by posix.
	Lines prefixed with '+' are executed even when -n is given.
	[Actually posix says they should also be done for -q and -t]
	[sjg, ticket #282]

distrib/sets/lists/base/mi			1.475
distrib/sets/lists/comp/mi			1.699

	Remove empty line.
	Add /usr/include/netipsec.
	[groo, ticket #305]

sys/netipsec/xform_ah.c				1.7

	Fix byte-order oversight in FAST_IPSEC AH processing.
	[jonathan, ticket #283]

sys/dev/pci/pcidevs				1.621
sys/dev/pci/pcidevs.h				regen
sys/dev/pci/pcidevs_data.h			regen
sys/dev/pci/satalink.c				1.13

	Add support for Silicon Image 3512 chip to satalink driver -- treat it
	as a 3112 variant (without RAID support), which does the right thing
	with the controller on my K8NNXP.
	[sekiya, ticket #284]

sys/arch/sgimips/dev/imc.c			1.17

	Hook the IMC bus error handler into the ISR, otherwise bus error
	conditions won't be properly dealt with.
	[sekiya, ticket #285]

sys/dev/pci/if_sk.c				1.8

	Add an additional multicast hash function for Yukon.
	[kleink, ticket #286]

distrib/sets/lists/comp/md.amd64		1.13
distrib/sets/lists/comp/md.i386			1.82
gnu/usr.bin/gcc3/include/Makefile		1.2

	On i386 and amd64 install emmintrin.h, so that SSE2 enabled compiles
	work. Fixes PR toolchain/25497.
	[martin, ticket #287]

share/man/man4/usb.4				1.65

	Fix description of usb_device_info structure - members are prefixed
	by udi_, and adapt to udi_lowspeed -> udi_speed member change.
	Fix usb_device_stats - there is uds_ prefix.
	Use #include <dev/usb/usb.h> also in USB CONTROLLER INTERFACE section
	[jdolecek, ticket #288]

sys/dev/usb/uhid.c				1.61

	Add support for USB_GET_DEVICEINFO and USB_GET_STRING_DESC ioctls,
	with same meaning as for ugen(4).
	[jdolecek, ticket #289]

share/man/man4/uhid.4				1.17

	Document USB_GET_DEVICEINFO and USB_GET_STRING_DESC.
	Fix member prefix for usb_ctl_report_desc.
	[jdolecek, ticket #290]

sys/netinet/tcp_output.c			1.112

	Work around an LP64 problem where we report an excessively large window
	due to incorrect mixing of types.
	[chs, ticket #292]

sys/sys/signal.h				1.58

	Update namespace protection for siginfo.
	[kleink, ticket #293]

lib/libc/gen/utmp.c				1.6
lib/libc/locale/rune.c				1.26
lib/libc/net/ns_addr.c				1.17

	Include "namespace.h" to make sure that internal functions are used.
	[kleink, ticket #294]

distrib/sets/makesrctars			1.18

	Prune obj|obj.* directories/symlinks correctly.
	[lukem, ticket #295]

lib/libcurses/resize.c				1.11

	PR/25397: David A. Holland: bug in second loop of resizeterm
	(win used uninitialized), hidden by wrong gcc appeasal.
	[kleink, ticket #297]

gnu/usr.bin/send-pr/categories			1.48

	Add port-xen.
	[fair, ticket #298]

usr.bin/tip/tip.1				1.21

	English fix.
	[snj, ticket #299]

distrib/vax/inst-common/list			1.6
distrib/vax/miniroot/list			1.7
distrib/vax/ramdisk/list			1.15

	/usr/sbin/installboot was missing from installation media.
	[mhitch, ticket #300]

distrib/utils/sysinst/arch/vax/md.c		1.27

	Fix path to installboot and the boot image.
	[mhitch, ticket #301]

share/mk/bsd.x11.mk				1.39
x11/Xserver/hw/xfree86/loader/Makefile		1.4

	Always #define __AMD64__ on amd64 -- xfree86 depends on it.
	Use mmap() on amd64 to activate the loader.c hack.
	[drochner, ticket #302]

x11/Xserver/hw/xfree86/xf86_os/Makefile		1.8

	While there is no pcvt on amd64, wscons emulates it, and xfree86
	doesn't like a wscons which doesn't emulate anything, so we have
	to use PCVT_SUPPORT to make VT switching work.
	[drochner, ticket #303]

distrib/alpha/instkernel/Note.Results		1.2
distrib/alpha/instkernel/cd-hd-tape/Makefile	1.19
distrib/alpha/instkernel/fdset/Makefile		1.15
distrib/notes/alpha/install			1.28

	Fix install floppy overflow by going to a 3-floppy boot.
	Fix the single-image overflow by just doubling the allowed size.
	Update text since there are now three install floppies.  It's
	written to cover the 2-floppy case as well, so if this file is
	updated later with delta's needed on netbsd-2-0, this one revision
	does not need to be excluded.
	[ross, ticket #304]

bin/csh/dir.c					1.23

	Avoid overflow in strcpy.
	[kleink, ticket #306]

distrib/sets/lists/xserver/md.mmeye		1.1

	Mmeye also builds Xvfb, so make a set list to match what's
	built/installed.
	[he, ticket #307]

lib/libc/gmon/Makefile.inc			1.7
lib/libc/gmon/gmon.c				1.22
lib/libc/gmon/mcount.c				1.14

	Make gmon / mcount work properly for threaded applications by keeping
	thread-specific gmonparam structures and then merging them before 
	dumping the profile buffers.
	[thorpej, ticket #308]

sys/netkey/key.c				1.119

	key_sp_unlink: decrement refcnt of the policy only if it was chained.
	otherwise SADB_X_SPDDELETE2 and SADB_X_SPDFLUSH can free per-pcb
	policies erroneously. it's the identical with what kame repository has.
	[yamt, ticket #309]

usr.bin/netstat/fast_ipsec.c			1.2-1.3

	Use int_fmtio.h and PRUx formats for longs to fix build problems
	on LP64 archs.
	[martin, ticket #310]

lib/libc/include/namespace.h			1.88
lib/libc/stdio/Makefile.inc			1.27
lib/libc/stdio/_fileno.c			1.1
lib/libc/stdio/fileno.c				1.12

	We now need an internal name for fileno(), since when buildling libc
	_REENTRANT we can no longer use the macro version from <stdio.h>.
	[kleink, ticket #311]


lib/libc/sys/readlink.2				patch

	Add an example code piece.
	[kleink, ticket #312]

usr.bin/systat/bufcache.c			1.17

	"bufmem" is unsigned long inside the kernel, so dont try to grovel it 
	out of kmem as a unsigned int. 
	Also avoid overrunning VCACHE_SIZE, thus scribling over unrelated 
	memory.  PR#/25537
	[martin, ticket #313]

usr.bin/rpcgen/rpcgen.1				1.16

	Sync with reality: -b hasn't been the default for almost 4 years.
	[kleink, ticket #314]

sys/dev/pcmcia/if_ne_pcmcia.c			1.111-1.112

	Add a third possible vendor code for the D-Link DFE670-TXD.  While
	there, make the `unmatched vendor code' error message slightly more
	verbose to make things easier next time this kind of issue arises.
	[cube, ticket #315]

sys/dev/pci/if_bge.c				1.70
sys/dev/pci/pcidevs				1.625
sys/dev/pci/pcidevs.h				regenerate
sys/dev/pci/pcidevs_data.h			regenerate

	Add support for Broadcom BCM5788 GbE.  PR#25166.
	[tron, ticket #316]

usr.bin/rpcgen/rpcgen.1				1.17

	Don't document -b twice.
	[kleink, ticket #317]

distrib/notes/sparc64/install			1.20

	Remove extra "NetBSD" after ".Nx" macro.
	[tron, ticket #318]

sys/kern/kern_sysctl.c				1.176
	
	In sysctl_destroyv, the newly created dnode structure must have its
	version set to the correct value to prevent later failure of
	sysctl_cvt_in.
	[cube, ticket #319]

usr.bin/rpcgen/rpcgen.1				1.18
usr.bin/rpcgen/rpc_main.c			1.25

	Describe missing flags.  Correct synopsis.  Explain -b better.
	Add a 'v' flag to display a version number so that our usage matches
	with everyone else's rpcgen.
	[christos, ticket #320]

lib/libc/time/strftime.c			1.15

	Don't use tm_zone for %Z: a strictly conforming ISO C application
	won't initialize it.  PR#21722.
	[kleink, ticket #321]

sys/miscfs/kernfs/kernfs_vnops.c		1.100-1.101
sys/miscfs/kernfs/kernfs.h			1.21
sys/miscfs/kernfs/kernfs_subr.c			1.6

	Find the right entry when doing lookup on dotdot in kern/ipsec subdirs.
	Make lookup and readdir return the same inode number.  kernfs_readdir
	now uses kernfs_allocvp to map from kernfs entry to inode number,
	kernfs_allocvp is now the only place where entries are mapped to inode
	numbers.  Also make KERNFS_FILENO not return random results for entries
	not in kern_targets.
	Remove code no longer needed since the type/permission information
	is available in the entry's struct kern_target and every entry has a
	(possibly shared) struct kern_target now.
	[cl, ticket #322]

lib/libc/sys/msgget.2				1.13
lib/libc/sys/semget.2				1.16
lib/libc/sys/shmget.2				1.18-1.19

	Elaborate on IPC_EXCL in the description.
	[kleink, ticket #327]

sys/arch/sh5/include/setjmp.h			1.6

	Avoid lint failure in setjmp.h; lint doesn't handle __attribute__
	modified declarations.
	[he, ticket #328]

x11/lib/OSmesa/Makefile				1.12

	Drop optmization to -O0 for sh5 for one file to work around an
	internal compiler error.
	[he, ticket #329]

x11/Xserver/GL/GLcore/Makefile.GLcore		1.7

	Drop optmization to -O0 for sh5 for one file to work around an
	internal compiler error.
	[he, ticket #332]

sys/miscfs/kernfs/kernfs.h			1.22
sys/miscfs/kernfs/kernfs_vnops.c		1.102

	Allow additional entries (files, subdirs) in kernfs.  Also allow
	defining additional kfstypes and provide hooks to run arbitrary code
	for any vnodeop on the additional types.
	[cl, ticket #336]

doc/HACKS					1.34
sys/miscfs/kernfs/kernfs_vnops.c		1.104

	Workaround for gcc 2.95.3 failing to initialize structures
	and/or unions inside structures using nested designators.
	Should be reverted when gcc >=3.3.3 is ready for vax.
	[cl, ticket #326]

sys/arch/sh5/conf/Makefile.sh5			1.13
sys/arch/sh5/conf/files.sh5			1.14

	Use lower optimization level (-O0) for miscfs/genfs/genfs_vnops.c
	in order to avoid an internal compiler error with gcc 3.3.3 nb2.
	[he, ticket #333]

distrib/sets/lists/xserver/md.evbsh5		1.1

	The evbsh5 port also installs Xvfb and it's man pages, so list those
	here.
	[he, ticket #334]

sys/net/if_tun.c				1.70

	Fix locking issues noticed by Tom Ivar Helbekkmo on tech-net:
	* always acquire the device instance lock at splnet()
	* missing unlocks in various places
	Also, since this driver allows its device instances manipulated by two
	independent subsystems (character device & interface clone
	create/destroy), be careful not to rip away instance data in a clone
	destroy request if the	instance is still opened as a character device.
	[pk, ticket #335]

sys/uvm/uvm_swap.c				1.88

	Don't accept a negative number of swap devices; it will attempt to
	malloc something very large and might crash the kernel.
	[christos, ticket #338]

lib/libm/arch/vax/n_sqrt.S			1.7
lib/libm/noieee_src/n_floor.c			1.6

	Add ceilf(), floorf(), and sqrtf() (as wrappers using ceil(), floor(),
	and sqrt() repectively). This fixes PR#22796.
	[mhitch, ticket #339]

x11/bin/Makefile				1.7

	Now that the missing libm functions are available on the vax, build
	glxgears and glxinfo.  This will fix the checkflist failure on the vax
	build.
	[mhitch, ticket #340]

sys/arch/i386/stand/mbr/mbr.S			1.7

	Make mbr_bootsel boot active partition if/when no menu items are
	output. Stops users sitting in front of a system that is waiting for
	a keypress. Just don't ask how I added more functionality AND got an
	extra 7 free bytes!
	[dsl, ticket #342]

usr.sbin/apmd/apmd.8				1.18

	Describe default polling rate correctly, from Jeff Ito in PR 25589.
	New sentence, new line while here; bump date.
	[wiz, ticket #343]

share/man/man9/driver.9				1.13

	Fix typo.
	[wiz, ticket #344]

usr.bin/du/du.1					1.18
usr.bin/du/du.c					1.24

	Add a "-n" flag that will ignore files/directories with the "nodump"
	flag set.  Useful when used in conjunction with "dump -h" to size
	dumps.
	[simonb, ticket #347]

lib/libc/time/strftime.c			1.16

	Don't use tm_gmtoff for %z: a strictly conforming ISO C application
	won't initialize it.  However, instead of using what is suggested in
	this code path, attempt get it right for DST as well. Addresses
	PR standards/21722 from Richard Earnshaw.
	[kleink, ticket #349]

share/man/man4/umass.4				1.20

	No channel locator for atapibus. From PR 24994.
	[jmc, ticket #341]

gnu/dist/cvs/BUGS				patch
gnu/dist/cvs/ChangeLog				patch
gnu/dist/cvs/NEWS 				patch
gnu/dist/cvs/configure				patch
gnu/dist/cvs/configure.in			patch
gnu/dist/cvs/HACKING				patch
gnu/dist/cvs/INSTALL				patch
gnu/dist/cvs/README				patch
gnu/dist/cvs/Makefile.am			patch
gnu/dist/cvs/cvs.spec.in			patch
gnu/dist/cvs/Makefile.in			patch
gnu/dist/cvs/TODO				patch
gnu/dist/cvs/mktemp.sh				new file
gnu/dist/cvs/contrib/ChangeLog			patch
gnu/dist/cvs/contrib/log_accum.in      		patch
gnu/dist/cvs/diff/ChangeLog			patch
gnu/dist/cvs/diff/Makefile.am			patch
gnu/dist/cvs/diff/Makefile.in			patch
gnu/dist/cvs/diff/diff.c			patch
gnu/dist/cvs/diff/diffrun.h			patch
gnu/dist/cvs/diff/libdiff.dsp			patch
gnu/dist/cvs/doc/ChangeLog			patch
gnu/dist/cvs/doc/Makefile.am			patch
gnu/dist/cvs/doc/Makefile.in			patch
gnu/dist/cvs/doc/cvs.1                          new file
gnu/dist/cvs/doc/cvs.texinfo			patch
gnu/dist/cvs/doc/stamp-1			patch
gnu/dist/cvs/doc/stamp-vti			patch
gnu/dist/cvs/doc/version-client.texi		patch
gnu/dist/cvs/doc/version.texi			patch
gnu/dist/cvs/lib/ChangeLog			patch
gnu/dist/cvs/lib/Makefile.am			patch
gnu/dist/cvs/lib/Makefile.in			patch
gnu/dist/cvs/lib/mkdir.c  			patch
gnu/dist/cvs/lib/regex.c			patch
gnu/dist/cvs/lib/system.h			patch
gnu/dist/cvs/man/ChangeLog			patch
gnu/dist/cvs/man/Makefile.in			patch
gnu/dist/cvs/man/Makefile.am       		patch
gnu/dist/cvs/man/cvs.1            		delete
gnu/dist/cvs/man/cvs.5       			patch
gnu/dist/cvs/src/ChangeLog			patch
gnu/dist/cvs/src/Makefile.am			patch
gnu/dist/cvs/src/annotate.c			patch
gnu/dist/cvs/src/buffer.h			patch
gnu/dist/cvs/src/find_names.c			patch
gnu/dist/cvs/src/root.h				patch
gnu/dist/cvs/src/Makefile.in			patch
gnu/dist/cvs/src/add.c				patch
gnu/dist/cvs/src/admin.c			patch
gnu/dist/cvs/src/import.c			patch
gnu/dist/cvs/src/log.c				patch
gnu/dist/cvs/src/login.c			patch
gnu/dist/cvs/src/myndbm.c			patch
gnu/dist/cvs/src/vers_ts.c			patch
gnu/dist/cvs/src/watch.c			patch
gnu/dist/cvs/src/buffer.c			patch
gnu/dist/cvs/src/diff.c				patch
gnu/dist/cvs/src/edit.c				patch
gnu/dist/cvs/src/filesubr.c			patch
gnu/dist/cvs/src/remove.c			patch
gnu/dist/cvs/src/repos.c			patch
gnu/dist/cvs/src/root.c				patch
gnu/dist/cvs/src/checkin.c			patch
gnu/dist/cvs/src/cvsrc.c			patch
gnu/dist/cvs/src/no_diff.c			patch
gnu/dist/cvs/src/release.c			patch
gnu/dist/cvs/src/checkout.c			patch
gnu/dist/cvs/src/history.c			patch
gnu/dist/cvs/src/parseinfo.c			patch
gnu/dist/cvs/src/tag.c      			patch
gnu/dist/cvs/src/classify.c			patch
gnu/dist/cvs/src/client.h			patch
gnu/dist/cvs/src/error.c			patch
gnu/dist/cvs/src/expand_path.c			patch
gnu/dist/cvs/src/hash.c				patch
gnu/dist/cvs/src/server.h			patch
gnu/dist/cvs/src/update.h 			patch
gnu/dist/cvs/src/client.c              		patch
gnu/dist/cvs/src/commit.c          		patch
gnu/dist/cvs/src/create_adm.c			patch
gnu/dist/cvs/src/rcs.h				patch
gnu/dist/cvs/src/rcscmds.c			patch
gnu/dist/cvs/src/status.c			patch
gnu/dist/cvs/src/zlib.c     			patch
gnu/dist/cvs/src/cvs.h                 		patch
gnu/dist/cvs/src/edit.h				patch
gnu/dist/cvs/src/fileattr.h			patch
gnu/dist/cvs/src/hardlink.c			patch
gnu/dist/cvs/src/watch.h			patch
gnu/dist/cvs/src/entries.c			patch
gnu/dist/cvs/src/ignore.c			patch
gnu/dist/cvs/src/mkmodules.c 			patch
gnu/dist/cvs/src/fileattr.c			patch
gnu/dist/cvs/src/hash.h				patch
gnu/dist/cvs/src/lock.c				patch
gnu/dist/cvs/src/logmsg.c			patch
gnu/dist/cvs/src/recurse.c			patch
gnu/dist/cvs/src/main.c				patch
gnu/dist/cvs/src/update.c			patch
gnu/dist/cvs/src/modules.c			patch
gnu/dist/cvs/src/patch.c			patch
gnu/dist/cvs/src/run.c				patch
gnu/dist/cvs/src/subr.c				patch
gnu/dist/cvs/src/rcs.c              		patch
gnu/dist/cvs/src/sanity.sh			patch
gnu/dist/cvs/src/server.c              		patch
gnu/dist/cvs/src/stack.c			new file
gnu/dist/cvs/src/stack.h			new file
gnu/usr.bin/cvs/include/config.h		patch
gnu/usr.bin/cvs/cvs/Makefile			patch

	Pullup to version 1.11.16. SA#2004-008
	[christos, ticket #366]

sys/dev/microcode/siop/ncr53cxxx.c		1.13

	Make it compile with recent compilers.
	[bouyer, ticket #348]

usr.sbin/rpc.yppasswdd/yppasswdd_mkpw.c		1.12

	Make rpc.yppasswdd work if invoked with the "-noshell" option.
	[wennmach, ticket #350]

usr.bin/shuffle/shuffle.c			1.16

	Teach getopt about the new -0 option. Fixes PR bin/25621.
	[cube, ticket #351]

sys/dev/sbus/stp4020.c				1.36

	Handle STP4020_ISR0_SCINT (status change interrupt posted) - by
	ignoring it.
	[martin, ticket #352]

distrib/pmax/ramdisk/Makefile			1.32
sys/arch/pmax/conf/RAMDISK			1.6

	Expand the ramdisk image size from 3m to 3148k so that the contents
	fits again.
	[he, ticket #353]

lib/libc/sys/connect.2				1.26
sys/kern/uipc_syscalls.c			1.87

	Fix connect() "bug": If connect() is interrupted by a signal, the
	connection attempt is terminated, so if a process needs frequent
	timer interrupts it can't ever connect() to a machine far away.
	Update connect manpage to reflect current changes.
	[ragge, ticket #354]

sys/net/if_gre.c				1.51

	Mark gre(4) interfaces as IFT_TUNNEL (Encapsulation interface).
	[tron, ticket #324]

sys/net/if_tun.c				1.69

	Initialize interface type to IFT_TUNNEL.
	[tron, ticket #325]

usr.sbin/rarpd/rarpd.c				1.51

	Fix handling of interface aliases if "rarpd" is not invoked
	with "-a".
	[tron, ticket #323]

xfree/xc/programs/xmodmap/xmodmap.man		1.1.1.6-1.2

	Tweak formatting so that __projectroot__ gets expanded
	correctly.
	[tron, ticket #330]

xfree/xc/doc/man/general/X.man			1.1.1.3-1.2

	Tweak formatting so that __projectroot__ gets expanded
	correctly.
	[tron, ticket #331]

sys/arch/alpha/alpha/trap.c			1.93

	Add missing KERNEL_PROC_UNLOCK() in upcallret().  This
	should fix PR#22219 and maybe also PR#23731, which appears
	to be a duplicate of PR#22219.
	[mhitch, ticket #355]

sys/arch/xen/Makefile				1.1 (new)
sys/arch/xen/conf/Makefile.arch.inc		1.1 (new)
sys/arch/xen/i386/hypervisor_machdep.c		1.1-1.2 (new)
sys/arch/xen/i386/sys_machdep.c			1.1 (new)
sys/arch/xen/include/Makefile			1.1 (new)
sys/arch/xen/include/kernfs_machdep.h		1.1 (new)
sys/arch/xen/include/vga_xenvar.h		1.1-1.2 (new)
sys/arch/xen/include/xbdvar.h			1.1-1.5 (new)
sys/arch/xen/include/xenio.h			1.1 (new)
sys/arch/xen/include/xenkbcvar.h		1.1 (new)
sys/arch/xen/x86/bus_space.c			1.1-1.2 (new)
sys/arch/xen/xen/hypervisor.c			1.1-1.7 (new)
sys/arch/xen/xen/machmem.c			1.1 (new)
sys/arch/xen/xen/privcmd.c			1.1 (new)
sys/arch/xen/xen/vfr.c				1.1 (new)
sys/arch/xen/xen/vga_xen.c			1.1-1.2 (new)
sys/arch/xen/xen/xbd.c				1.1-1.9 (new)
sys/arch/xen/xen/xencons.c			1.1 (new)
sys/arch/xen/xen/xenkbc.c			1.1-1.3 (new)
sys/arch/xen/stand/Makefile			1.1 (new)
sys/arch/xen/stand/xen12load/Makefile		1.1-1.2 (new)
sys/arch/xen/stand/xen12load/loadelf.c		1.1 (new)
sys/arch/xen/stand/xen12load/start.S		1.1 (new)
sys/arch/xen/stand/xen12load/xenload.c		1.1 (new)
sys/arch/xen/stand/xen12load/xenload.h		1.1 (new)
sys/conf/files					1.666
sys/arch/xen/conf/GENERIC			1.2-1.10
sys/arch/xen/conf/Makefile.xen			1.2-1.3
sys/arch/xen/conf/XEN				1.2-1.10
sys/arch/xen/conf/files.compat			1.2-1.3
sys/arch/xen/conf/files.xen			1.4-1.12
sys/arch/xen/conf/majors.xen			1.2-1.3
sys/arch/xen/i386/autoconf.c			1.2-1.5
sys/arch/xen/i386/identcpu.c			1.2-1.3
sys/arch/xen/i386/locore.S			1.3-1.5
sys/arch/xen/i386/machdep.c			1.3-1.8
sys/arch/xen/i386/mainbus.c			1.2-1.3
sys/arch/xen/i386/npx.c				1.2-1.3
sys/arch/xen/i386/npx_hv.c			1.2
sys/arch/xen/i386/pmap.c			1.2-1.6
sys/arch/xen/i386/spl.S				1.2
sys/arch/xen/i386/trap.c			1.3
sys/arch/xen/i386/vector.S			1.2-1.4
sys/arch/xen/i386/xen_machdep.c			1.2-1.5
sys/arch/xen/include/cpu.h			1.2-1.6
sys/arch/xen/include/cpufunc.h			1.2-1.3
sys/arch/xen/include/events.h			1.2-1.3
sys/arch/xen/include/hypervisor.h		1.2-1.7
sys/arch/xen/include/if_xennetvar.h		1.2
sys/arch/xen/include/pmap.h			1.2-1.3
sys/arch/xen/include/xen.h			1.2-1.7
sys/arch/xen/include/xenfunc.h			1.2
sys/arch/xen/include/xenpmap.h			1.2-1.3
sys/arch/xen/include/hypervisor-ifs/block.h	1.2
sys/arch/xen/x86/consinit.c			1.2-1.3
sys/arch/xen/x86/intr.c				1.2
sys/arch/xen/xen/clock.c			1.2-1.5
sys/arch/xen/xen/events.c			1.2-1.5
sys/arch/xen/xen/if_xennet.c			1.2-1.10
sys/arch/xen/xen/xen_debug.c			1.2
sys/arch/xen/i386/hypervisor.c			delete
sys/arch/xen/xen/console.c			delete

	Upgrade xen support:
	 - add block device driver
	 - network device driver bug fixes
	 - support for vga/keyboard/mouse
	 - support for domain0 operations
	 - fix /dev/mem and i386_iopl, reboot, event dispatch
	 - fix clock support, cpu speed report, lazy fpu switching
	 - add xen12load loader
	 - sys/arch/xen parts of build.sh release support
	[cl, ticket #337]

include/assert.h				1.16

	Remove _assert() again.  As has been noted by Ben Harris,
	this had been removed already in rev. 1.4 and was subsequently
	reinstated by the Lite-2 import.  Nothing uses it, and it
	pollutes user namespace.
	[kleink, ticket #356]

lib/libc/sys/pathconf.2				1.17

	* Note string termination behaviour of NAME_MAX vs. PATH_MAX.
	* Replace reference to non-existant KERN_NAME_MAX appropriately
	  with {NAME_MAX}.
	[kleink, ticket #357]

distrib/utils/sysinst/util.c			1.118

	Delete code that has been under '#if 0' for a while.
	[dsl, ticket #358]

distrib/utils/sysinst/defs.h			1.112
distrib/utils/sysinst/install.c			1.39
distrib/utils/sysinst/main.c			1.43
distrib/utils/sysinst/upgrade.c			1.45
distrib/utils/sysinst/util.c			1.119

	Remove code to do with etc.old, instead install etc.tgz
	into /.sysinst and use /etc/postinstall to merge.
	[dsl, ticket #359]

distrib/utils/sysinst/arch/alpha/md.h		1.18
distrib/utils/sysinst/arch/alpha/msg.md.de	1.3
distrib/utils/sysinst/arch/alpha/msg.md.en	1.9
distrib/utils/sysinst/arch/alpha/msg.md.fr	1.9
distrib/utils/sysinst/arch/alpha/msg.md.pl	1.5

	Add GENERIC.MP.  Fixes PR#25244.
	[dsl, ticket #360]

distrib/utils/sysinst/arch/i386/msg.md.de	1.4
distrib/utils/sysinst/arch/i386/msg.md.en	1.46
distrib/utils/sysinst/arch/i386/msg.md.fr	1.37
distrib/utils/sysinst/arch/i386/msg.md.pl	1.20

	Kill message used when amd64 used an 'out of tree' toolchain.
	[dsl, ticket #361]

distrib/utils/sysinst/run.c			1.56

	Don't leak an fd if malloc() fails in collect().
	[dsl, ticket #362]

distrib/utils/sysinst/Makefile			1.6

	Now that the language variants are built using message
	files, remove the last vestages of the code that supresses
	specific languages for specific archtectures.
	[dsl, ticket #363]

distrib/utils/sysinst/disks.c			1.84

	'ptn' may be ' ' so sprintf(..., "/dev/r%s%c", disk, ptn)
	won't work!  Convert ' ' to 0 to ensure a valid device name
	is genarated.  (This will be a problem in 'upgrade' when
	filesystems are mounted using the targets extisting
	/etc/fstab.)
	[dsl, ticket #364]

sys/arch/acorn32/stand/boot32/Makefile		1.3
sys/arch/acorn32/stand/boot32/boot32.c		1.17
sys/arch/acorn32/stand/lib/riscoscalls.h	1.3
sys/arch/acorn32/stand/lib/srt0.S		1.2

	Claim maximum available memory during boot32 startup. This
	removes the need to explicitly set the WIMP slot size before
	running the bootloader.
	Conditional on BOOT_MAXIMISE_MEMORY, so as not to interfere
	with potential future uses of libriscos.
	Also remove references to increasing WIMP slot size, as
	this is now meaningless.
	[abs, ticket #365]

include/stdbool.h				1.2

	Make it possible to use <stdbool.h> in C++ applications.
	Fixes PR#25597.
	[kleink, ticket #368]

sys/arch/acorn32/stand/boot32/boot32.c		1.18
sys/arch/acorn32/stand/boot32/version		1.8
sys/lib/libsa/Makefile				1.55
sys/lib/libsa/stand.h				1.52
sys/lib/libsa/qsort.c				1.1 (new)

	Add qsort to libsa (taken from sys/dev/vinum/vinumqsort.c)
	and use instead of bubblesort in acorn32 bootloader. Reduces
	time to sort memory on A710 equipped RiscPC from over twenty
	seconds to effectively instantaneous.  Update boot version
	to 3.30
	[abs, ticket #369]

gnu/dist/gcc/gcc/version.c			1.8
gnu/dist/gcc/gcc/config/arm/arm.h		1.2

	Apply gcc fix for gcc PR target/14302 to fix ARM compiler
	issues triggered by at least glib, glib2, and pkgconfig.

	     2004-02-26  Richard Earnshaw  <rearnsha@arm.com>
		   Daniel Jacobowitz  <drow@mvista.com>

		   PR target/14302
		   * arm.h (ARM_GO_IF_LEGITIMATE_ADDRESS): Don't check the mode
		   size for minipool references.

	Many thanks to Richard Earnshaw for close to instant copy
	of the gcc patch.  Bump gcc version to "3.3.3 (NetBSD nb3
	20040520)"
	[abs, ticket #370]

xfree/xc/programs/xdm/socket.c			1.1.1.6-1.2

	Apply patch from XFree86-current:
	Reinstate the check for request_port == 0 in
	CreateWellKnownSockets() (Bugzilla #1376, Steve Rumble).
	This fixes PR#25655.
	[tron, ticket #371]

dist/file/src/magic.c				1.10

	Improve host portability by ordering some include conditionals
	to match code conditionals.
	[ross, ticket #372]

share/mk/bsd.hostprog.mk			1.42
share/mk/bsd.prog.mk				1.199

	If you add a library, you need to define its DPADD symbol
	here.  Add LIBMAGIC.
	[ross, ticket #373]

dist/ipf/man/ipfs.8				1.6

	Fix formatting of some options and a typo.
	[jmmv, ticket #375]

sys/arch/i386/include/int_fmtio.h		1.5-1.6
sys/arch/i386/include/int_limits.h		1.4-1.5
sys/arch/i386/include/int_mwgwtypes.h		1.3-1.4

	Change {u,}int_fast16_t to 32-bit types, as the previous
	minimum-width implementation was a rather poor choice.

	Note: While this is technically an ABI change I believe it
	is a change that we can afford at this time (and to be
	pulled up to 2.0).  The types are not widely used yet, and
	a survey of pkgsrc has not shown uses that would be adversely
	affected by it.
	[kleink, #376]

sys/coda/coda_vfsops.h				1.12
sys/compat/irix/irix_sysctl.h			1.2
sys/compat/linux/common/linux_sysctl.c		1.15
sys/compat/linux/common/linux_sysctl.h		1.2
sys/compat/netbsd32/netbsd32.h			1.28
sys/fs/adosfs/adosfs.h				1.3
sys/fs/cd9660/cd9660_extern.h			1.10
sys/fs/filecorefs/filecore_extern.h		1.9
sys/fs/msdosfs/msdosfsmount.h			1.7
sys/fs/ntfs/ntfs_vfsops.h			1.4
sys/fs/smbfs/smbfs_subr.h			1.11
sys/fs/union/union.h				1.10
sys/lkm/compat/irix/lkminit_emul.c		1.2
sys/lkm/compat/linux/lkminit_emul.c		1.4
sys/lkm/compat/netbsd32/lkminit_emul.c		1.6
sys/lkm/vfs/adosfs/lkminit_vfs.c		1.5
sys/lkm/vfs/cd9660/lkminit_vfs.c		1.2
sys/lkm/vfs/coda/lkminit_vfs.c			1.8
sys/lkm/vfs/filecorefs/lkminit_vfs.c		1.3
sys/lkm/vfs/miscfs/fdesc/lkminit_vfs.c		1.6
sys/lkm/vfs/miscfs/kernfs/lkminit_vfs.c		1.6
sys/lkm/vfs/miscfs/nullfs/lkminit_vfs.c		1.7
sys/lkm/vfs/miscfs/overlay/lkminit_vfs.c	1.4
sys/lkm/vfs/miscfs/portal/lkminit_vfs.c		1.6
sys/lkm/vfs/miscfs/procfs/lkminit_vfs.c		1.6
sys/lkm/vfs/miscfs/umapfs/lkminit_vfs.c		1.7
sys/lkm/vfs/miscfs/union/lkminit_vfs.c		1.6
sys/lkm/vfs/msdosfs/lkminit_vfs.c		1.6
sys/lkm/vfs/ntfs/lkminit_vfs.c			1.6
sys/lkm/vfs/smbfs/lkminit_vfs.c			1.2
sys/lkm/vfs/ufs/ext2fs/lkminit_vfs.c		1.4
sys/lkm/vfs/ufs/ffs/lkminit_vfs.c		1.6
sys/lkm/vfs/ufs/lfs/lkminit_vfs.c		1.9
sys/lkm/vfs/ufs/mfs/lkminit_vfs.c		1.6
sys/miscfs/fdesc/fdesc.h			1.16
sys/miscfs/kernfs/kernfs.h			1.23
sys/miscfs/nullfs/null.h			1.15
sys/miscfs/overlay/overlay.h			1.5
sys/miscfs/portal/portal.h			1.9
sys/miscfs/procfs/procfs.h			1.53
sys/miscfs/umapfs/umap.h			1.11
sys/sys/sysctl.h				1.125
sys/ufs/ext2fs/ext2fs_extern.h			1.24
sys/ufs/ffs/ffs_extern.h			1.38
sys/ufs/lfs/lfs_extern.h			1.61
sys/ufs/mfs/mfs_extern.h			1.20

	Tweak sysctl setup functions (the macros, actually) for use in lkms,
	and tweak lkminit_*.c (where applicable) to call them, and to call
	sysctl_teardown() when being unloaded.

	This consists of (1) making setup functions not be static when being
	compiled as lkms (change to sys/sysctl.h), (2) making prototypes
	visible for the various setup functions in header files (changes to
	various header files), and (3) making simple "load" and "unload"
	functions in the actual lkminit stuff.

	linux_sysctl.c also needs its root exposed (ie, made not static) for
	this (when built as an lkm).
	[atatat, ticket #374]

sys/dev/raidframe/rf_disks.c			1.53

	Add support for the word "absent" in the "disks" section of
	RAID config files.  Used as a placeholder for a component that
	will eventually be added into the set.
	[oster, ticket #377]

sbin/raidctl/raidctl.8				1.43

	Update docs to reflect the support for the word "absent" in the "disks"
	section of RAID config files.
	[oster, ticket #378]

sys/ufs/ext2fs/ext2fs_vnops.c			1.53
sys/ufs/ufs/ufs_vnops.c				1.114

	POSIX: Permit a process without the appropriate privilege to change a
	file's group ID to its effective gid, in addition to the presently
	permitted set of supplementary gids.
	[kleink, ticket #379]

sys/arch/amd64/include/int_mwgwtypes.h		1.3
sys/arch/amd64/include/int_fmtio.h		1.3

	Change {u,}int_fast{8,16}_t to 32-bit types.
	[kleink, ticket #380]

include/signal.h				1.37

	Implement sigemptyset() and sigfillset() not as macros but as inline
	functions. PR#25627
	[kleink, ticket #381]

sys/dev/pci/if_sk.c				1.9

	In sk_init_yukon(), don't open-code clearing the multicast filter but
	go via the normal filter setup path instead.  The old behaviour only
	worked ok as long as the init function was exclusively called at attach
	time, when there was no configuration to be lost.
	[kleink, ticket #382]

distrib/sparc64/xminiroot/Makefile		1.24

	Do not fail if directory sysinst exists.
	[hannken, ticket #383]

sys/dev/pci/if_sk.c				1.10

	Fix a glitch in the initial import: The XMAC hash function is actually
	based on CRC32-_LE_.
	[kleink, ticket #384]

crypto/dist/heimdal/ChangeLog			1.1.1.9
crypto/dist/heimdal/NEWS			1.1.1.9
crypto/dist/heimdal/kadmin/ChangeLog		1.1.1.8
crypto/dist/heimdal/configure.in		1.5
crypto/dist/heimdal/kadmin/kadmind.c		patch
crypto/dist/heimdal/kadmin/version4.c		patch
doc/3RDPARTY					1.215
include/heimdal/version.h			1.16

	Update heimdal to 0.6.2
	[lha, ticket #291]

sys/netipsec/key.c				1.16

	The FAST_IPSEC code actually supports KEYCTL_PREFERED_OLDSA, so export
	it via sysctl.
	[atatat, ticket #386]

sys/compat/darwin/darwin_sysctl.c		1.26
sys/compat/irix/irix_sysctl.c			1.4
sys/compat/linux/common/linux_sysctl.c		1.16

	Add sysctl descriptions under emul subtree.
	[atatat, ticket #387]

sys/kern/tty.c					1.168
sys/kern/uipc_mbuf.c				1.82
sys/kern/uipc_socket.c				1.103
sys/kern/vfs_bio.c				1.125

	Add remaining sysctl descriptions under kern subtree.
	[atatat, ticket #388]

sys/dev/pci/if_sip.c				1.91

	Two changes:
	1. ifdef out the restriction that the SiS 900 has only one PHY
	This is demonstrably false; the SiS 960 super south bridge in
	PR 18590 has a SiS 900 rev 1 core in it.
	2. bitbang the MII for all versions of the SiS 900; this is the
	only way that the PHYs on this system answer.
	[fair, ticket #296]

sys/uvm/uvm_meter.c				1.32

	Sysctl descriptions under vm subtree
	[atatat, ticket #389]

sys/ddb/db_variables.c				1.31

	Sysctl descriptions under ddb subtree
	[atatat, ticket #390]

sys/kern/uipc_domain.c				1.48
sys/net/bpf.c					1.98
sys/net/if.c					1.142
sys/net/rtsock.c				1.71
sys/netinet/ip_icmp.c				1.84
sys/netinet/ip_input.c				1.203
sys/netinet/tcp_usrreq.c			1.92
sys/netinet/udp_usrreq.c			1.122
sys/netinet6/icmp6.c				1.107
sys/netinet6/ip6_input.c			1.74
sys/netinet6/ipsec.c				1.97
sys/netinet6/udp6_usrreq.c			1.63

	Sysctl descriptions under net subtree (net.key not done)
	[atatat, ticket #391]

lib/libc/arch/sh3/sys/cerror.S			1.7

	Provide _REENTRANT code.  It's a wonder nobody has noticed this before.
	Uncovered by multithreaded bind9 utils.
	[uwe, ticket #418]

sys/dev/ic/ath.c				1.26
sys/dev/pci/if_bge.c				1.73

	Remaining sysctl descriptions under hw subtree (ath and bge)
	[atatat, ticket #392]

sys/coda/coda_vfsops.c				1.37
sys/fs/adosfs/advfsops.c			1.16
sys/fs/cd9660/cd9660_vfsops.c			1.14
sys/fs/filecorefs/filecore_vfsops.c		1.13
sys/fs/msdosfs/msdosfs_vfsops.c			1.17
sys/fs/ntfs/ntfs_vfsops.c			1.21
sys/fs/smbfs/smbfs_vfsops.c			1.42
sys/fs/union/union_vfsops.c			1.18
sys/kern/vfs_subr.c				1.226
sys/miscfs/fdesc/fdesc_vfsops.c			1.50
sys/miscfs/genfs/layer_vfsops.c			1.18
sys/miscfs/kernfs/kernfs_vfsops.c		1.62
sys/miscfs/nullfs/null_vfsops.c			1.49
sys/miscfs/overlay/overlay_vfsops.c		1.24
sys/miscfs/portal/portal_vfsops.c		1.45
sys/miscfs/procfs/procfs_vfsops.c		1.56
sys/miscfs/umapfs/umap_vfsops.c			1.46
sys/nfs/nfs_vfsops.c				1.139
sys/ufs/ext2fs/ext2fs_vfsops.c			1.71
sys/ufs/ffs/ffs_vfsops.c			1.148
sys/ufs/lfs/lfs_vfsops.c			1.151
sys/ufs/mfs/mfs_vfsops.c			1.59

	Sysctl descriptions under vfs subtree
	[atatat, ticket #393]

sys/lkm/vfs/miscfs/union/lkminit_vfs.c		1.7
sys/lkm/vfs/smbfs/lkminit_vfs.c			1.3

	Addition of header files for sysctl set function prototypes referenced
	structs defined in other header files.  Gcc 2.95 on vax doesn't like
	this. Add appropriate header files to fix vax compile failures.
	[mhitch, ticket #394]

usr.bin/vi/build/Makefile			1.25

	-I. is part of CPPFLAGS, not CFLAGS. Make it so, allows to lint.
	[aymeric, ticket #395]

sys/dev/ata/ata_wdc.c				1.54
sys/dev/ic/wdc.c				1.173
sys/dev/scsipi/atapi_wdc.c			1.70

	Add a delay(10) after re-enabling interrupts in the control register.
	Some controllers/drives (e.g. SataLink 3114 with WD Raptor) require
	it. Should fix kern/23808 by Chris Gilbert, patch suplied by
	Chris Gilbert on tech-kern, extended to all places enabling
	interrupts by me.
	[bouyer, ticket #396]

sys/dev/ic/wdc.c				1.174-1.175

	In wdcprobe1(), protect the register writability test with splbio().
	What we do here seems to trigger interrupts on some pcmcia adapters,
	which cause the kernel to hang.	Add some WDCDEBUG_PRINT((),
	DEBUG_PROBE). Avoid touching registers of nonexistent drives, once we
	know which drive is or is not here.
	This makes the "IBM PCMCIA Portable CD-ROM Drive" (external CD drive
	with PCMCIA adapter) work.
	Add a delay(5000) between the ATAPI_SOFT_RESET and the channel reset.
	Some ATAPI device never get out of busy if touched too fast after a
	reset. Delay value from atapi_wdc.c; fix problem reported by
	Nicolas Joly on current-users.
	[bouyer, ticket #397]

sys/dev/ata/wd.c				1.276

	Add support for the DIOCCACHESYNC ioctl.
	[bouyer, ticket #398]

sys/dev/scsipi/sd.c				1.217

	If READ_FORMAT_CAPACITIES fails with "Medium Format Corrupted"
	ASC/ASQ error, handle it as if the drive was not formatted, so that
	"scsictl sdx format" can open the raw device.
	[bouyer, ticket #399]

sys/dev/pci/eso.c				1.34
sys/dev/pci/esoreg.h				1.6
sys/dev/pci/esovar.h				1.5

	Fix a shift-by-one-bit glitch in the MONO_OUT mixer register's
	definition; from Stephen Ma in PR kern/18342.
	General mixer initialization improvements around the MONO_IN/MONO_OUT/
	PreAmp register, including a new MONO_IN mixer stage bypass mixer
	control; inspired by (and fixing) PR kern/18342 from Stephen Ma.
	[kleink, ticket #400]

sys/netipsec/key.c				1.17

	Thanks to Andrew Brown for the heads-up that fast_ipsec still had
	key_prefered_oldsa, defaulted to 1 (on): preferring old SAs, based on
	the ill-concieved Jenkins I-D, is broken by design.  For now, just
	turn it off, as the simplest way to fix this in the 2.0 branch.
	[jonathan, ticket #401]

sys/netipsec/key.c				1.18

	Fix bugs in SPD refcounts due to PCBpolicy cache, by backporting the
	KAME sys/netkey/key.c rev 1.119 ke_sp_unlink()/key_sp_dead() logic.
	[jonathan, ticket #402]

sys/arch/acorn32/stand/boot32/boot32.c		1.19
sys/arch/acorn32/stand/boot32/version		1.9

	Adjust the reserved heap space based on memory size. This avoids
	running out of heap on machines with large amounts of memory.
	Tested on 33MB RISC OS 4 and 128MB RISC OS 5 machines. Updated
	version to 3.40.
	[abs, ticket #404]

sys/dev/pcmcia/if_ne_pcmcia.c			1.113

	My incarnation of the RPTI 400 card tells 0:0:0:0:0:0 when using the
	ASIC to read the Ethernet address. However, as other OS's drivers
	suggest, something which looks right is at offset 0x110.
	[is, ticket #413]

sys/kern/uipc_socket2.c				1.63
sys/netipsec/key.c				1.19
sys/sys/socketvar.h				1.76

	Make FAST_IPSEC PF_KEY dumps unicast and reliable.
	[jonathan, ticket #405]

lib/libc/time/tzcode2netbsd			1.5

	Update for tzcode2004a.
	[kleink, ticket #406]

sys/dev/pci/twe.c				1.56
sys/dev/pci/twevar.h				1.21

	Rename twe_tweio_command_handler() to twe_ccb_wait_handler() and 
	expose it.
	[thorpej, ticket #410]

sys/dev/pci/ld_twe.c				1.20

	Add a "flush" operation so the array's write cache is flushed on
	close and at shutdown.
	[thorpej, ticket #411]

usr.bin/stat/stat.c				1.18

	If using stat (the -L flag) and it fails, fall back to lstat(). It
	may be the case that we're examining a broken symlink, and anything is
	better than nothing.
	[atatat, ticket #412]

usr.sbin/rpcbind/rpcbind.c			1.7

	Decrease log severity to debug if a protocol is not supported by the
	kernel. This avoids "rpcbind: cannot create socket for tcp6" messages
	at startup on IPv4-only kernels.
	[martin, ticket #414]

etc/daily					1.61

	If not doing full_netstat, use the -v option anyway to avoid truncating
	interface names like bridge0 or pppoe0 - the awk post processing
	reserves enough space for the column already.
	[martin, ticket #415]

dist/ipf/man/ipfstat.8				1.11
dist/ipf/tools/ipf_y.y				1.4-1.6
dist/ipf/tools/ipfs.c				1.2-1.3
dist/ipf/tools/ipfstat.c			1.4
dist/ipf/tools/ipnat_y.y			1.2
dist/ipf/tools/lexer.c				1.2-1.3
dist/ipf/tools/lexer.h				1.2
sys/netinet/fil.c				1.63-1.65
sys/netinet/ip_compat.h				1.38
sys/netinet/ip_fil.h				1.55
sys/netinet/ip_fil_netbsd.c			1.6-1.10
sys/netinet/ip_nat.c				1.57-1.59
sys/netinet/ip_nat.h				1.32
sys/netinet/ip_state.c				1.45

	Fix various bugs in IPFilter including PRs 21334, 24961, 24969,
	24981, 25103, 25122, 25332, 25365, 25441, 25532, 25594, 25622
	and 25646.
	[christos, ticket #416]

gnu/dist/gdb/gdb/shnbsd-tdep.c			1.3

	Fix the calculation of next_pc for braf/bsrf instructions.
	[uwe, ticket #417]

gnu/dist/gcc/gcc/ChangeLog			1.8
gnu/dist/gcc/gcc/config/sh/sh.md		1.2

	Fix for gcc target/13250 to correctly compile rotations, e.g. in
	sha256 code in pkgtools/digest.
	[uwe, ticket #419]

gnu/dist/gcc/gcc/c-parse.c			1.4
gnu/dist/gcc/gcc/cp/parse.c			1.4
gnu/dist/gcc/gcc/cp/parse.h			1.4
gnu/dist/gcc/gcc/doc/fsf-funding.7		1.4
gnu/dist/gcc/gcc/doc/gfdl.7			1.4
gnu/dist/gcc/gcc/doc/gpl.7			1.4
gnu/dist/gcc/gcc/gengtype-lex.c			1.4
gnu/dist/gcc/gcc/gengtype-yacc.c		1.4
gnu/dist/gcc/gcc/gengtype-yacc.h		1.4
gnu/dist/gcc/gcc/objc/objc-parse.c		1.4

	Fix merge conflicts with GCC 3.3.3.
	[mrg, ticket #422]

sys/arch/sparc/sparc/autoconf.c			1.207

	Increase buffer size for s[dt]-targets PROM property otherwise some
	machines (including my SS1+) with old PROM fails to get it.
	[tsutsui, ticket #423]

usr.bin/gzip/Makefile				1.9
usr.bin/gzip/gzip.c				1.44-1.46
usr.bin/gzip/unbzip2.c				1.5
usr.bin/gzip/zuncompress.c			1.4

	Fix various bugs in gzip(1) including PRs 25507, 25508 and 25509.
	[mrg, ticket #420]

usr.bin/gzip/zgrep				1.3-1.4

	Quote pattern when passing to grep, so that patterns containing
	spaces would be handled properly. Fixes PR bin/25345 by Arto Selonen.
	Use "zcat -fq" not just plain "zcat". This lets zgrep work on non
	compressed files (as reported by simonb) as well as not printing
	random warnings that zgrep isn't ready to handle.
	[mrg, ticket #421]

sys/miscfs/genfs/layer.h			1.6
sys/miscfs/genfs/layer_extern.h			1.14
sys/miscfs/genfs/layer_vnops.c			1.16
sys/miscfs/nullfs/null_vnops.c			1.29
sys/miscfs/overlay/overlay_vnops.c		1.12
sys/miscfs/umapfs/umap_vnops.c			1.26

	Since VOP_UPCALL() has been a long time in coming, add this partial
	fix for layered-file-removal. It will work for the case of accessing
	and deleting a file through the layered file system. Accessing via
	the layer and deleting on the underlying still won't work, nor will
	accessing via complicated structures (like two umap layers over a
	given file systems).
	We still need VOP_UPCALL(), but this is better than things were before.
	This patch has been discussed off & on for a while. This incarnation
	was tested by hannken at netbsd dot org.
	[wrstuden, ticket #424]

share/man/man9/vnode.9				1.21

	Change comments around locking. While you _can_ grab vnode locks
	as LK_SHARED, the VOP_ code (in all our existing file systems)
	was implememted assuming exclusive locking. Use of LK_SHARED
	is technically a bug and only works right for uni-processor and
	big-lock SMP systems. Our current file systems will blow up
	(probably quite subtlely) with LK_SHARED and fine-grained SMP
	locking.
	[wrstuden, ticket #425]

share/man/man4/fss.4				1.6

	The fss command appeared -> The fss device appeared
	[bouyer, ticket #426]


sys/arch/x86/x86/acpi_machdep.c			1.6
sys/arch/x86/x86/mpacpi.c			1.20-1.29

	Lots of fixes to prevents panic's on HT motherboards
	[kochi, ticket #427]

sys/arch/macppc/stand/ofwboot/version		1.10
sys/arch/macppc/stand/ofwboot/boot.c		1.18

	Support userconf(4) ("boot -c").
	[schmonz, ticket #428]

sys/arch/amd64/amd64/pmap.c			1.10

	Make pmap_collect() a NOP -- due to the way we deal with the 
	four-level pte, invalidating the entire address space results in 
	multi-minute system hangs.
	[sekiya, ticket #429]

sys/arch/hp300/dev/ite.c			1.63

	Handle CAPSLOCK correctly. PR#4689
	[tsutsui, ticket #430]

sbin/scsictl/scsictl.c				1.24

	Increase the SCSI command timeout for device start & stop from 10
	to 30 seconds. PR#25734
	[fair, ticket #431]

lib/libc/sys/close.2				patch

	Dont refer to errno as "global integer variable".
	[kleink, ticket #432]

distrib/acorn32/mksparkive.sh					0-1.2
distrib/acorn32/stand/Makefile					1.12
distrib/acorn32/stand/BtNetBSD/!BtNetBSD/!Sprites.uue		delete
distrib/acorn32/stand/BtNetBSD/!BtNetBSD/!Sprites22.uue		delete
distrib/acorn32/stand/BtNetBSD/!BtNetBSD/pling.Sprites.uue	0-1.3
distrib/acorn32/stand/BtNetBSD/!BtNetBSD/pling.Sprites22.uue	0-1.3

	Updated bootloader packaging tools for acorn32
	[abs, ticket #433]

sys/compat/sunos/sunos_ioctl.c			1.49

	sunos_ioctl(): acquire a reference to the file. PR#25738
	[pk, ticket #434]

sys/arch/powerpc/marvell/marvell_intr.h		1.7
sys/arch/powerpc/marvell/extintr.c		1.12

	Fix softnet intr handling (to be like the generic ppc softintr).
	[matt, ticket #436]

sys/dev/isa/fd.c				1.52

	Wrap a noisy probe message in FD_DEBUG.
	[thorpej, ticket #437]

etc/etc.alpha/MAKEDEV.conf			1.6

	Add a few logical disks (ld[0-3]) to the minimal configuration 
	so installation can be done to Mylex DAC960 raid drives.

	[mhitch, ticket #438]

bin/df/df.1					patch

	Mention -g in synopsis. PR#25800.
	[cjep, ticket #439]

dist/ipf/tools/ipf_y.y				1.7

	ipfilter 4.1.1 does not behave according to rules in ipf.conf. PR#24989
	[christos, ticket #440]

sys/dev/pci/twe.c				1.58

	twe_ccb_map(): Remove the DEBUG panic case of "unknown" S/G list
	offset.
	[thorpej, ticket #441]

sys/dev/pci/pciide_common.c			1.12

	Don't try to bus_space_subregion() registers that didn't get mapped.
	[bouyer, ticket #443]

sys/nfs/nfs_srvcache.c				1.31

	Enable reply cache for connection oriented protocols as well
	(linux retransmits rpcs even when using tcp).
	[yamt, ticket #444]

sys/nfs/nfs_serv.c				1.89

	Fix an LP64 problem for exclusive create in nfsrv_create().
	[yamt, ticket #445]

share/man/man4/options.4			1.241 via patch

	Add documentation for XSERVER and XSERVER_DDB.  PR#20173.
	[fair, ticket #385]

sbin/fsck_ffs/fsck_ffs.8			1.38 via patch

	Correct a misnumbering of options.  PR#25784.
	[fair, ticket #435]

dist/nawk/run.c					1.10

	Fix off-by-one use of gensub() index parameter, and treat negative
	number to mean 'replace first match'.  The index use is now fully 
	aligned with GNU awk.  PR#25543.
	[jdolecek, ticket #446]

usr.bin/awk/awk.1				1.14

	Add history section noting nawk is default since 2.0, and bump date.
	[jdolecek, ticket #447]

sys/net/if_ethersubr.c 1.115

	Detach ethernet(-like) devices from a bridge in ether_ifdetach().
	PR#25721.
	[dyoung, ticket #448]

sys/net80211/ieee80211.c			1.16
sys/dev/ic/wi.c					1.161

	Fix for "ifconfig wi0 media DS11" panicing system: in
	ieee80211_chan2mode(), do not dereference the marker for
	"any channel", IEEE80211_CHAN_ANYC.
	Fix for "SIOCSIFMEDIA: Invalid argument": refactor wi_media_change()
	and ieee80211_media_change().  ieee80211_media_change() handles a
	lot more conditions than wi_media_change() did.
	PR#25604.
	[dyoung, ticket #449]

doc/CHANGES.prev				1.11 via patch

	Add two late entries:
	- hp300 MI com(4)
	- wm(4) hwcksum fix on big endian machines
	[jdc, ticket #450]

doc/CHANGES					1.321 via patch
sbin/wsconsctl/display.c			1.3-1.4
sbin/wsconsctl/keyboard.c			1.4
sys/arch/i386/conf/GENERIC			1.608
sys/dev/ic/pcdisplay_subr.c			1.26
sys/dev/ic/pcdisplayvar.h			1.13
sys/dev/ic/vga.c				1.72-1.74
sys/dev/wscons/files.wscons			1.30
sys/dev/wscons/wsconsio.h			1.62-1.64
sys/dev/wscons/wsdisplay.c			1.77-1.78
sys/dev/wscons/wsdisplayvar.h			1.26-1.27
sys/dev/wscons/wskbd.c				1.74-1.76
sys/dev/wscons/wsksymdef.h			1.49

	PR kern/19925: David Ferlier: Add scrolling support to wscons.
	[recht, ticket #451]

usr.bin/msgc/msg_sys.def			1.27

	Improve editing of input fields:
	<- and -> move within the field
	-> will pull default string into empty buffer
	^H (etc) will delete default string from buffer (first press)
	Put default string into display buffer if long and input in box.
	Scroll input text if longer than space on line.
	[dsl, ticket #452]

distrib/utils/sysinst/defs.h			1.114
distrib/utils/sysinst/install.c			1.40
distrib/utils/sysinst/main.c			1.44
distrib/utils/sysinst/menus.mi			1.17
distrib/utils/sysinst/msg.mi.de			1.9
distrib/utils/sysinst/msg.mi.en			1.128
distrib/utils/sysinst/msg.mi.fr			1.77
distrib/utils/sysinst/msg.mi.pl			1.39
distrib/utils/sysinst/net.c			1.102
distrib/utils/sysinst/run.c			1.57
distrib/utils/sysinst/upgrade.c			1.48
distrib/utils/sysinst/util.c			1.120

	A load of usability fixes mainly to network installs.
	I've made the error retry loops go back as far as the input menus.
	Split all the pathname inputs into 2 pieces (base directory and set
	directory).
	Reduced the size of some fixed strings.
	Stopped the install aborting if ftp can't find a set (eg the X ones).
	The French and Polish transations don't differenciate between Base_dir
	and Set_dir - but that can be fixed later.
	[dsl, ticket #453]

usr.bin/awk/awk.1				1.15

	Add article.
	[snj, ticket #454]

etc/defaults/rc.conf				1.59
etc/rc.d/ldconfig				1.7
etc/rc.d/quota					1.4

	Add rc variables "ldconfig" and "quota" defaulting to "YES".
	[abs, ticket #455]

sys/kern/kern_sig.c				1.196 (via patch)

	Allow for struct sigacts being greater than PAGE_SIZE on sun2.
	[skrll, ticket #456]

sys/dev/wscons/wsconsio.h			1.65

	Make the scroll lines ioctl struct take u_int's again.  The wsconsctl
	command does not deal with shorts well.
	[recht, ticket #457]

usr.sbin/wsmoused/wsmoused.8			1.14

	Spelling fixes, English tweaks.  Avoid using < and > directly.
	[snj, ticket #458]

sbin/ping/ping.8				1.44

	Add -h option in synopsis.  PR#25863.
	[cjep, ticket #459]

sbin/swapctl/swapctl.c				1.26
sbin/swapctl/swapctl.8				1.30

	Fix usage string (i.e. add information about -z).  PR#25865.
	Add options for swapon in the Synopsis section.  PR#25866.
	[cjep, ticket #460]

distrib/utils/sysinst/msg.mi.de			1.8

	Make message net_media short enough (it needs space for [autoselect]
	after it and should stay within 80 columns).
	[martin, ticket #461]

distrib/utils/sysinst/msg.mi.fr			1.78

	Adapt the french translation to the split base/sets directories,
	and other minor nits.
	[bouyer, ticket #462]

sys/arch/amd64/conf/GENERIC			patch
sys/arch/i386/conf/GENERIC			patch
sys/arch/i386/conf/GENERIC_LAPTOP		patch
sys/dev/acpi/acpi.c				patch
sys/dev/acpi/files.acpi				patch

	Add ACPI_DISABLE_ON_POWEROFF option. PR#24869
	[kochi, ticket #463]

usr.sbin/ntp/ntptrace/ntptrace.awk		1.6

	Make this a shell script (invoking awk), rather than an awk script, to
	ake the option parsing work as expected. PR#25553
	[fredb, ticket #464]

lib/libc/net/byteorder.3			1.12

	Update for use of uint{16,32}_t.
	[kleink, ticket #465]

sys/nfs/nfs_syscalls.c				1.76

	nfsrv_zapsock: fix an inverted condition in nfs_syscall.c rev.1.74.
	[yamt, ticket #466]

sys/arch/sparc64/dev/pci_machdep.c		1.47

	pci_find_ino: support pci-pci bridges.
	[petrov, ticket #469]

sys/dev/usb/uhub.c				1.67

	Initialize restartcnt.
	[petrov, ticket #470]

sys/arch/hpc/hpc/kloader.c			1.12

	As the 2nd stage loader uses simple word-by-word copy, make sure that
	destination addresses of page tags are properly aligned.
	[uwe, ticket #471]

usr.bin/sed/compile.c				1.26-1.28

	sed(1) fixes for PR#25899, PR#24234, PR#25911
	[grant, ticket #494]

sys/arch/amd64/include/endian_machdep.h		1.2
sys/arch/arm/include/endian_machdep.h		1.6
sys/arch/i386/include/endian_machdep.h		1.2
sys/arch/sh5/include/endian_machdep.h		1.4

	Reflect <sys/endian.h> rev. 1.4: make htonl() et al. arguments and
	results uint{16,32}_t.
	[kleink, ticket #467]

sys/netinet6/in6.h				1.45
sys/netinet6/in6_pcb.h				1.25
sys/netinet6/ip6_output.c			1.83
sys/netinet6/raw_ip6.c				1.65
sys/netinet6/udp6_output.c			1.18

	Implement IPV6_USE_MIN_MTU sockopt.
	[itojun, ticket #468]

share/mk/bsd.own.mk				1.421

	Clean up HOST_OSTYPE a bit more and turn any spaces into _'s as well as
	stripping paren'd values from HOST_ARCH. Fixes PR toolchain/25586 for
	uname -p output on linux hosts which return multi-word values
	[jmc, ticket #472]

tools/Makefile.gnuhost				1.27

	MKUPDATE cannot possibly do the right thing with GNU wrapped tools
	installs as no dependencies are known in advance. So a simple
	'build.sh -r -u' will often lose and end up with a TOOLDIR without a
	toolchain, groff, etc. Fix by forcing .install_done to always run.
	[jmc, ticket #473]

gnu/usr.bin/gcc3/backend/Makefile		1.16
gnu/usr.bin/gcc3/host-libiberty/Makefile	1.5

	Fix some missing $HOST_SH needs as highlighted in PR toolchain/25606
	Redo this rule so it depends on libiberty.a rather than just the
	directory. Otherwise an aborted build would cause this to be skipped
	on MKUPDATE. Also, run configure w. $HOST_SH as highlighted in
	PR toolchain/25606
	[jmc, ticket #474]

tools/compat/compat_defs.h			1.36

	Before sucking in stdlib.h check if this is NetBSD. If so, explicitly
	make sure to use _POSIX_C_SOURCE and undef _NETBSD_SOURCE so the
	myriad of NetBSD extentions don't get pulled into scope (and likely
	conflict at some point with branched code trying to build on -current
	due to drift). Fixes PR toolchain/25533.
	[jmc, ticket #495]

usr.bin/vi/cl/cl_screen.c			1.7
usr.bin/vi/ex/version.h				1.16

	. don't call newterm() more than once; use setterm() and resizeterm()
	  instead on subsequent calls. Newterm() would fail after a few calls,
	  leading to vi exiting with a "ex/vi: error initializing terminal"
	  message
	. if tcsetattr() fails due to EINTR, ignore it
	Fixes PR bin/25849.
	[aymeric, ticket #496]

lib/libc/time/Theory				1.8
lib/libc/time/zic.c				1.23
lib/libc/time/tz-link.htm			1.5

	Update to tzcode2004a.
	[kleink, ticket #407]

share/zoneinfo/asia				1.1.1.27
share/zoneinfo/backward				1.1.1.13
share/zoneinfo/europe				1.1.1.27
share/zoneinfo/leapseconds			1.1.1.9
share/zoneinfo/northamerica			1.1.1.26
share/zoneinfo/southamerica			1.1.1.25

	Update to tzdata2004a.  Relevant change is a DST change
	for the Argentinian province of Mendoza.
	[kleink, ticket #408]

doc/3RDPARTY					1.220

	Note that tzcode2004a and tzdata2004a is out and has been
	integrated.
	[kleink, ticket #409]

distrib/notes/common/sysinst			1.69

	Add sparc64 tags.  Update sysinst menu example to say 2.0.
	[mbw, ticket #475]

distrib/notes/common/contents			1.99-1.102

	Reword for sparc64 installation tools.
	Fix distribution sizes for macppc, sparc, and sparc64.
	Add some missing info for macppc, sparc, and sparc64.
	Mention that sparc64 users can install 32-bit sparc distr.
	All platforms use XFree86 4.4.0.
	[mbw, ticket #476]

distrib/notes/common/netboot			1.21-1.22

	Add sparc64 tags and info.  Mention that macppc machines
	observe the next-server info and try to load their bootloader
	from the machine, not just NFS kernel.
	[mbw, ticket #477]

distrib/notes/common/main			1.257-1.258

	Add sparc64 to "Quick install notes for the impatient" section.
	sparc64 has OpenFirmware, not OpenBOOT PROM.
	[mbw, ticket #478]

distrib/notes/common/upgrade			1.21

	Add sparc64 tag.  Also describe that sysinst now tries to
	merge /etc, not move to /etc.old.
	[mbw, ticket #479]

distrib/notes/common/xfer			1.40-1.41

	Add sparc64 tags (i.e. remove floppy option from sparc64).
	Add IPv6 address of ftp.NetBSD.org as of June 2004.
	[mbw, ticket #480]

distrib/notes/sparc64/hardware			1.15-1.17
distrib/notes/sparc64/install			1.21-1.23
distrib/notes/sparc64/prep			1.9-1.10

	Major overhaul of sparc64 install notes.  Reflects currently
	supported hardware installation methods along with additional
	info.  Also expand PCI card compat descriptions and list
	known working cards.  Correct 0680 card as SiS.  Use MI
	sysinst documentation.  sparc64 has OpenFirmware, not
	OpenBoot PROM.  Redo suggested partitioning info with more
	reasonable sizes.
	[mbw, ticket #482]

distrib/notes/sparc64/upgrade			1.5

	Use MI upgrade procedure.
	[mbw, ticket #483]

distrib/notes/sparc64/whatis			1.12-1.14

	Fix .Nx tag.
	2.0 will be the third major release of sparc64.
	Mention that more models are supported in this release.
	[mbw, ticket #484]

distrib/notes/sparc/hardware			1.30-1.31

	Note that cgeight is TC.
	Remove the "not well tested" from hme -- it is stable.
	Add a little more JavaStation-NC info.
	zx (leo) doesn't have X server support.
	Mention that hme cards are not supported on sun4c systems.
	[mbw, ticket #485]

distrib/notes/common/postinstall		1.57

	Fix a formatting nit.
	[mbw, ticket #486]

distrib/notes/sparc/prep			1.22
distrib/notes/sparc64/prep			1.11

	Mention that the installer defaults to serial setting of
	9600 8N1, the user might want to prepare for that.  Fixes
	PR#11946.
	[mbw, ticket #487]

distrib/notes/common/main			1.259

	Removed references to split sets, which are no longer
	being distributed.  Fixes PR#24434.
	[mbw, ticket #488]

sys/kern/uipc_socket2.c				1.64

	Fix mbuf leak after mbuf exhaustion in sbappendaddrchain() if
	MBUFTRACE is enabled.
	[jonathan, ticket #503]

distrib/acorn32/mksparkive.sh				1.3-1.5
distrib/acorn32/stand/BtNetBSD/!BtNetBSD/!Run		1.3
distrib/acorn32/stand/BtNetBSD/!BtNetBSD/Files		1.2-1.3
distrib/acorn32/stand/BtNetBSD/!BtNetBSD/fastboot	1.6-1.8
distrib/acorn32/stand/BtNetBSD/Settype			delete
distrib/acorn32/stand/BtNetBSD/misc/SettScr		delete
distrib/acorn32/stand/Makefile				1.13-1.17
distrib/acorn32/stand/splug.bas.uue			1.1
distrib/utils/Makefile					1.16
distrib/utils/Makefile.inc				1.11
distrib/utils/sparkcrc/Makefile				1.1-1.2
distrib/utils/sparkcrc/sparkcrc.c			1.1
share/mk/bsd.own.mk					1.420
share/mk/bsd.sys.mk					1.113
sys/arch/acorn32/stand/lib/srt0.S			1.3
tools/Makefile						1.82
tools/sparkcrc/Makefile					1.1

	Get NetBSD-acorn32 bootloader and installation set to a working state.
	[abs, ticket #497]

distrib/utils/sysinst/upgrade.c			1.46

	Remove all the code (mostly already under #if 0) that played around
	with etc.old
	[dsl, ticket #489]

distrib/utils/sysinst/msg.mi.de			1.7
distrib/utils/sysinst/msg.mi.en			1.127
distrib/utils/sysinst/msg.mi.fr			1.76
distrib/utils/sysinst/msg.mi.pl			1.38

	Remove the parts of messages that refer to etc.old.
	[dsl, ticket #490]

distrib/utils/sysinst/arch/i386/md.c		1.102
distrib/utils/sysinst/arch/i386/md.h		1.51
distrib/utils/sysinst/defs.h			1.113
distrib/utils/sysinst/disks.c			1.85

	Parse a disk name of "raid:no_mbr" to mean "raid" but without any mbr
	setup (on i386). Allows sysinst to install to an existing RAID1 volume.
	[dsl, ticket #491]

distrib/utils/sysinst/disks.c			1.86

	dd->dd_no_mbr has to always be initialized. It doesn't default to 0
	since it is allocated on the stack. Thus, allow editing the MBR
	partition table on disks that actually have a MBR.
	[dsl, ticket #492]

distrib/utils/sysinst/upgrade.c			1.47

	Kill etc_saved and the prototype for save_etc()
	[dsl, ticket #493]

sys/arch/xen/i386/hypervisor_machdep.c		1.3
sys/arch/xen/include/hypervisor.h		1.8
sys/arch/xen/include/xen.h			1.8

	Cleanup low-level bit mangling code.
	[cl, ticket #498]

sys/arch/mac68k/dev/zs_kgdb.c			1.5

	Make sure kernels with KGDB enabled will compile properly.
	Apply patch from Hauke Fath in PR port-mac68k/25678.
	[briggs, ticket #500]

sys/netipsec/key.c				1.20

	Set requstor's process-id in FAST_IPSEC's response messages to
	PF_KEY SPB/SADB dump requests.
	[jonathan, ticket #504]

crypto/dist/kame/racoon/Makefile.in			patch
crypto/dist/kame/racoon/algorithm.c			patch
crypto/dist/kame/racoon/auth_gssapi.h			new file
crypto/dist/kame/racoon/cfparse.y			patch
crypto/dist/kame/racoon/cftoken.l			patch
crypto/dist/kame/racoon/configure			patch
crypto/dist/kame/racoon/configure.in			patch
crypto/dist/kame/racoon/crypto_openssl.c		patch
crypto/dist/kame/racoon/crypto_openssl.h		patch
crypto/dist/kame/racoon/dhgroup.h			patch
crypto/dist/kame/racoon/eaytest.c			patch
crypto/dist/kame/racoon/grabmyaddr.c			patch
crypto/dist/kame/racoon/gssapi.c			patch
crypto/dist/kame/racoon/gssapi.h			delete
crypto/dist/kame/racoon/handler.c			patch
crypto/dist/kame/racoon/ipsec_doi.c			patch
crypto/dist/kame/racoon/isakmp.c			patch
crypto/dist/kame/racoon/isakmp_agg.c			patch
crypto/dist/kame/racoon/isakmp_base.c			patch
crypto/dist/kame/racoon/isakmp_ident.c			patch
crypto/dist/kame/racoon/isakmp_inf.c			patch
crypto/dist/kame/racoon/isakmp_quick.c			patch
crypto/dist/kame/racoon/isakmp_var.h			patch
crypto/dist/kame/racoon/kmpstat.c			patch
crypto/dist/kame/racoon/oakley.c			patch
crypto/dist/kame/racoon/oakley.h			patch
crypto/dist/kame/racoon/pfkey.c				patch
crypto/dist/kame/racoon/print-isakmp.c			new file
crypto/dist/kame/racoon/proposal.c			patch
crypto/dist/kame/racoon/racoon.conf.5			patch
crypto/dist/kame/racoon/session.c			patch
crypto/dist/kame/racoon/sockmisc.c			patch
crypto/dist/kame/racoon/strnames.c			patch
crypto/dist/kame/racoon/missing/crypto/sha2/sha2.c	patch
crypto/dist/kame/racoon/tcpdump/addrtoname.h		new file
crypto/dist/kame/racoon/tcpdump/extract.h		new file
crypto/dist/kame/racoon/tcpdump/interface.h		new file
crypto/dist/kame/racoon/tcpdump/ipsec_doi.h		new file
crypto/dist/kame/racoon/tcpdump/isakmp.h		new file
crypto/dist/kame/racoon/tcpdump/oakley.h		new file
usr.sbin/racoon/Makefile				patch
usr.sbin/racoon/Makefile.inc				patch
usr.sbin/racoon/libpfkey/Makefile			patch
usr.sbin/racoon/racoon/Makefile				patch

	Pullup racoon to version 20040617a which includes security fixes.
	[itojun, ticket #505]

sys/arch/amd64/amd64/gdt.c			1.5
sys/arch/amd64/include/gdt.h			1.2

	When converting GDT length units from segment structures to bytes for
	the amd64 port, I converted MINGDTSIZ wrongly; it was not page aligned,
	causing	gdt_grow to corrupt the GDT. Fix this, and remove the
	extraneous definitions of the sizes from gdt.c.
	[fvdl, ticket #506]

bin/pax/buf_subs.c				1.24
bin/pax/tar.c					1.54-1.56 via patch

	Fix PR bin/25934: pax creates broken tar archives if they contain files
	with multiple hardlinks and at least one filename >=100 chars long.
	[dillo, ticket #507]

usr.bin/gzip/gzip.c				1.47-1.49

	Fix various bugs in gzip(1) including PRs bin/25824 and bin/25843.
	[mrg, ticket #508]

usr.sbin/racoon/libpfkey/Makefile		patched by hand

	Backout revision 1.4.2.1 from ticket #505:
	MKPRIVATELIB was added to current after 2.0 branch. As is this
	Makefile installs the private libpfkey libs in DESTDIR which breaks
	the set list.
	[seb, ticket #509]

sys/netinet/ip_fil_netbsd.c			1.11

	Don't leak mbuf if ipfr_fastroute6() fails.
	[tron, ticket #501]

sys/netinet/fil.c				1.66

	Make sure that "pass" is always initialized.
	Make sure the code doesn't use a stale mbuf pointer after
	fr_makefrip() has been called.
	[tron, ticket #502]

sys/arch/sparc/stand/bootblk/bootblk.fth	1.6
sys/arch/sparc/stand/bootblk/genfth.cf		1.4

	Use RF_PROTECTED_SECTORS instead of a (wrong) magic value.
	Fixes booting from raid1.
	[martin, ticket #510]

sys/compat/linux/arch/powerpc/linux_exec.h		1.17
sys/compat/linux/arch/powerpc/linux_exec_powerpc.c	1.13-1.14

	COMPAT_LINUX/powerpc fixes for non-executable stack.
	[manu, ticket #511]

distrib/notes/common/postinstall			1.56 via patch

	Add sparc64 tags.
	[mbw, ticket #481]

gnu/dist/groff/Makefile.in			1.7

	groff's configure happily accepts and uses CPPFLAGS for it's tests but
	then doesn't substitute that into Makefile.in anywhere. This will cause
	it to lose when compiling as a host tools and CPPFLAGS contains -I's
	into the compat area (solaris loses here for instance). Fix by adding
	CPPFLAGS onto CFLAGS and CCFLAGS definitions
	[jmc, ticket #526]

sys/miscfs/genfs/layer_extern.h			1.16
sys/miscfs/genfs/layer_vnops.c			1.17
sys/miscfs/nullfs/null_vnops.c			1.30
sys/miscfs/overlay/overlay_vnops.c		1.13
sys/miscfs/umapfs/umap_vnops.c			1.27

	Do a LAYERFS_REMOVED hack for vop_rename as well.
	[yamt, ticket #512]

sys/nfs/nfs_bio.c				1.118

	nfs_doio_read: use np->n_rcred instead of curproc->p_ucred for VDIR.
	[yamt, ticket #513]

sys/miscfs/genfs/layer_vnops.c			1.18
sys/miscfs/umapfs/umap_vnops.c			1.28

	umap_lookup/layer_lookup: NULL out *ap->a_vpp after calling
	underlying filesystem because some caller including lookup()
	assume that *vpp is NULL on error.
	[yamt, ticket #514]

sys/nfs/nfs_subs.c				1.134

	nfs_searchdircache: fix a null dereference in the case that
	offset!=0 and dircache hasn't been initialized yet.
	[yamt, ticket #515]

sys/kern/vfs_subr.c				1.227-1.228

	getcleanvnode: add a comment on a VLAYER hack.
	getcleanvnode: don't try to reclaim a vnode marked as VXLOCK.
	Fix crashes with VOP_RECLAIM implementations which might block.
	(eg. layered filesystems)
	[yamt, ticket #516]

sys/conf/files					1.673,1.675
sys/dev/ic/rtl81x9.c				1.46
sys/dev/ic/rtl81x9var.h				1.12-1.13
sys/dev/pci/files.pci				1.211
sys/dev/pci/if_re.c				1.1-1.4

	Add re(4) RealTek 8139C+/8169/8169S/8110S PCI ethernet adapter driver.
	[toshii, ticket #517]

bin/pax/ar_io.c					1.41
bin/pax/file_subs.c				1.47
bin/pax/ftree.c					1.31
bin/pax/getoldopt.c				1.20
bin/pax/options.c				1.76
bin/pax/pax.c					1.35
include/getopt.h				1.6
include/glob.h					1.18
include/pwd.h					1.33
lib/libc/db/btree/bt_conv.c			1.11
lib/libc/db/btree/bt_debug.c			1.11
lib/libc/db/btree/bt_utils.c			1.10
lib/libc/db/hash/hash_bigkey.c			1.18
lib/libc/db/hash/hash_buf.c			1.11
lib/libc/db/hash/hash_func.c			1.10
lib/libc/db/hash/hash_log2.c			1.9
lib/libc/db/recno/rec_utils.c			1.10
lib/libc/gen/__fts13.c				1.43
lib/libc/gen/pwcache.c				1.29
lib/libc/stdio/fparseln.c			1.3-1.5
lib/libc/stdlib/getopt_long.c			1.17
lib/libc/string/strmode.c			1.16
share/mk/bsd.hostprog.mk			1.44
tools/compat/Makefile				1.31
tools/compat/compat_defs.h			1.39-1.40 (1.39 via patch)
tools/compat/compat_getopt.h			1.1
tools/compat/configure				1.45
tools/compat/configure.ac			1.44
tools/compat/defs.mk.in				1.9
tools/compat/nbtool_config.h.in			1.4
usr.bin/cksum/cksum.c				1.20
usr.bin/cksum/crc.c				1.15
usr.bin/cksum/md5.c				1.5
usr.bin/cksum/print.c				1.10
usr.bin/cksum/sum1.c				1.11
usr.bin/cksum/sum2.c				1.11
usr.bin/ctags/C.c				1.11
usr.bin/ctags/ctags.c				1.10
usr.bin/ctags/fortran.c				1.9
usr.bin/ctags/lisp.c				1.9
usr.bin/ctags/print.c				1.8
usr.bin/ctags/tree.c				1.10
usr.bin/ctags/yacc.c				1.9
usr.bin/m4/eval.c				1.18
usr.bin/m4/expr.c				1.16
usr.bin/m4/gnum4.c				1.4
usr.bin/m4/look.c				1.10
usr.bin/m4/main.c				1.35
usr.bin/m4/misc.c				1.17
usr.bin/m4/trace.c				1.5
usr.bin/menuc/avl.c				1.6
usr.bin/menuc/main.c				1.10
usr.bin/menuc/mdb.c				1.40
usr.bin/menuc/util.c				1.4
usr.bin/msgc/msgdb.c				1.20
usr.bin/msgc/msgmain.c				1.7
usr.bin/rpcgen/rpc_clntout.c			1.13
usr.bin/rpcgen/rpc_cout.c			1.26
usr.bin/rpcgen/rpc_hout.c			1.20
usr.bin/rpcgen/rpc_main.c			1.26
usr.bin/rpcgen/rpc_parse.c			1.13
usr.bin/rpcgen/rpc_sample.c			1.10
usr.bin/rpcgen/rpc_scan.c			1.9
usr.bin/rpcgen/rpc_svcout.c			1.22
usr.bin/rpcgen/rpc_tblout.c			1.11
usr.bin/rpcgen/rpc_util.c			1.10
usr.bin/stat/stat.c				1.19
usr.bin/xinstall/xinstall.c			1.87
usr.bin/xlint/common/emit.c			1.4
usr.bin/xlint/common/inittyp.c			1.6
usr.bin/xlint/common/mem.c			1.7
usr.bin/xlint/lint1/decl.c			1.33
usr.bin/xlint/lint1/emit1.c			1.14
usr.bin/xlint/lint1/err.c			1.27
usr.bin/xlint/lint1/func.c			1.21
usr.bin/xlint/lint1/init.c			1.18
usr.bin/xlint/lint1/main1.c			1.15
usr.bin/xlint/lint1/mem1.c			1.11
usr.bin/xlint/lint1/tree.c			1.37
usr.bin/xlint/lint2/chk.c			1.17
usr.bin/xlint/lint2/hash.c			1.9
usr.bin/xlint/lint2/main2.c			1.7
usr.bin/xlint/lint2/mem2.c			1.9
usr.bin/xlint/lint2/msg.c			1.8
usr.bin/xlint/lint2/read.c			1.14
usr.bin/xlint/xlint/xlint.c			1.35
usr.bin/yacc/main.c				1.15
usr.sbin/config/files.c				1.24
usr.sbin/config/hash.c				1.14
usr.sbin/config/main.c				1.94
usr.sbin/config/mkdevsw.c			1.5
usr.sbin/config/mkheaders.c			1.36
usr.sbin/config/mkioconf.c			1.73
usr.sbin/config/mkmakefile.c			1.62
usr.sbin/config/mkswap.c			1.17
usr.sbin/config/pack.c				1.16
usr.sbin/config/sem.c				1.43
usr.sbin/config/util.c				1.21
usr.sbin/installboot/arch/amiga.c		1.3
usr.sbin/installboot/arch/i386.c		1.16
usr.sbin/installboot/arch/next68k.c		1.3
usr.sbin/installboot/arch/sparc64.c		1.14
usr.sbin/installboot/ffs.c			1.15
usr.sbin/installboot/fstypes.c			1.7
usr.sbin/installboot/installboot.c		1.16
usr.sbin/installboot/machines.c			1.24
usr.sbin/installboot/sum.c			1.3
usr.sbin/makefs/ffs.c				1.29
usr.sbin/makefs/ffs/buf.c			1.12
usr.sbin/makefs/ffs/ffs_alloc.c			1.14
usr.sbin/makefs/ffs/ffs_balloc.c		1.13
usr.sbin/makefs/ffs/mkfs.c			1.19
usr.sbin/makefs/ffs/ufs_bmap.c			1.14
usr.sbin/makefs/makefs.c			1.20
usr.sbin/makefs/makefs.h			1.14
usr.sbin/makefs/walk.c				1.17
usr.sbin/mtree/compare.c			1.44
usr.sbin/mtree/crc.c				1.6
usr.sbin/mtree/create.c				1.45
usr.sbin/mtree/excludes.c			1.13
usr.sbin/mtree/getid.c				1.5
usr.sbin/mtree/misc.c				1.25
usr.sbin/mtree/mtree.c				1.31
usr.sbin/mtree/spec.c				1.56
usr.sbin/mtree/verify.c				1.37
usr.sbin/pwd_mkdb/pwd_mkdb.c			1.29

	Fix various cross building issues which occured e.g. under older
	NetBSD releases. Includes fixes for PR toolchain/17762 and
	toolchain/25944.
	[jmc, ticket #527]

gnu/dist/gcc/gcc/f/com.h			1.2

	Typo in return type. From PR toolchain/25933.
	[jmc, ticket #528]

tools/Makefile.gnuhost				1.28

	Add $MAKE to env also. From PR toolchain/25952.
	[jmc, ticket #529]

distrib/acorn32/stand/Makefile			1.18
gnu/usr.bin/binutils/ld/Makefile		1.18
gnu/usr.bin/gcc3/host-libiberty/Makefile	1.6
share/zoneinfo/Makefile				1.38
sys/arch/bebox/stand/boot/Makefile		1.20
sys/arch/cobalt/stand/boot/Makefile		1.8
sys/arch/evbarm/stand/gzboot/Makefile.gzboot	1.10
sys/arch/hpc/stand/Makefile			1.15
sys/arch/hpcmips/stand/Makefile			1.9
sys/arch/i386/stand/Makefile.booters		1.57
sys/arch/i386/stand/boot/Makefile.boot		1.15
sys/arch/i386/stand/bootxx/Makefile.bootxx	1.14
sys/arch/macppc/stand/ofwboot/Makefile		1.44
sys/arch/mipsco/stand/Makefile.booters		1.9
sys/arch/pmax/stand/Makefile.booters		1.44
sys/arch/sbmips/stand/Makefile.bootprogs	1.5
sys/arch/sparc/stand/Makefile.buildboot		1.22
sys/arch/sparc/stand/ofwboot/Makefile		1.12
sys/arch/vax/floppy/Makefile			1.2
sys/arch/xen/conf/Makefile.xen			1.5
sys/arch/xen/stand/xen12load/Makefile		1.3
tools/Makefile.gnuhost				1.29

	Ignore errors on some rm -rf's for platforms that aren't quite
	POSIX compliant and return errors on r/o source (FreeBSD) for -rf.
	Fixes PR toolchain/25022.
	[jmc, ticket #531]

sys/arch/amd64/amd64/machdep.c			1.26

	Include "acpi.h" and some others to be able to powerdown via ACPI.
	[toshii, ticket #518]

sys/compat/linux/arch/mips/linux_machdep.c	1.21

	Build COMPAT_LINUX again on mips after the siginfo change.
	[manu, ticket #519]

sys/kern/kern_microtime.c			1.5

	Adjust code that tries to prevent cc_microtime() from going backwards
	so that it doesn't fire when called twice in the same microsecond,
	which can lead to large error accumulation.
	Appears to fix "repeated gettimeofday() goes backwards" on a fast
	alpha and i386 box.
	[fredb, ticket #520]

sys/compat/linux/arch/mips/linux_errno.h	1.3
sys/compat/linux/common/linux_errno.h		1.10

	Fix a reversed errno issue for Linux binaries on mips. While we are
	there, fix broken includes for alpha and m68k.
	[manu, ticket #521]

sys/kern/subr_pool.c				1.96
sys/sys/pool.h					1.44

	Remove PR_IMMEDRELEASE, since setting the high water mark will achieve
	the same thing.
	[thorpej, ticket #522]

sys/kern/vfs_bio.c				1.126

	Don't use PR_IMMEDRELEASE on buffer cache pools.  Instead, set a high
	water mark of 1, which will have the same effect.
	[thorpej, ticket #523]

sys/kern/vfs_bio.c				1.127

	When initializing the buffer cache memory pools where the size <= 
	PAGE_SIZE, also use the standard allocator on systems that use a
	direct-mapped  memory segment for mapping pool pages.
	[thorpej, ticket #524]

sys/fs/cd9660/cd9660_node.h			1.6

	Use unsigned long for file size and location; avoids sign extension
	for files >2GB.
	[dillo, ticket #525]

distrib/notes/sparc/whatis			1.20
distrib/notes/sparc/hardware			1.32

	- Increment to "eight major release"
	- hyperSPARC SMP supported
	- XFree86 4.4.0
	- nell has less problems
	[mbw, ticket #530]

gnu/dist/gcc/gcc/ChangeLog			1.9
gnu/dist/gcc/gcc/emit-rtl.c			1.2

	Stop programs from dumping core at runtime due to (some) alignment
	faults.
	[mrg, ticket #532]

sys/arch/macppc/macppc/extintr.c		1.44

	Make the iBook G4 keyboard almost usable (there are still some spurious
	inputs on system startup).
	[manu, ticket #533]

sys/arch/macppc/macppc/machdep.c		1.132

	Fix spurious keyboard inputs on iBook G4.
	[manu, ticket #534]

local/programs/x11-ssh-askpass/Imakefile	1.5

	Remove leftover files in clean and cleandir targets. PR #25852.
	[tron, ticket #499]

distrib/sets/lists/man/mi			1.700
gnu/usr.bin/groff/doc/Makefile			1.5

	Install GNU `troff' (or `groff') info manual.
	[uebayasi, ticket #536]

sys/dev/pci/if_tl.c				1.65
sys/dev/pci/pcidevs				1.628
sys/dev/pci/pcidevs.h				regen
sys/dev/pci/pcidevs_data.h			regen

	Apply patch from kern/25936 by Michael Blake: Add support for the
	Netelligent 10/100 TX variant found on the Compaq Proliant Professional
	Workstation 5100.
	[bouyer, ticket #537]

tools/compat/compat_defs.h			patch
lib/libc/gen/pwcache.c				patch
lib/libc/stdio/fparseln.c			patch

	Fix build problems caused by changes for ticket #527.
	[jmc, ticket #538]

tools/compat/compat_defs.h			1.43

	Define "_ISOC99_SOURCE" when building under NetBSD to get the
	prototypes for strtoll() and strtoull()
	[tron, ticket #539]

share/man/man4/ehci.4				1.10-1.11
sys/dev/usb/ehci.c				1.55-1.64
sys/dev/usb/ehcireg.h				1.15-1.17
sys/dev/usb/ohci.c				1.147-1.148

	Fix several reliability and performances problems with ehci and ohci.
	ehci/USB2 now works fairly reliably.
	[mycroft, ticket #535]

distrib/amiga/stand/Makefile			1.1 (new)
distrib/amiga/stand/device-streams.tar.gz.uue	1.1 (new)
distrib/amiga/stand/loadbsd-2.14.gz.uue		1.1 (new)
distrib/amiga/stand/loadbsd-2.14.uue		1.1 (new)
distrib/amiga/stand/loadbsd-2.16.gz.uue		1.1 (new)
distrib/amiga/stand/loadbsd.gz.uue		1.1 (new)
distrib/amiga/stand/loadbsd.uue			1.1 (new)
distrib/amiga/stand/rdbinfo.gz.uue		1.1 (new)
distrib/amiga/stand/rdbinfo.uue			1.1 (new)
distrib/amiga/stand/runbootblock.README		1.1 (new)
distrib/amiga/stand/runbootblock.uue		1.1 (new)
distrib/amiga/stand/xstreamtodev.gz.uue		1.1 (new)
distrib/amiga/stand/xstreamtodev.uue		1.1 (new)
distrib/amiga/Makefile				1.1 (new)
etc/etc.amiga/Makefile.inc			1.22-1.23

	AmigaDOS installation tools added.
	[mhitch, tickets #540, #541, #542]

sys/dev/ic/wdc.c				1.181

	For now, remove the ATAPI_SOFT_RESET done at attach time,
	which was added to get an IBM pcmcia external cdrom drive
	working.  However, this appears to cause trouble for other
	IDE/ATAPI devices.
	[bouyer, ticket #543]

sys/kern/kern_ktrace.c				1.89-1.90
sys/sys/ktrace.h				1.39

	Fix a panic induced by forcing ktrace to inject an emul
	record in a ktraced file descriptor that has already been
	invalidated.  Change all ktrace functions to propagate the
	error from ktrwrite() and check for it.
	Drag along revision ANSIfying function declarations.
	[christos, ticket #544]

sys/dev/scsipi/ch.c				1.60

	Remove special handling of ASC/ASCQ 0x29/0x00 ("Power On,
	Reset, or Bus Device Reset Occurred") when the device is
	not opened.  Let the default error handler deal with that
	instead.  This fixes the retreival of the sense page during
	autoconfig.
	[seb, ticket #545]

xc/programs/Xserver/hw/netbsd/hpc/hpcInit.c	1.7

	For hpcarm, use wskbd, as the keyboard will not work
	otherwise.
	[manu, ticket #546]

usr.bin/gzip/gzip.c				1.50

	If there are zero bytes to output, this isn't an error. It's probably
	a zero length file. Don't return an error. PR#25994
	[mrg, ticket #547]

sys/arch/macppc/conf/INSTALL			1.76
sys/arch/macppc/conf/GENERIC			1.177

	Add re; Realtek GbE
	[mrg, ticket #548]

usr.sbin/makefs/ffs/newfs_extern.h		1.2
usr.sbin/makefs/ffs/mkfs.c			1.20
usr.sbin/makefs/ffs.c				1.30

	Define FFS_MAXBSIZE to 65536 and use instead of MAXBSIZE. 
	Deprecate unused MAXINOPB. PR#25603 fixed.
	[lukem, ticket #549]

sys/coda/coda_vnops.c				1.39

	Fix coda symlink vnodeops. Provided by Greg Troxel. PR#25963.
	[petrov, ticket #550]

sys/dev/ic/atw.c				1.34

	Don't skip the reset at device attachment.  atw seems to work better
	now that it gets this right: for one thing, the RSSI can be seen to
	change as I walk around the office with my laptop.
	[dyoung, ticket #551]

sys/dev/ic/atw.c				1.36-1.37

	After we wait for the MAC's transmit section to idle, drain the
	transmit queue and cancel the watchdog timer.  This ends the annoying
	"atw0: transmit timeout" messages that disrupted my WiFi tonight.

	Only drain the transmit queue if we are idling the transmit section.
	[dyoung, ticket #552]

x11/bin/xdm/config/Makefile			patch

	Make sure XDMAUTHDIR gets substituted in xdm-config.
	Fixes PR#26035.
	[abs, ticket #553]

xfree/xc/programs/Xserver/hw/netbsd/hpc/hpcInit.c	1.3

	Use wskbd0 for the keyboard input on hpcarm, so that it works.
	[manu, ticket #554]

share/man/man4/re.4				1.1-1.5 (new)
distrib/sets/lists/man/mi			1.699
share/man/man4/Makefile				1.323 via patch

	Add re(4) manual page.
	[toshii, ticket #555]

sys/altq/altq_blue.c				1.10

	Fix URL to Wu-chang Feng's BLUE.
	[abs, ticket #556]

sys/kern/kern_exec.c				1.186

	Rearrange the handling of p_textvp so that the ref-counting
	is correct.  Fixes PR#25663.
	[chs, ticket #557]

sys/kern/kern_exec.c				1.187

	Add a workaround for PR#25664, which describes a failure
	to map sigcode for Tru64 binaries.
	[chs, ticket #558]

sys/dev/raidframe/rf_driver.c			1.103

	Address a number of issues:
	1) Introduce functions to allocate and free the emergency
	   IO buffers.
	2) Make sure we free any allocated emergency buffers in the
	   event that we bail out during configuration, or when we
	   unconfigure an array.
	3) If we run out of memory trying to allocate a given type
	   of buffer, do not continue to try to allocate more of
	   those buffers.
	Partially addresses PR#25787.
	[oster, ticket #559]

distrib/sun3/miniroot/list			1.8

	Update shared libraries.  Fixes PR#25970.
	[chs, ticket #560]

distrib/mac68k/stand/Makefile			1.3
distrib/mac68k/stand/extensions.map		1.1 (new)
etc/etc.mac68k/Makefile.inc			1.17

	Make the ``iso-image'' a hybrid HFS/Rockridge image.  The
	main benefit is that the Macbinary files in the ``misc''
	directory are now directly executable from within MacOS.
	This solves a ``chicken-and-egg'' problem: you can't even
	distribute a tool to unpack the archives on a plain ISO
	image, as the executable code is all in the resource fork
	on mac68k.  In other words, a user can now begin the
	installation by simply double-clicking on the Booter program
	on the CD-ROM.
	[fredb, ticket #561]

sys/fs/msdosfs/msdosfs_vfsops.c			1.19

	Set gmtoff in the structure returned by the MNT_GETARGS
	call.
	[jdolecek, ticket #562]

sys/dev/raidframe/raidframevar.h		1.7
sys/dev/raidframe/rf_desc.h			1.14
sys/dev/raidframe/rf_driver.c			1.102
sys/dev/raidframe/rf_driver.h			1.12

	Fix const'ificication, gcc-3.4 will notice it
	[oster, ticket #563]

sys/arch/i386/conf/INSTALL			1.241

	Add mtd (Myson MTD803 3-in-1 Ethernet) driver.
	[martin, ticket #564]

sys/dev/usb/umass_quirks.c			1.66

	The Sony Clie reports that it's SFF-8070 when it's really UFI.
	This quirk allows the memory stick port to be used as a memory
	stick reader.
	[gendalia, ticket #565]

xfree/xc/programs/Xserver/hw/xfree86/os-support/bsd/bsd_mouse.c	1.7

	Support absolute mouse position events.
	Fix a bug that caused an entire batch of events to be thrown out when
	one of an unknown or invalid type was encountered.
	[tsarna, ticket #566]

sys/arch/acorn26/conf/GENERIC			1.20
sys/arch/acorn32/conf/GENERIC			1.41
sys/arch/alpha/conf/GENERIC			1.245
sys/arch/amd64/conf/GENERIC			1.27
sys/arch/amiga/conf/GENERIC.in			1.22
sys/arch/arc/conf/GENERIC			1.102
sys/arch/atari/conf/GENERIC.in			1.37
sys/arch/bebox/conf/GENERIC			1.73
sys/arch/cats/conf/GENERIC			1.65
sys/arch/cesfic/conf/GENERIC			1.24
sys/arch/cobalt/conf/GENERIC			1.59
sys/arch/dreamcast/conf/GENERIC			1.42
sys/arch/hp300/conf/GENERIC			1.101
sys/arch/hp700/conf/GENERIC			1.25
sys/arch/hpcmips/conf/GENERIC			1.151
sys/arch/hpcsh/conf/GENERIC			1.37
sys/arch/i386/conf/GENERIC			1.616
sys/arch/i386/conf/GENERIC_LAPTOP		1.100
sys/arch/i386/conf/GENERIC_PS2TINY		1.28
sys/arch/i386/conf/GENERIC_TINY			1.66
sys/arch/ibmnws/conf/GENERIC			1.7
sys/arch/luna68k/conf/GENERIC			1.46
sys/arch/mac68k/conf/GENERIC			1.145
sys/arch/mac68k/conf/GENERICSBC			1.30
sys/arch/macppc/conf/GENERIC			1.178
sys/arch/mipsco/conf/GENERIC			1.35
sys/arch/mmeye/conf/GENERIC			1.56
sys/arch/mvme68k/conf/GENERIC			1.47
sys/arch/netwinder/conf/GENERIC			1.49
sys/arch/news68k/conf/GENERIC			1.51
sys/arch/news68k/conf/GENERIC_TINY		1.25
sys/arch/newsmips/conf/GENERIC			1.66
sys/arch/next68k/conf/GENERIC			1.77
sys/arch/ofppc/conf/GENERIC			1.66
sys/arch/pc532/conf/GENERIC			1.39
sys/arch/pdp10/conf/GENERIC			1.4
sys/arch/playstation2/conf/GENERIC		1.5
sys/arch/pmax/conf/GENERIC			1.118
sys/arch/prep/conf/GENERIC			1.78
sys/arch/sandpoint/conf/GENERIC.sandpoint	1.15
sys/arch/sbmips/conf/GENERIC			1.27
sys/arch/sgimips/conf/GENERIC32_IP2x		1.12
sys/arch/sgimips/conf/GENERIC32_IP3x		1.9
sys/arch/shark/conf/GENERIC			1.31
sys/arch/sparc/conf/GENERIC			1.156
sys/arch/sparc64/conf/GENERIC32			1.84
sys/arch/sun2/conf/GENERIC			1.30
sys/arch/sun3/conf/GENERIC			1.105
sys/arch/sun3/conf/GENERIC3X			1.62
sys/arch/vax/conf/GENERIC			1.122
sys/arch/x68k/conf/GENERIC			1.97
sys/arch/xen/conf/GENERIC			1.13
sys/arch/amiga/conf/AMIGA			1.67
sys/arch/amiga/conf/DRACO			1.83
sys/arch/amiga/conf/GENERIC			1.203
sys/arch/amiga/conf/INSTALL			1.44
sys/arch/amiga/conf/WSCONS			1.21
sys/arch/atari/conf/ATARITT			1.60
sys/arch/atari/conf/BOOT			1.57
sys/arch/atari/conf/BOOTX			1.52
sys/arch/atari/conf/HADES			1.52
sys/arch/atari/conf/FALCON			1.61
sys/arch/atari/conf/MILAN-ISAIDE		1.28
sys/arch/atari/conf/MILAN-PCIIDE		1.31

	Add (commented out) ALTQ options to all GENERIC-like files.
	Regenerate from master config files.
	[abs, ticket #567]

distrib/utils/sysinst/msg.mi.de			1.12

	Translate language selection string.
	[martin, ticket #568]

sys/dev/raidframe/rf_driver.c			1.104

	Remove a (redundant) check that was already performed in raidstart().
	[oster, ticket #569]

sys/netinet/ip_nat.c				1.60

	Fix problem where ipnat is corrupting ``bimap'' translations.
	Fixes PR#25999.
	[christos, ticket #571]

doc/RESPONSIBLE					1.40 via patch
sys/dev/ata/ata_wdc.c				1.56-1.57
sys/dev/ata/wd.c				1.279-1.280
sys/dev/scsipi/sd.c				1.218-1.219
sys/dev/usb/ehci.c				1.65-1.66
sys/dev/usb/ohci.c				1.149
sys/dev/usb/ugen.c				1.68
sys/dev/usb/uhci.c				1.179
sys/dev/usb/uhid.c				1.62
sys/dev/usb/uhub.c				1.68
sys/dev/usb/umass.c				1.113-1.115
sys/dev/usb/umass_quirks.c			1.65,1.67
sys/dev/usb/usb_quirks.c			1.50
sys/dev/usb/usb_subr.c				1.114-1.116
sys/dev/usb/usbdi_util.h			1.29

	Several fixes mostly related to USB:
	 o Don't force ATA_SINGLE on devices which don't support
	   READ/WRITE MULTI.  Increases performance with several
	   CF cards substantially.
	 o Update copyright.
	 o Add a general workaround for devices returning incorrect
	   lengths in string descriptors, so that we don't need
	   separate quirk entries for these.
	 o Add a comment explaining quirk table policy.
	 o Fix some UMATCH values in umass_quirks.c.
	 o Use STATUS_CMD_FAILED instead of STATUS_WIRE_FAILED in
	   response to a CBI stall, so that we do a REQUEST SENSE
	   thereafter.  Fixes PR#22960.
	 o Fix usage of incorrect buffer in CBI, possibly causing
	   general failure to transfer data correctly.  Fixes
	   PR#25676.
	 o Do not do a CBI resset before returning STATUS_CMD_FAILED.
	   This causes any sense information to be thrown away.
	 o Separate page 4/5 reading into separate functions.  For
	   ``removeable'' devices, try page 5 first.  Fixes problem
	   with some broken USB devices which do not handle page 4
	   correctly.
	 o Add prototypes for recently added functions.
	 o Make a message dependent on ohcidebug, so it does not
	   interfere with polled operation, e.g. when entering a
	   root device or in DDB.
	 o Ignore a port error that happens to come in at the same
	   time as a connect status change.  Some root hubs appear
	   to report both.
	 o Fix an endianness problem in the ehci.c driver.
	 o Add Charles Hannum as responsible for USB and ACPI.
	[mycroft, ticket #572]

sys/dev/acpi/acpi_bat.c				1.40

	Handle a ``device check'' message by reloading battery
	information.
	[mycroft, ticket #572]

sys/dev/ieee1394/sbp2.c				1.19

	Fix sbp2_free() so that it does not dump core.  Fixes PR#21099
	and PR#23904.
	[mycroft, ticket #572]

sys/arch/acorn26/conf/GENERIC			1.21
sys/arch/acorn32/conf/GENERIC			1.42
sys/arch/alpha/conf/GENERIC			1.246
sys/arch/amiga/conf/AMIGA			regenerate
sys/arch/amiga/conf/DRACO			regenerate
sys/arch/amiga/conf/GENERIC			regenerate
sys/arch/amiga/conf/GENERIC.in			1.23
sys/arch/amiga/conf/INSTALL			regenerate
sys/arch/amiga/conf/WSCONS			regenerate
sys/arch/arc/conf/GENERIC			1.103
sys/arch/atari/conf/ATARITT			regenerate
sys/arch/atari/conf/BOOT			regenerate
sys/arch/atari/conf/BOOTX			regenerate
sys/arch/atari/conf/FALCON			regenerate
sys/arch/atari/conf/GENERIC.in			1.38
sys/arch/atari/conf/HADES			regenerate
sys/arch/atari/conf/MILAN-ISAIDE		regenerate
sys/arch/atari/conf/MILAN-PCIIDE		regenerate
sys/arch/cats/conf/GENERIC			1.66
sys/arch/cesfic/conf/GENERIC			1.25
sys/arch/cobalt/conf/GENERIC			1.60
sys/arch/dreamcast/conf/GENERIC			1.43
sys/arch/hp300/conf/GENERIC			1.102
sys/arch/hp700/conf/GENERIC			1.26
sys/arch/i386/conf/GENERIC_LAPTOP		1.101
sys/arch/i386/conf/GENERIC_PS2TINY		1.29
sys/arch/i386/conf/GENERIC_TINY			1.67
sys/arch/luna68k/conf/GENERIC			1.47
sys/arch/mac68k/conf/GENERIC			1.146
sys/arch/mac68k/conf/GENERICSBC			1.31
sys/arch/macppc/conf/GENERIC			1.179
sys/arch/mipsco/conf/GENERIC			1.36
sys/arch/mmeye/conf/GENERIC			1.57
sys/arch/netwinder/conf/GENERIC			1.50
sys/arch/news68k/conf/GENERIC			1.52
sys/arch/news68k/conf/GENERIC_TINY		1.26
sys/arch/newsmips/conf/GENERIC			1.67
sys/arch/ofppc/conf/GENERIC			1.67
sys/arch/pc532/conf/GENERIC			1.40
sys/arch/pdp10/conf/GENERIC			1.5
sys/arch/pmax/conf/GENERIC			1.119
sys/arch/prep/conf/GENERIC			1.80
sys/arch/sbmips/conf/GENERIC			1.28
sys/arch/sgimips/conf/GENERIC32_IP2x		1.13
sys/arch/sgimips/conf/GENERIC32_IP3x		1.10
sys/arch/sparc/conf/GENERIC			1.157
sys/arch/sun2/conf/GENERIC			1.31
sys/arch/sun3/conf/GENERIC			1.106
sys/arch/sun3/conf/GENERIC3X			1.63
sys/arch/vax/conf/GENERIC			1.123
sys/arch/x68k/conf/GENERIC			1.98

	Add options P1003_1B_SEMAPHORE to all GENERIC-like kernel
	config files where SYSV* options were already present
	(commented out if the SYSV* options are commented out).
	Fixes PR#25897 and PR#25898.
	[bouyer, ticket #573]

sbin/wsconsctl/keyboard.c			1.5

	It should not be a fatal error if the WSKBDIO_GETSCROLL is
	not supported by the device.  Fixes PR#26101.
	[recht, ticket #574]

sys/miscfs/genfs/layer_extern.h			1.17
sys/miscfs/genfs/layer_vnops.c			1.23
sys/miscfs/nullfs/null_vnops.c			1.31
sys/miscfs/overlay/overlay_vnops.c		1.14
sys/miscfs/umapfs/umap_vnops.c			1.32

	Do LAYERFS_REMOVED for vop_rmdir.
	[hannken, ticket #575]

sys/arch/sparc64/dev/iommu.c			1.75

	Reserve extra dvma page in iommu_dvma_load_raw().  Fixes
	PR#13654.
	[petrov, ticket #576]

sys/dev/raidframe/rf_netbsdkintf.c		1.180

	The result of rf_DoAccess() should not be assigned to
	bp->b_error.  As well, when we do detect some sort of an
	error, we should be doing a biodone() here.
	[oster, ticket #577]

distrib/sparc64/xminiroot/Makefile		1.25

	Do not remove sysinst via CLEANFILES, since it is a directory.
	Instead, provide a new clean rule for it.  Fixes PR#26137.
	[jmc, ticket #578]

include/signal.h				1.38

	Resolve some namespace protection confusion between XPG4.2
	and 5/1003.1b, making _XOPEN_SOURCE_EXTENDED work again.
	Fixes PR#26077.
	[kleink, ticket #579]

include/assert.h				1.17
include/stdio.h					1.56
sys/sys/endian.h				1.8
sys/sys/lock.h					1.55
lib/librpcsvc/bootparam_prot.x			1.7
lib/librpcsvc/nfs_prot.x			1.7
lib/librpcsvc/nlm_prot.x			1.7
lib/librpcsvc/rwall.x				1.7
lib/librpcsvc/klm_prot.x			1.6
lib/librpcsvc/mount.x				1.6
lib/librpcsvc/rex.x				1.6
lib/librpcsvc/rquota.x				1.6
lib/librpcsvc/sm_inter.x			1.6
lib/librpcsvc/yppasswd.x			1.6
lib/librpcsvc/rnusers.x				1.12
lib/librpcsvc/rstat.x				1.5
lib/librpcsvc/rusers.x				1.5
lib/librpcsvc/spray.x				1.5
lib/librpcsvc/yp.x				1.5
sys/arch/vax/include/intr.h			1.15
sys/arch/vax/include/macros.h			1.31

	Tidy up the namespace: lint -> __lint__.
	[kleink, ticket #580]

sys/dev/ic/elinkxl.c				1.73

	Make this driver work also on alpha systems, instead of
	producing a machine check, by only reading the mii media
	status if the interface is up.  Fixes PR#25788.
	[bouyer, ticket #581]

sys/dev/usb/umass.c				1.116

	When starting a bulk-only transfer, punt early if the device
	is going away.
	[mycroft, ticket #582]

sys/dev/pci/if_ath_pci.c			1.7

	Accept an alternate Atheros vendor ID by munging it to look
	like the expected one.  This is needed for DWL-G520 cards
	which otherwise ``just work''.  This should eventually be
	dealt with in the HAL.
	[mycroft, ticket #582]

sys/arch/alpha/pci/sio_pic.c			1.32

	Fix a really old ("since day one") bug: send specific EOIs
	to the PIC, not non-specific EOIs.  Should not matter so
	much, but strange interaction with PALcode, possibly only
	on some systems, is suspected.
	[mycroft, ticket #582]

sys/arch/x86/x86/intr.c				1.17

	This is clearly derived from the old i386/isa/intr.c, so
	insert the copyright from there.
	[mycroft, ticket #582]

sys/arch/alpha/pci/lca_dma.c			1.16

	Actually initialize the direct-mapped DMA window, which is
	clearly not set up by the firmware on the Multia.  Now
	devices like the built-in tlp actually work.
	[mycroft, ticket #582]

distrib/sets/lists/base/gcc.shl			1.2
distrib/sets/lists/comp/gcc.shl			1.7

	Move libgcc_s.so.X into base as C++ programs (ala groff)
	will need them.
	[jmc, ticket #583]

distrib/sun3/miniroot/list			1.9-1.10

	Add a missing symlink.
	Add more missing shared libraries.
	[chs, ticket #584]

sys/kern/kern_microtime.c			1.6-1.10

	Tweaks to cc_microtime(), to benefit ntpd on architectures
	which use cc_microtime(), and particularly on MP systems.
	Fixes PR#24207.
	[fredb, ticket #585]

share/man/man4/ath.4				1.5

	There is no ``DWL-G520B'', but there is ``DWL-G520'', which
	actually works now.  Also spell ``CardBus'' consistently.
	[mycroft, ticket #586]

sys/arch/macppc/macppc/machdep.c		1.133

	When the keyboard type is unknown, don't attach both ADB
	and USB, but instead assume ADB.  This because the kernel
	will panic if an USB keyboard is plugged in later.  May
	cause a problem on a desktop machine with an USB attached
	keyboard.
	[manu, ticket #587]

sys/arch/mips/mips/sig_machdep.c		1.10
sys/arch/mips/include/mcontext.h		1.6
sys/arch/mips/mips/mips_macdep.c		1.176
lib/libc/arch/mips/gen/__longjmp14.c		1.3-1.4
lib/libpthread/arch/mips/pthread_md.h		1.5

	Changes fixing PR#25942 (setcontext() causes kernel panic on MIPS):
	 o Fix a precedence problem setting uc_flags
	 o Drop the ``catchall'' __fpregset_t, and use either a
	   32-bit or 64-bit structure depending on the current ABI
	 o In cpu_{set,get}context(), copy the FP registers themselves
	   and the FP CSR separately, and from a correctly sized
	   __fpregset_t.  The FP CSR is copied separately to avoid
	   endianness or alignment issues.
	 o Catch up with changes to __fpregset_t.  In __longjmp14(),
	   copy the FP CSR from the correct array and array slot.
	 o Copy the sparc/sparc64 __longjmp14() way of dealing with
	   the signal mask: Restore the signal mask with sigprocmask()
	   instead of _UC_SIGMASK, since libpthread may want to
	   interpose on signal handling.
	[simonb, tickets #588, #589, #590, #591, #592]

share/man/man8/man8.i386/boot_console.8		1.13

	Clarify description to make it easier to distinguish
	CONSDEV_COM0 and CONSDEV_COM0KBD.
	[mycroft, ticket #593]

sys/arch/i386/i386/machdep.c			1.555

	Put back the reloading of the IDT in cpu_reset().
	Presumably this overrides some descriptor caching in the CPU.
	Fixes PR#8120 (cpu_reset() is unreliable on some systems).
	[mycroft, ticket #594]

sys/arch/x86/x86/cacheinfo.c			1.4

	Use ``B'' instead of ``b'' to indicate byte.
	[mycroft, ticket #595]

sys/arch/i386/stand/mbr/mbr.S			1.8

	Change MAXDRV to 0x8f, to fix El Torito booting problems
	on some machines.  Parially fixes PR#22647.
	[mycroft, ticket #596]

sys/dev/pci/pucdata.c				1.37

	Support for the VS-Com PCI-210H 2s/1p card. Fixes PR#18478.
	[mycroft, ticket #597]

sys/arch/i386/conf/GENERIC_LAPTOP		1.102
sys/arch/i386/conf/INSTALL_LAPTOP		1.59

	Add re(4) driver.  There are laptops with onboard RealTek
	8169 Gigabit LAN.
	[tron, ticket #598]

xfree/xc/programs/Xserver/hw/xfree86/drivers/ati/radeon_driver.c	1.8-1.9

	Tweaks to the Radeon driver to make it work properly on
	the Apple iBook G4; needs iBookHacks option in XF86Config.
	[manu, ticket #570]

xfree/xc/lib/Xt/TMparse.c			1.2

	Initialize variable in LookupTMEventType.
	[heas, ticket #599]

etc/rc.d/ipfs					1.5-1.6

	Make sure ipfs gets to save state before the state is
	destroyed either by interfaces being brought down or isdnd
	being shut down (on general shutdown), and restore any state
	by having it run before any servers are started.
	[martin, ticket #600]

sys/arch/i386/pnpbios/pnpbios.c			1.41

	Fix confusion between index numbers in one table and
	node numbers in another table, that was causing PNPBIOS
	to fail on some machines.  Fixes PR#18610.
	[mycroft, ticket #601]

sys/dev/ic/ne2000.c				1.43

	Fix a bug in the packet ``padding'' code.  If we are padding
	a packet with an odd length, we are writing out too much
	data, possibly causing the chip to lock up.
	[mycroft, ticket #602]

sys/dev/pcmcia/if_ne_pcmcia.c			1.115

	Add an entry for the Netgear FA410TX.  Fixes PR#20227.
	[mycroft, ticket #602]

sys/dev/ic/com.c				1.228-1.230

	Incorporate 4 changes:
	 o At high speed, set the FIFO trigger to a higher
	   value to reduce interrupt load.  Fixes PR#15448.
	 o Handle the case of IIR=RXRDY and LSR=!LSR_RCV_MASK
	   differently, to avoid a hang with some chips.  Fixes
	   PR#21184, and possibly PR#10974 and PR#8248.
	 o Remove the extra wait at the end of com_common_putc(),
	   after writing a character out, so that we get another
	   TXRDY interrupt.  This prevents stalls when normal
	   output and kernel output are mixed.  Fixes PR#4263.
	 o Do not ``preload'' the TX FIFO; wait for a TXRDY
	   interrupt to come in after enabling it.
	[mycroft, ticket #603]

sys/dev/usb/ulpt.c				1.63

	Remove change accidentally committed.  Fixes PR#25904.
	[recht, ticket #604]

sys/arch/amd64/include/Makefile			1.3
sys/arch/amd64/include/joystick.h		1.1 (new, via patch)
distrib/sets/lists/comp/md.amd64		1.15

	Add a <machine/joystick.h> which here is just a copy
	of the i386 one.
	[drochner, ticket #605]

sys/arch/i386/pci/pchb.c			1.51-1.52

	Be more careful about what ServerWorks devices we attempt
	to map PCI buses behind.  Fixes PR#21458.
	Update ServerWorks chip names, and add a few more.
	[mycroft, ticket #606]

sys/dev/pci/pcidevs				1.629
sys/dev/pci/pcidevs_data.h			regenerate
sys/dev/pci/pcidevs.h				regenerate

	Update ServerWorks chip IDs, per
	http://www.plasma-online.de/english/identify/picture/serverworks.html
	Seems remarkably more sane.
	[mycroft, ticket #606]

sys/arch/alpha/alpha/dec_550.c			1.25
sys/arch/alpha/alpha/dec_6600.c			1.21
sys/arch/alpha/alpha/dec_axppci_33.c		1.56
sys/arch/alpha/alpha/dec_kn300.c		1.29

	Significantly cleanup and bug fix root device detection:
	 o On systems where it is relevant (6600, kin300, kn8ae),
	   check which PCI bus hierarchy we are looking at.
	 o Consistently check PCI function numbers (important for
	   quad-channel ATA controllers).
	 o Check logical unit numbers.
	 o Use strcasecmp() to check b->protocol; the case is
	   different depending on firmware revision.
	 o Remove b->boot_dec_type check, it is unneeded.
	 o Remove extraneous unneeded variables.
	Fixes PR#9432, PR#12225, PR#25830 and multiple long-standing
	bugs, and the code is smaller too.
	[mycroft, ticket #607]

sys/dev/usb/ehci.c				1.67

	Fix a byte order error.
	[mycroft, ticket #609]

sys/dev/ic/cs89x0.c				1.13

	Don't set M_HASFCS. Rather than just print we got a bad packet length,
	actually print out the length that was bad.
	[mycroft, ticket #610]

sys/arch/i386/isa/npx.c				1.105-1.106

	Back out part of the changes in rev 1.86. Remove npxdna_notset(), and
	instead have the DNA trap handler point to npxdna_empty() by default.
	This way, if there are no npx devices found and MATH_EMULATE is not
	configured, we go back to the old behavior of issuing a SIGKILL and
	printing:
	pid XXX killed due to lack of floating point
	rather than panicking.
	[mycroft, ticket #611]

usr.bin/gzip/gzip.c				1.51

	Fix "zcat -f" on normal files. Fixes PR bin/26145.
	[mrg, ticket #625]

xfree/xc/programs/Xserver/hw/netbsd/dreamcast/dreamcastKbd.c	1.2-1.3
x11/Xserver/hw/netbsd/dreamcast/Makefile				1.3

	Make Xdreamcast build again.
	[he, ticket #612]

xfree/xc/lib/dps/Xlibnet.h			1.2
xfree/xc/lib/dps/csconndi.c			1.2
xfree/xc/lib/dps/cslibint.c			1.2
xfree/xc/programs/xterm/main.c			1.9

	Fix xterm scrolling speed, missed events, and a number of GTK
	"protocol errors" on LP64 platforms.
	[heas, ticket #613]

sys/arch/alpha/pci/pci_kn300.c			1.25-1.26

	When calculating the mcpcia irq, include bus pin to account for devices
	behind a PCI-PCI bridge.  Fixes PR#25831 (and the duplicate PR#26031).
	Verified by Chuck Silvers.
	[mhitch, tickets #622 and #623]

sys/arch/i386/conf/GENERIC			1.6188

	Remove accidently added UMASS_DEBUG.
	[abs, ticket #608]

xfree/xc/config/imake/imakemdep.h		1.5

	Include gcc's preprocessor define of __sparc64__ in Imake's defines.
	XFree PR 1424.
	[heas, ticket #618]

lib/libedit/el.c				1.39
lib/libedit/read.c				1.34

	PR/23486: Andreas Gustafsson: gdb no longer works with emacs
	- make sure that we keep previous contents of the buffer in unbuffered
	  mode.
	- when turning editing on and off keep tty consistent.
	[christos, ticket #620]

sys/dev/pci/if_txp.c				1.7

	Disestablish the interupt if we fail to (among other things) download
	the firmware successfully. This prevents the kernel from crashing later
	at interupt enable time, if firmware download fails like with my 3c990B
	card.
	[is, ticket #626]

usr.bin/rpcgen/rpc_sample.c			1.11

	Fix function calls in the sample server to use the right function name.
	From PR 4411.
	[mycroft, ticket #615]

usr.sbin/rbootd/rmpproto.c			1.14
usr.sbin/rbootd/utils.c				1.15

	Fix portability problems, per PR 5783.
	[mycroft, ticket #615]

usr.bin/m4/eval.c				1.19

	Fix a core dump.
	[mycroft, ticket #615]

sbin/routed/table.c				1.22

	PR 9431: if rnh_addradd() fails, total_routes will be wrong.
	[mycroft, ticket #615]

sys/netinet/in.c				1.97

	Fix SIOCSIFNETMASK -- it needs to use in_ifscrub() and in_ifinit() to
	update the interface route and various internal state. Also, it should
	use an ifreq, not an if_aliasreq. Addresses PR 9604.
	[mycroft, ticket #615]

etc/wscons.conf					1.11
share/man/man4/pckbd.4				1.14

	Add mention of Norwegian, Portuguese, and Spanish built-in keymaps.
	[fredb, ticket #616]

sys/nfs/nfs_socket.c				1.106 via patch

	- for tcp, use SO_RCVTIMEO to recover from server crash.
	  otherwise we can be stuck in soreceive forever.
	  the problem is pointed by Minoura Makoto.  PR/25662
	- clear r_rexmit on reconnect and clear r_rtt and R_TIMING on
	  retransmit so that the above (and soft mounts) happy.
	[yamt, ticket #617]

sys/dev/usb/umct.c				1.14

	The MCT advertises both the interrupt and bulkin endpoints as
	interrupts. Go from assuming that the first enumerated interrupt
	is the bulkin (since this may not be the case) to assuming that
	the true interrupt endpoint will have a 0x2 wMaxPacketSize.
	From FreeBSD's umct.c, ok'd by mycroft@, closes PR25959.
	[rumble, ticket #619]

sys/arch/alpha/alpha/machdep.c			1.283

	After sending the IPI to halt other CPUs, clear cpus_paused to ensure
	that the other CPUs resume execution.  If the halt was initiated from
	DDB, the CPUs will not have been resume execution and will never halt.
	If one of the paused CPUs is the primary CPU, the system will hang.
	Fixes PR#26159.
	[mhitch, ticket #624]

share/man/man5/mk.conf.5			1.19-1.20

	Add missing MKCVS, MKKERBEROS4, MKPOSTFIX, MKSENDMAIL, and MKUUCP.
	Note that some variables are still missing, since i'm not sure how
	to describe them... Bump date.
	Add missing .YorN
	[junyoung, ticket #627]

gnu/dist/gcc/gcc/config/i386/netbsd-elf.h	1.4

	Generate .stabs per default, should fix PR toolchain/25094.
	[christos, ticket #621]

sys/dev/sbus/be.c				1.43

	Fix incorrect diagnostic.
	[martin, ticket #628]

sys/dev/usb/if_url.c				1.10
sys/dev/usb/usbdevs				1.377-1.378
sys/dev/usb/usbdevs.h				regen
sys/dev/usb/usbdevs_data.h			regen
sys/dev/usb/uvisor.c				1.26

	GREENHOUSE2_USBKR100 -> REALTEK_RTL8150L, per PR 20425.
	Add another Zire device, from PR 25929.
	[mycroft, ticket #629]

sys/dev/usb/ulpt.c				1.64

	Remove the call to ulpt_reset(). Although this *shouldn't* cause
	printers to disconnect, it does, and this is *not* what the "prime"
	behavior was for in lpt.
	[mycroft, ticket #630]

sys/dev/usb/ohci.c				1.150
sys/dev/usb/umass.c				1.112

	Fix an error in a printf() format.
	Swap the order that two items are written; possibly fixes a race
	condition that would affect isoc transfers.
	Fix a printf() error.
	[mycroft, ticket #631]

distrib/common/buildfloppies.sh			1.8

	Correct padding of kernel floppies. This might be the fix for PR/25552
	[dsl, ticket #632]

sys/dev/pci/eso.c				1.35

	In addition to alpha, grossly work around the 24-bit limitation of the
	Audio 1 DMA engine by allocating through the ISA DMA tag on amd64
	and i386.
	[kleink, ticket #633]

sys/kern/kern_sa.c				1.52

	sa_release: NULL out l_savp to avoid having a stale reference to
	per-vp data. it matters when an application using SA does exec()
	an application which also uses SA. (firefox 0.9 seems to do this.)
	[yamt, ticket #635]

sys/kern/kern_descrip.c				1.124
sys/kern/vfs_cache.c				1.55
sys/nfs/nfs_node.c				1.74-1.75
sys/nfs/nfs_var.h				1.43
sys/nfs/nfs_vnops.c				1.187-1.191
sys/nfs/nfsm_subs.h				1.35-1.36
sys/sys/namei.h					1.35

	Resolve longstanding issue with the NFS client code and certain
	servers which caused hangs.
	[tls, ticket #634]

sys/arch/sparc/sparc/oclock.c			1.9
sys/arch/sparc/sparc/timer_sun4m.c		1.10

	Revision 1.27 of clock.c applies to the Intersil interrupt, not
	sun4m timers.
	[pk, ticket #637]

sys/nfs/nfs_vnops.c				1.204 via patch

	nfs_create: after an exclusive create rpc, make sure to update
	timestamps, which were likely used to store the verifier.
	reported by Mark Davies.  PR/26200
	[yamt, ticket #636]

usr.bin/locale/locale.c				1.4

	Consistently quote all values printed in the summary of
	the current locale environment (``locale'' without arguments).
	[jdolecek, ticket #639]

sys/dev/pci/if_wm.c				1.72

	Make this build if WM_DEBUG is defined.
	[tron, ticket #640]

distrib/sets/lists/base/shl.mi			patch
distrib/sets/lists/comp/mi			1.710-1.711
lib/libc/shlib_version				patch
include/string.h				1.26
lib/libc/string/Makefile.inc			1.54
lib/libc/string/strstr.3			1.9
lib/libc/string/strcasestr.c			1.1 (new)

	Add strcasestr(3), case insensitive version of strstr(3).
	Add a tiny version number to libc (1).
	[junyoung, ticket #638]

sys/arch/amd64/conf/GENERIC			1.26
sys/arch/i386/conf/GENERIC			1.615
sys/arch/i386/conf/INSTALL			1.240

	Add re; Realtek GbE.
	[he, ticket #641]

distrib/utils/sysinst/bsddisklabel.c		1.29

	PR/26201: Jukka Salmi: sysinst dumps core on NetBSD 2.0_BETA i386
	The problem is that current_cylsize is used in the menu to select
	rounding, and it is un-initialized at this point.
	[christos, ticket #642]

include/string.h				1.27

	Move the strcasestr() prototype to the local extensions section.
	Also __P() it; this should be consistent within a single header.
	[kleink, ticket #643]

doc/CHANGES					1.331 via patch
distrib/sets/lists/man/mi			1.712
share/man/man4/Makefile				1.325
share/man/man4/geodeide.4			1.1 (new)
sys/arch/i386/conf/GENERIC			1.620
sys/arch/i386/conf/GENERIC_LAPTOP		1.104
sys/arch/i386/conf/INSTALL			1.243
sys/arch/i386/conf/INSTALL_LAPTOP		1.61
sys/dev/pci/files.pci				1.214
sys/dev/pci/geodeide.c				1.1 (new)
sys/dev/pci/pciide_geode_reg.h			1.1 (new)

	Add geodeide(4), a driver for the AMD Geode CS5530A IDE controller.
	Tested by Ian Zagorskih (ianzag at megasignal.com).
	[bouyer, ticket #644]

sys/arch/alpha/include/param.h			1.34

	Bump NMBCLUSTERS to something a little more modern - 2048 for the
	normal case and 4096 for the "options GATEWAY" case.
	[mhitch, ticket #645]

crypto/dist/heimdal/lib/asn1/k5.asn1		1.6
crypto/dist/heimdal/lib/krb5/changepw.c		1.11-1.12
crypto/dist/heimdal/lib/krb5/krb5-protos.h	1.10
crypto/dist/heimdal/lib/krb5/krb5.h		1.6
lib/libasn1/Makefile				1.24

	Synch KRB5 set-password API with heimdal-current and recent
	MIT KRB5 releases.
	[jonathan, ticket #646]

usr.bin/netstat/fast_ipsec.c			1.4-1.5
usr.bin/netstat/main.c				1.45-1.46

	Don't show fast-ipsec protocol state when, e.g., listing PCBs with
	"netstat -A".
	[jonathan, ticket #647]

sys/kern/uipc_mbuf.c				1.83
sys/kern/uipc_socket2.c				1.65
sys/net/if_ethersubr.c				1.116
sys/netatalk/ddp_input.c			1.9
sys/nfs/nfs_socket.c				1.108
sys/sys/mbuf.h					1.94

	Rename MBUFTRACE helper function m_claim() to m_claimm(),
	for consistency with M_FREE() and m_freem().
	[jonathan, ticket #648]

crypto/dist/heimdal/lib/krb5/krb5_set_password.3	1.1-1.2 (new)
distrib/sets/lists/comp/mi				1.715-1.716
lib/libkrb5/Makefile					1.29

	Add documentation for krb5_set_password().
	[jonathan, ticket #649]

sbin/savecore/savecore.c			1.64

	Fix an integer overflow that prevented saving cores from machines with
	more than 2GB of RAM.
	[tls, ticket #650]

distrib/sets/lists/comp/mi			1.717

	Fix distribution set list inconsistency caused by ticket #649.
	[agc, ticket #651]

crypto/dist/heimdal/lib/krb5/krb5_set_password.3	1.4

	Remove superfluous comma; grammar fixes; split sentence
	in two for better understanding.
	[wiz, ticket #653]

sys/arch/amd64/conf/INSTALL			1.16

	Add re; Realtek GbE.
	[fvdl, ticket #655]

distrib/notes/sgimips/hardware			1.11
doc/CHANGES					1.333
sys/arch/sgimips/conf/GENERIC32_IP3x		1.11
sys/arch/sgimips/mace/if_mec_mace.c		1.3-1.4
sys/arch/sgimips/mace/if_mecreg.h		1.2

	Add a working driver for O2 (IP32) on-board MACE MAC-110 Ethernet.
	[tsutsui, ticket #652]

bin/pax/tar.c					1.57

	Fix a bug in "tar --exclude" handling.
	[hubertf, ticket #654]

sys/arch/sgimips/mace/mace.c			1.2-1.3

	Make sure shared interrupts are properly handled.  Makes
	com0/com1/lpt0 on mace work if more than one is configured.
	[tsutsui, ticket #657]

lib/libc/gen/popen.3				1.14-1.15

	Add a STANDARDS section; fixes PR#25957.
	[kleink, ticket #658]

sys/dev/sbus/tcx.c				1.16

	Make this compile with the TCX_CG8 option turned on,
	fixes PR#26269.
	[pk, ticket #659]

etc/defaults/rc.conf				1.61
etc/rc.d/savecore				1.6
share/man/man5/rc.conf.5			1.89

	Make the directory into which crash dumps are saved into
	something that can be controlled via rc.conf.  The default
	is, of course, /var/crash.
	[atatat, ticket #660]

sys/arch/i386/conf/Makefile.i386		1.136
sys/conf/Makefile.kern.inc			1.55

	Make uudecode into a tool which can be used to build a
	kernel and redo the athhal-elf.o handling to take advantage
	of it.  This means that bsd.files.mk is no longer included
	by Makefile.i386 so CFLAGS will not be duplicated.
	[atatat, ticket #661]

etc/defaults/rc.conf				1.62
etc/rc.d/sendmail				1.17
gnu/usr.sbin/sendmail/cf/cf/netbsd-msp.mc	1.3
gnu/usr.sbin/sendmail/cf/cf/netbsd-proto.mc	1.12
share/man/man5/rc.conf.5			1.90
share/man/man8/afterboot.8			1.11

	Change the default settings for sendmail:
	1) The stock sendmail.cf will only listen on the loopback
	   interface
	2) The stock submit.cf specifically connects to "localhost.",
	   which should be less susceptible to being confused or
	   looking confused.
	3) The SMTP listener starts by default, if needed.  The
	   setting in /etc/default/rc.conf is still "no", but
	   rc.d/sendmail detects the default setting and will change
	   it to "yes" if need is determined.
	"Need" is defined as "nothing else seems to have been
	changed about the mail configuration but we would like
	locally originated and locally destined mail to be delivered".
	If you change e.g. mailer.conf to point to postfix or some
	other MTA, sendmail will not start.
	[atatat, ticket #662]

sys/arch/acorn26/conf/FOURMEG			1.14
sys/arch/acorn26/conf/GENERIC			1.22
sys/arch/acorn32/conf/EB7500ATX			1.6
sys/arch/acorn32/conf/GENERIC			1.43
sys/arch/acorn32/conf/INSTALL			1.24
sys/arch/acorn32/conf/LOWMEM_WSCONS		1.25
sys/arch/acorn32/conf/NC			1.25
sys/arch/acorn32/conf/NC_WSCONS			1.30
sys/arch/acorn32/conf/RPC_WSCONS		1.29
sys/arch/algor/conf/P4032			1.23
sys/arch/algor/conf/P5064			1.28
sys/arch/algor/conf/P6032			1.22
sys/arch/alpha/conf/ALPHA			1.193
sys/arch/alpha/conf/BASIL			1.25
sys/arch/alpha/conf/FRAU-FARBISSINA		1.30
sys/arch/alpha/conf/GENERIC			1.247
sys/arch/alpha/conf/INSTALL			1.80
sys/arch/alpha/conf/RAWHIDE			1.19
sys/arch/amd64/conf/GENERIC			1.28
sys/arch/amd64/conf/SIMICS			1.8
sys/arch/amiga/conf/AMIGA			regenerate
sys/arch/amiga/conf/DRACO			regenerate
sys/arch/amiga/conf/GENERIC			regenerate
sys/arch/amiga/conf/GENERIC.in			1.24
sys/arch/amiga/conf/INSTALL			regenerate
sys/arch/amiga/conf/MDINSTALL			1.17
sys/arch/amiga/conf/WSCONS			regenerate
sys/arch/arc/conf/ARCTIC			1.27
sys/arch/arc/conf/GENERIC			1.104
sys/arch/arc/conf/M403				1.25
sys/arch/arc/conf/MIMORI			1.27
sys/arch/arc/conf/PCCONS			1.35
sys/arch/arc/conf/PICA				1.40
sys/arch/arc/conf/RAMDISK			1.48
sys/arch/arc/conf/RPC44				1.7
sys/arch/atari/conf/ATARITT			regenerate
sys/arch/atari/conf/BOOT			regenerate
sys/arch/atari/conf/BOOTX			regenerate
sys/arch/atari/conf/FALCON			regenerate
sys/arch/atari/conf/GENERIC.in			1.39
sys/arch/atari/conf/HADES			regenerate
sys/arch/atari/conf/MILAN-ISAIDE		regenerate
sys/arch/atari/conf/MILAN-PCIIDE		regenerate
sys/arch/bebox/conf/GENERIC			1.74
sys/arch/bebox/conf/INSTALL			1.27
sys/arch/cats/conf/GENERIC			1.67
sys/arch/cats/conf/INSTALL			1.38
sys/arch/cesfic/conf/GENERIC			1.26
sys/arch/cobalt/conf/GENERIC			1.61
sys/arch/dreamcast/conf/GENERIC			1.44
sys/arch/evbarm/conf/ADI_BRH			1.19
sys/arch/evbarm/conf/INTEGRATOR			1.26
sys/arch/evbarm/conf/IQ31244			1.15
sys/arch/evbarm/conf/IQ80310			1.37
sys/arch/evbarm/conf/IQ80321			1.32
sys/arch/evbarm/conf/IXDP425			1.5
sys/arch/evbarm/conf/IXM1200			1.8
sys/arch/evbarm/conf/NAPPI			1.10
sys/arch/evbarm/conf/SMDK2410			1.9
sys/arch/evbarm/conf/SMDK2800			1.14
sys/arch/evbarm/conf/TEAMASA_NPWR		1.34
sys/arch/evbarm/conf/TEAMASA_NPWR_FC		1.2
sys/arch/evbarm/conf/ZAO425			1.13
sys/arch/evbmips/conf/MALTA			1.20
sys/arch/evbppc/conf/EV64260			1.13
sys/arch/evbppc/conf/EXPLORA451			1.5
sys/arch/evbppc/conf/OPENBLOCKS266		1.9
sys/arch/evbppc/conf/WALNUT			1.12
sys/arch/evbsh3/conf/COMPUTEX7750		1.21
sys/arch/evbsh3/conf/COMPUTEXEVB		1.23
sys/arch/evbsh3/conf/CQREEKSH3			1.24
sys/arch/evbsh3/conf/KZSH401			1.21
sys/arch/evbsh5/conf/CAYMAN			1.14
sys/arch/evbsh5/conf/SIMULATOR			1.9
sys/arch/hp300/conf/GENERIC			1.103
sys/arch/hp300/conf/INSTALL			1.15
sys/arch/hp700/conf/GENERIC			1.27
sys/arch/hp700/conf/SMALL			1.3
sys/arch/hpcarm/conf/IPAQ			1.29
sys/arch/hpcarm/conf/JORNADA720			1.35
sys/arch/hpcmips/conf/GENERIC			1.153
sys/arch/hpcmips/conf/LCARD			1.3
sys/arch/hpcmips/conf/LROUTER			1.19
sys/arch/hpcmips/conf/MPC303			1.27
sys/arch/hpcmips/conf/NULLCONF			1.19
sys/arch/hpcmips/conf/TX3912			1.53
sys/arch/hpcmips/conf/TX3922			1.56
sys/arch/hpcmips/conf/VR41XX			1.19
sys/arch/hpcsh/conf/GENERIC			1.41 via patch
sys/arch/hpcsh/conf/HPW650PA			1.15
sys/arch/i386/conf/DELPHI			1.37 via patch
sys/arch/i386/conf/DISKLESS			1.98 via patch
sys/arch/i386/conf/GENERIC			1.622
sys/arch/i386/conf/GENERIC_LAPTOP		1.106 via patch
sys/arch/i386/conf/GENERIC_PS2TINY		1.30 via patch
sys/arch/i386/conf/GENERIC_TINY			1.69 via patch
sys/arch/i386/conf/INSTALL			1.244
sys/arch/i386/conf/INSTALL_LAPTOP		1.62
sys/arch/i386/conf/INSTALL_SMALL		1.106 via patch
sys/arch/i386/conf/INSTALL_TINY			1.80 via patch
sys/arch/i386/conf/IOPENER			1.46 via patch
sys/arch/i386/conf/LAMB				1.37
sys/arch/i386/conf/NET4501			1.26
sys/arch/i386/conf/SWINGER			1.50 via patch
sys/arch/i386/conf/VIRTUALPC			1.7
sys/arch/ibmnws/conf/GENERIC			1.8
sys/arch/luna68k/conf/GENERIC			1.48
sys/arch/mac68k/conf/GENERIC			1.147
sys/arch/mac68k/conf/GENERICSBC			1.32
sys/arch/mac68k/conf/INSTALL			1.28
sys/arch/mac68k/conf/INSTALLSBC			1.19
sys/arch/mac68k/conf/SMALLRAM			1.9
sys/arch/macppc/conf/GENERIC			1.180
sys/arch/macppc/conf/INSTALL			1.77
sys/arch/macppc/conf/POWERMAC			1.40
sys/arch/mipsco/conf/GENERIC			1.37
sys/arch/mipsco/conf/INSTALL			1.13
sys/arch/mipsco/conf/RC3230			1.16
sys/arch/mmeye/conf/GENERIC			1.58
sys/arch/mmeye/conf/MMEYE			1.23
sys/arch/mmeye/conf/MMTA			1.23
sys/arch/mmeye/conf/MMTAICE			1.24
sys/arch/mmeye/conf/MMTAROMNEW			1.24
sys/arch/mvme68k/conf/GENERIC			1.48
sys/arch/mvme68k/conf/RAMDISK			1.21
sys/arch/mvme68k/conf/VME147			1.44
sys/arch/mvme68k/conf/VME162			1.17
sys/arch/mvme68k/conf/VME167			1.21
sys/arch/mvme68k/conf/VME172			1.17
sys/arch/mvme68k/conf/VME177			1.17
sys/arch/mvmeppc/conf/MVME1600			1.11
sys/arch/netwinder/conf/GENERIC			1.51
sys/arch/news68k/conf/GENERIC			1.53
sys/arch/news68k/conf/GENERIC_TINY		1.27
sys/arch/news68k/conf/INSTALL			1.25
sys/arch/news68k/conf/LIBERO			1.23
sys/arch/news68k/conf/NEWS1200			1.23
sys/arch/newsmips/conf/DEJIKO			1.11
sys/arch/newsmips/conf/GENERIC			1.68
sys/arch/newsmips/conf/INSTALL			1.21
sys/arch/newsmips/conf/WAPIKO			1.23
sys/arch/next68k/conf/GENERIC			1.78
sys/arch/next68k/conf/SLAB			1.21
sys/arch/ofppc/conf/BRIQ			1.11
sys/arch/ofppc/conf/GENERIC			1.68
sys/arch/pc532/conf/BULLBOX			1.15
sys/arch/pc532/conf/DUMMY			1.22
sys/arch/pc532/conf/GENERIC			1.41
sys/arch/pc532/conf/INSTALL			1.32
sys/arch/pc532/conf/KLONDIKE			1.26
sys/arch/pc532/conf/SALMON			1.20
sys/arch/pc532/conf/STEELHEAD			1.35
sys/arch/pdp10/conf/GENERIC			1.6
sys/arch/playstation2/conf/AGATE		1.8
sys/arch/playstation2/conf/DEBUG		1.11
sys/arch/playstation2/conf/GENERIC		1.6
sys/arch/playstation2/conf/RAMDISK		1.9
sys/arch/pmax/conf/GENERIC			1.120
sys/arch/pmax/conf/INSTALL			1.53
sys/arch/pmax/conf/WSCONS			1.5
sys/arch/pmppc/conf/INSTALL			1.11
sys/arch/pmppc/conf/PMPPC			1.18
sys/arch/prep/conf/GENERIC			1.81
sys/arch/prep/conf/INSTALL			1.28
sys/arch/prep/conf/NATSUMI			1.26
sys/arch/sandpoint/conf/GENERIC.sandpoint	1.16
sys/arch/sbmips/conf/GENERIC			1.29
sys/arch/sgimips/conf/GENERIC32_IP2x		1.19
sys/arch/sgimips/conf/GENERIC32_IP3x		1.13
sys/arch/shark/conf/GENERIC			1.32
sys/arch/shark/conf/INSTALL			1.14
sys/arch/shark/conf/OFWGENCFG			1.12
sys/arch/sparc/conf/BILL-THE-CAT		1.25
sys/arch/sparc/conf/GENERIC			1.161 via patch
sys/arch/sparc/conf/INSTALL			1.42
sys/arch/sparc/conf/KRUPS			1.22
sys/arch/sparc/conf/MRCOFFEE			1.3
sys/arch/sparc/conf/TADPOLE3GX			1.20
sys/arch/sparc64/conf/GENERIC32			1.85
sys/arch/sparc64/conf/NONPLUS			1.41
sys/arch/sparc64/conf/POWEROFSEVEN.inc		1.25
sys/arch/sparc64/conf/SPLODE			1.24
sys/arch/sun2/conf/DISKLESS			1.17
sys/arch/sun2/conf/FOURMEG			1.18
sys/arch/sun2/conf/GENERIC			1.32
sys/arch/sun2/conf/INSTALL			1.17
sys/arch/sun2/conf/RAMDISK			1.18
sys/arch/sun2/conf/VME				1.10
sys/arch/sun3/conf/DISKLESS			1.43
sys/arch/sun3/conf/DISKLESS3X			1.30
sys/arch/sun3/conf/FOUR_TTYS			1.36
sys/arch/sun3/conf/GENERIC			1.107
sys/arch/sun3/conf/GENERIC3X			1.64
sys/arch/sun3/conf/INSTALL			1.23
sys/arch/sun3/conf/INSTALL3X			1.22
sys/arch/sun3/conf/KGDB				1.36
sys/arch/sun3/conf/KGDB3X			1.38
sys/arch/sun3/conf/RAMDISK			1.37
sys/arch/sun3/conf/RAMDISK3X			1.24
sys/arch/vax/conf/GENERIC			1.124
sys/arch/vax/conf/INSTALL			1.32
sys/arch/x68k/conf/GENERIC			1.99
sys/arch/x68k/conf/INSTALL			1.58
sys/arch/xen/conf/GENERIC			1.14
sys/arch/xen/conf/XEN				1.11

	Add "options SYSCTL_INCLUDE_DESCR" to a lot of configurations,
	but commented out in most of them.
	[atatat, ticket #663]

include/math.h					1.38 via patch
lib/libm/Makefile				1.64
lib/libm/shlib_version				patch
lib/libm/man/round.3				1.1-1.3 (new)
lib/libm/src/s_round.c				1.1 (new)
lib/libm/src/s_roundf.c				1.1 (new)
distrib/sets/lists/comp/mi			1.713
distrib/sets/lists/base/shl.mi			patch

	Add C99 functions round(3) and roundf(3).
	Bump the teeny version number for libm.
	[junyoung, ticket #664]

sys/dev/pci/if_wm.c				1.73

	The Intel i82547EI gigabit Ethernet controller isn't really
	a PCI device.  So instead of trying to find and print the
	PCI bus properties mark it as a CSA device.
	[tron, ticket #665]

include/math.h					1.39 via patch

	Move round() and roundf() to the C99 section, thereby fixing
	a namespace issue.
	[junyoung, ticket #666]

tools/gcc/mknative-gcc				1.13
gnu/dist/gcc/gcc/config/sh/t-netbsd		1.2
gnu/lib/libgcc3/arch/alpha.mk			1.4
gnu/lib/libgcc3/arch/arm.mk			1.4
gnu/lib/libgcc3/arch/armeb.mk			1.6
gnu/lib/libgcc3/arch/hppa.mk			1.5
gnu/lib/libgcc3/arch/i386.mk			1.4
gnu/lib/libgcc3/arch/m68000.mk			1.4
gnu/lib/libgcc3/arch/m68k.mk			1.4
gnu/lib/libgcc3/arch/mipseb.mk			1.4
gnu/lib/libgcc3/arch/mipsel.mk			1.4
gnu/lib/libgcc3/arch/ns32k.mk			1.4
gnu/lib/libgcc3/arch/powerpc.mk			1.4
gnu/lib/libgcc3/arch/sh3eb.mk			1.3
gnu/lib/libgcc3/arch/sh3el.mk			1.4
gnu/lib/libgcc3/arch/sh5el.mk			1.4
gnu/lib/libgcc3/arch/sparc.mk			1.4
gnu/lib/libgcc3/arch/sparc64.mk			1.4
gnu/lib/libgcc3/arch/x86_64.mk			1.4
gnu/lib/libgcc3/libgcc_s/Makefile		1.7
gnu/dist/gcc/gcc/config/sh/libgcc-std.ver	1.1 (new)
gnu/dist/gcc/gcc/gcc.c				1.9

	Do the same thing as stock gcc, by using the symbol
	versioning script to remove certain symbols from the
	dynamic symbol table, and pull in libgcc_pic in the
	-shared-libgcc case for the millicode platforms.
	Fixes PR#22452.
	[skrll, ticket #668]

gnu/usr.bin/groff/tmac/mdoc.local		1.14-1.15 via patch

	Add .Nx support for NetBSD-2.1 and NetBSD-3.0.
	[wiz, ticket #669]

sys/dev/pci/if_wm.c				1.74

	Reduce transmit queue length to 16 for the Intel i82547 to
	avoid FIFO overruns.  This fixes the horrible performance
	problems reported in PR#23782.
	[tron, ticket #670]

sys/arch/xen/xen/clock.c			1.6

	Set the system clock (via Xen) in resettodr(), if we are
	running in domain 0, to improve timekeeping.
	[tls, ticket #671]

sys/arch/alpha/alpha/syscall.c			1.15
sys/arch/alpha/alpha/trap.c			1.94

	Update uvmexp's traps and syscalls.
	[petrov, ticket #672]

libexec/ld.elf_so/reloc.c			1.84

	Don't print relocated content (in DEBUG mode), as it can
	cause misaligned accesses.  Fixes PR#20907.
	[petrov, ticket #673]

sys/netipsec/ipsec_netbsd.c			1.11
sys/netipsec/ipsec_var.h			1.2
usr.bin/netstat/fast_ipsec.c			1.6

	Rework ipsec_netbsd.c to present a more consistent tree.
	Rework netstat to find the stats nodes under the new names.
	Fixes PR#25526.
	[atatat, ticket #674]

sys/compat/pecoff/pecoff_exec.c			1.25
sys/compat/pecoff/pecoff_exec.h			1.7

	Pass the whole of pecoff_opthdr, not only pecoff_imghdr.
	[kent, ticket #675]

lib/libc/dlfcn/dlfcn_elf.c			1.5
libexec/ld.elf_so/rtld.c			1.106
libexec/ld.elf_so/symbol.c			1.36

	Make i18n dynamic modules work.
	[thorpej, ticket #676]

sys/arch/mipsco/stand/Makefile.booters		1.10

	Include bsd.own.mk so this builds again.
	[chs, ticket #677]

usr.bin/gzip/gzip.c				1.52-1.62

	Fix various bugs in "gzip" including PRs 26234, 26233, 26240, 26251,
	26241 and 26246.
	[mrg, ticket #678]

lib/libm/arch/i387/s_ceilf.S			1.8
lib/libm/arch/i387/s_floorf.S			1.7

	amd64: stack sanity, leave the return PC alone
	[drochner, ticket #679]

distrib/notes/sgimips/hardware			1.8-1.9
doc/CHANGES					1.301 via patch
sys/arch/sgimips/conf/files.sgimips		1.38
sys/arch/sgimips/dev/int.c			1.7
sys/arch/sgimips/dev/pic.c			1.4-1.7
sys/arch/sgimips/dev/picreg.h			1.2
sys/arch/sgimips/dev/zs.c			1.23
sys/arch/sgimips/hpc/hpc.c			1.27-1.28
sys/arch/sgimips/sgimips/arcemu.c		1.1-1.5
sys/arch/sgimips/sgimips/arcemu.h		1.1
sys/arch/sgimips/sgimips/clock.c		1.13
sys/arch/sgimips/sgimips/console.c		1.23-1.26
sys/arch/sgimips/sgimips/machdep.c		1.83-1.85
sys/dev/arcbios/arcbios.h			1.5
sys/dev/arcbios/arcbiosvar.h			1.4

	Add Indigo IP12 support.
	[rumble, ticket #682]

doc/CHANGES					patch
gnu/dist/cvs/doc/ChangeLog			patch
gnu/dist/cvs/doc/cvs.1				patch
gnu/dist/cvs/doc/cvs.texinfo			patch
gnu/dist/cvs/doc/stamp-1			patch
gnu/dist/cvs/doc/stamp-vti			patch
gnu/dist/cvs/doc/version-client.texi		patch
gnu/dist/cvs/doc/version.texi			patch
gnu/dist/cvs/lib/ChangeLog			patch
gnu/dist/cvs/lib/Makefile.am			patch
gnu/dist/cvs/lib/Makefile.in			patch
gnu/dist/cvs/lib/xsize.h			new file
gnu/dist/cvs/src/ChangeLog			patch
gnu/dist/cvs/src/commit.c			patch
gnu/dist/cvs/src/cvs.h				patch
gnu/dist/cvs/src/filesubr.c			patch
gnu/dist/cvs/src/history.c			patch
gnu/dist/cvs/src/sanity.sh			patch
gnu/dist/cvs/src/server.c			patch
gnu/dist/cvs/src/subr.c				patch
gnu/dist/cvs/src/wrapper.c			patch
gnu/dist/cvs/ChangeLog				patch
gnu/dist/cvs/NEWS				patch
gnu/dist/cvs/acinclude.m4			patch
gnu/dist/cvs/aclocal.m4				patch
gnu/dist/cvs/config.h.in			patch
gnu/dist/cvs/configure.in			patch
gnu/dist/cvs/configure				patch
gnu/usr.bin/cvs/include/config.h		patch

	Update cvs to version 1.1.17.
	[taca, ticket #681]

libexec/ld.aout_so/ld.so.sparc.uue		1.3

	Make a.out emulation work again on NetBSD-sparc 2.0.
	[pk, ticket #683]

share/man/man4/pciide.4				1.57

	Mention geodeide(4). Bump date.
	[bouyer, ticket #684]

etc/rc.d/sendmail				1.18

	Add one more check to the sendmail auto-start heuristic: check the
	value of MTAHost in the submit.cf.  If it doesn't indicate localhost,
	we probably don't need the sendmail listener.
	Addresses PR bin/26391.
	[atatat, ticket #685]

etc/mailer.conf					1.10
share/man/man5/rc.conf.5			1.92
share/man/man8/afterboot.8			1.13
usr.sbin/mailwrapper/mailer.conf.5		1.13

	More better description of current state of sendmail stuff in more
	places. This is intended to make some people a tad happier.
	[atatat, ticket #686]

UPDATING					1.125 via patch

	Note the sendmail auto-start change, add a note about the ath
	reworking, and fix a little spacing and unnecessary abbreviation.
	[atatat, ticket #687]

doc/CHANGES					1.330

	Note addition of strcasestr(3).
	[junyoung, ticket #703]

sys/dev/ata/wd.c				1.278

	Fix an extremely obvious bug in the handling of the bad block list:
	the "max" block was being set 512x further out than it should be,
	causing rather severe escalation of the error.
	[mycroft, ticket #704]

doc/CHANGES					1.332

	Note addition of round(3) and roundf(3).
	[junyoung, ticket #705]

sys/dev/usb/ohci.c				1.151
sys/dev/usb/ohcivar.h				1.33
sys/dev/usb/usbdi.c				1.104

	Avoid touching the xfer after calling usb_transfer_complete(), as the
	driver callback may have recycled it.
	ugen_isoc_rintr() may recycle the xfer immediately. Therefore, we avoid
	touching the xfer after calling the callback in
	usb_transfer_complete().
	From PR 25960.
	[mycroft, ticket #688]

sys/kern/sys_pipe.c				1.58

	PRIBIO -> PSOCK. This emulates the pre-sys_pipe behavior, and avoids 
	including processes blocked on pipe I/O in the load average.
	[mycroft, ticket #689]

usr.bin/audio/common/auconv.h			1.3
usr.bin/audio/record/record.c			1.37-1.38

	Fix fencepost errors in the conversion functions (making them a bit
	more like the kernel versions).
	Convert 8-bit signed linear data to unsigned for .wav files.
	[mycroft, ticket #690]

sys/dev/pci/pcidevs				1.633
sys/dev/pci/pcidevs_data.h			regenerate
sys/dev/pci/pcidevs.h				regenerate
sys/dev/pci/siside.c				1.7

	Add support for SiS 741.  Fixes PR#26394.
	[mycroft, ticket #691]

sys/dev/cardbus/if_ex_cardbus.c			1.31-1.32
sys/dev/cardbus/com_cardbus.c			1.12
sys/dev/cardbus/cardbusdevs			1.28
sys/dev/cardbus/cardbusdevs_data.h		regenerate
sys/dev/cardbus/cardbusdevs.h			regenerate

	Add entries for the 3c656 line.  Fixes PR#22880.  Add 3c656
	modem IDs, and support modem portion.  Fixes PR#23710
	[mycroft, ticket #691]

sys/dev/cardbus/cardbus.c			1.50

	If the CIS pointer is all-0s, don't try to read the CIS.
	[mycroft, ticket #692]

sys/dev/pci/pccbb.c				1.98
sys/dev/pci/pccbbvar.h				1.21

	If the bus number has not been initialized, do not attach
	a cardslot, and instead output a diagnostic pointing the
	administrator towards the PCIBIOS_BUS_FIXUP option.
	[mycroft, ticket #692]

sys/dev/ic/ath.c				1.28

	Support promiscuous mode for an AP too(!).
	[mycroft, ticket #693]

sys/arch/i386/i386/machdep.c			1.556

	Use pmap_kenter_pa() to map pages to dump, not pmap_enter(),
	so that it is more resistant to VM lossage.
	[mycroft, ticket #694]

usr.sbin/pppd/pppd/Makefile			1.32

	It is not needed to leave the executable unstripped to load
	modules, so save some space instead.
	[mycroft, ticket #695]

sys/dev/isa/if_ix.c				1.18

	Allow a board with no memory window configured to be
	attached.  Fixes PR#20436.
	[mycroft, ticket #696]

sys/net/if_vlan.c				1.41

	If the parent interface is not IFF_RUNNING, do not call
	its start function.  This prevents a variety of panics,
	and therefore fixes PR#12932, PR#17561, and PR#18376.
	[mycroft, ticket #697]

sys/dev/pci/if_ste.c				1.18

	Program the "MaxFrameSize" register so that it is correct
	for VLAN encapsulation.  Fixes PR#20195.
	[mycroft, ticket #698]

sys/dev/audio.c					1.183

	If we are short-circuiting audiostartp() because there is
	not enough data present, do an extra wakeup() on the write
	channel.  This happens when we change parameters during
	playback, at which point we flush the buffer and would
	stall.
	[mycroft, ticket #699]

sys/dev/ic/wi.c					1.162-1.181
sys/dev/ic/wivar.h				1.44-1.49
sys/net80211/ieee80211.c			1.23 via patch

	Many bug fixes and performance fixes for the wi(4) driver,
	as well as changes paving the way for further performance
	improvements.
	[mycroft, tickets #700, #701]

sys/arch/i386/conf/GENERIC			1.623
sys/arch/i386/conf/GENERIC_LAPTOP		1.107
sys/arch/i386/conf/INSTALL			1.245
sys/arch/i386/conf/INSTALL_LAPTOP		1.63

	Enable ehci(4) by default.
	[tron, ticket #702]

sys/kern/vfs_cache.c				1.57

	Concurrent lookups in the same directory may race for a
	cache entry.  Handle this, and upon detection free the
	tentative entry and return.  Fixes PR#26400.
	[hannken, ticket #706]

etc/etc.i386/Makefile.inc			1.39

	Allow the user to specify which file system image to use as the
	boot image of the CD-ROM via the CDROM_BOOT_IMAGE variable.  The
	user may want to create a bootable image with bootlap-big.fs which
	uses the INSTALL_LAPTOP kernel configuration instead of the default
	boot-big.fs image which uses the INSTALL kernel configuration.
	[he, ticket #707]

sys/arch/i386/conf/INSTALL_LAPTOP		1.64

	Add an attachment for ath* at pci, since some laptops have mini-PCI
	atheros wireless hardware, such as IBM TP41p and TP40p.
	[he, ticket #708]

xfree/xc/programs/Xserver/hw/xfree86/input/mouse/mouse.c	1.4
xfree/xc/programs/Xserver/hw/xfree86/os-support/bsd/bsd_mouse.c	1.8
xfree/xc/programs/Xserver/hw/xfree86/os-support/xf86OSmouse.h	1.2

	Stop XFree86 from losing mouse events on LP64 platforms.
	[heas, ticket #709]

xfree/xc/programs/Xserver/hw/xfree86/input/mouse/mouse.c 1.3

	Get rid of the "disable emulate3Buttons on first middle button press"
	wholesale. It does not make sense at all since we multiplex multiple
	mice into one wsmouse device and this logic would need to distinguish
	the pre-multiplexed devices.
	Fixes PR#26188.
	[martin, ticket #710]

sys/arch/sparc64/sparc64/locore.s		1.198

	Change interrupt pending list end value to -1, to avoid linking an
	interrupt handler twice.
	[nakayama, ticket #711]

tools/compat/configure				1.46
tools/compat/configure.ac			1.45
tools/compat/nbtool_config.h.in			1.5

	Remove HAVE_STRUCT_STATFS_F_IOSIZE.
	This is not currently being used and should be replaced with
	HAVE_STRUCT_STATVFS_F_IOSIZE, but that will be done separately.
	Fixes PR toolchain/26415.
	[dbj, ticket #712]

etc/postinstall					1.78

	Add a: to the getopt string so that the -a option is actually 
	recognized.
	[thorpej, ticket #713]

lib/libpthread/pthread_stack.c			1.15

	In pthread__initmain(), don't reuse the part of the initial stack that
	is occupied by the argv and environment (and MD stuff like the
	page-table mapping on x86). Fixes PR 26392.
	[chs, ticket #714]

sys/compat/linux/arch/powerpc/files.linux_powerpc	1.5
sys/compat/linux/arch/powerpc/linux_exec.h		1.18
sys/compat/linux/arch/powerpc/linux_exec_powerpc.c	1.15
sys/compat/linux/arch/powerpc/linux_sp_wrap_powerpc.S	delete

	Remove the LINUX_SP_WRAP hack since it doesn't seem to be needed
	anymore, and removing it lets us go back to mapping the stack
	non-executable again.
	[chs, ticket #715]

lib/libcurses/cr_put.c				1.23
lib/libcurses/setterm.c				1.39

	Remove _cursesi_genbuf, it was not being set and caused a SIGSEGV
	in getcap().  Fixed getcap() to use screen->cursesi_genbuf.
	Thanks to Peter Bex for spotting this.  This closes pr lib/26404.
	[blymn, ticket #716]

sys/dev/usb/uplcom.c				1.35,1.37-1.38
sys/dev/usb/usbdevs				1.376
sys/dev/usb/usbdevs.h				regen
sys/dev/usb/usbdevs_data.h			regen

	Fix various bugs including PR kern/21043 and add support for
	Sitecom USB to serial cable taken from PR kern/25510.
	[dbj, ticket #717]

sys/dev/pci/geodeide.c				1.2
sys/dev/pci/pcidevs				1.635
sys/dev/pci/pcidevs.h				regen
sys/dev/pci/pcidevs_data.h			regen
sys/dev/pci/pciide_geode_reg.h			1.2

	Add support for the controller found on the AMD (previously
	NatSemi) Geode SC1100 controller (as found on the Soekris
	NET4801). The chip has two bugs: the first requires dword
	alignment, and the second cannot handle exact 64K transfers.
	[rumble, ticket #718]

sys/dev/pci/if_ti.c				1.61
sys/dev/pci/if_tireg.h				1.14

	Make the SSLOTS, MSLOTS and JSLOTS tunable (redefineable).
	Bump the default values for these to the values used by FreeBSD,
	and also adjust ti_init_rx_ring_jumbo() to use the same constant
	that FreeBSD uses. Yes, this consumes more kernel memory.
	The effect of this is that you can use jumbo frames in a back-to-back
	setup with TCP windows up to about 250KB and get ~930Mbit/s throughput,
	while we were earlier limited to around 3-400Mbit/s, and trying to push
	above that mark by widening the TCP window caused
	  ti0: jumbo buffer allocation failed
	messages to be logged and a corresponding stall in the traffic.
	[he, ticket #719]

sys/kern/init_sysctl.c				1.31

	The message buffer datum instrumented by KERN_MSGBUFSIZE is actually a
	long, not an int, and this causes "problems" on LP64be machines
	(sparc64, etc). Assign the value to a temporary int and instrument
	that instead.  Should be fine until someone wants a message buffer
	larger than two gigabytes.
	[atatat, ticket #720]

sys/dev/pci/pcidevs				1.624
sys/dev/pci/pcidevs.h				regen
sys/dev/pci/pcidevs_data.h			regen
sys/dev/pci/piixide.c				1.9

	Add support for i6300ESB IDE / SATA controllers.
	[joda, ticket #721]

sys/dev/ld.c					1.28
sys/dev/ldvar.h					1.8
sys/ufs/ufs/ufs_bmap.c				1.30 via patch
sys/ufs/ufs/ufs_vnops.c				1.117

	Avoid corruption in filesystems and ld disks over 1TB.
	[dbj, ticket #722]

bin/ps/keyword.c				1.41

	For the "lid" keyword, change ULONG to INT32 since it's a 32bit type.
	From Nicolas Joly in PR bin/26452.
	[simonb, ticket #723]

sys/dev/pci/pccbb.c				1.99

	Add entries for TI CardBus bridges 1520 and 4520Yenta, as found in
	IBM ThinkPad 40p and 41p respectively, so that the CardBus probes and
	works on those machines. PR#26380.
	[he, ticket #724]

etc/Makefile					patch

	Now that one can choose boot image for i386 to produce a slightly
	different cd-rom image (e.g. using the INSTALL_LAPTOP-derived boot
	image), make it possible to add a string to the cd-rom image name
	by setting the optional environment variable CDROM_NAME_ADD.
	[he, ticket #725]

sys/arch/mac68k/mac68k/fpu.c			1.31
sys/arch/mac68k/mac68k/machdep.c		1.299

	We can't generate an FPU idle frame until we know which one
	we have, so defer this until we've probed the FPU type.
	[scottr, ticket #728]


sys/net80211/ieee80211_input.c			patch
sys/net80211/ieee80211_node.c			patch
sys/net80211/ieee80211_node.h			patch

	Fix a problem with APs advertising multiple SSIDs by
	allocating multiple nodes for the same AP when the announced
	SSID differs.  Fixes PR#26377.
	[he, ticket #729]

gnu/dist/binutils/bfd/elflink.h			1.3-1.4

	Add a check for a non-null owner before dereferencing it. Fixes ld 
	core-dumps related to lkms.
	[cube, ticket #730]

UPDATING					patch

	Describe the sysctl failure case.
	[martin, ticket #726]

gnu/dist/gcc/libstdc++-v3/include/c_std/std_cmath.h	1.2

	Don't undefine some macros which are only redefined if _GLIBCPP_USE_C99
	is defined - this causes that nothing usable is left unless we implement
	enough of C99. PR#25930
	[dmcmahill, ticket #731]

sys/netinet/ip_icmp.c				1.85-1.87

	icmp_reflect: check if m_pkthdr.rcvif is non-NULL before touching it. 
	icmp_reflect could be called from the output path, so m_pkthdr.rcvif 
	may not be set.  (found by panic when PF is configured 
	"block return all")
	[christos, ticket #732]

sbin/dmesg/dmesg.8				1.15-1.16

	Expand description of the system message buffer, and cross-reference
	MSGBUFSIZE in options(4).  Bump date and some minor cleanup.
	Part of fix for PR#26439.
	[briggs, ticket #727]

lib/libc/rpc/getrpcent.c			1.19

	Fix a long standing bug in getrpcbyname() where it would not find 
	any matches when an alias was used. PR#23294
	[ginsbach, ticket #737]

sys/dev/scsipi/atapi_wdc.c			1.71
sys/dev/ic/wdc.c				1.182
sys/dev/ata/wd.c				1.281
sys/dev/ata/atavar.h				1.44
sys/dev/ata/ata_wdc.c				1.58

	Implement asynchronous channel reset.
	Use this to reset the channel before doing a dump, instead of the hack 
	in wdc_exec_xfer() based on C_POLL. This hack was causing problems on
	controllers with a shared queue, because we now can have C_POLL set 
	during concurent channels probes
	[bouyer, ticket #733]

sys/dev/pci/pciide_common.c			1.13
sys/dev/pci/hptide.c				1.10
sys/dev/pci/cypide.c				1.8

	Don't map the interrupt in pciide_mapregs_compat().
	In default_chip_map() we'll do further checks to see if the channel 
	should really be enabled, and in case it's not we would keep the 
	interrupt mapped.  PR#26502
	[bouyer, ticket #734]

sys/dev/ata/wd.c				1.282-1.283

	Move cleaning of the bad block list in wddetach() after the call to
	disk_detach(), to avoid a race condition with the interrupt code.
	wddetach(): move lockmgr(LK_DRAIN) near the end; otherwise we'll panic 
	in wddone() (vdevgone() may end up calling it) trying to get the lock.
	wdopen(): check for DVF_ACTIVE.

	[bouyer, ticket #735]

gnu/lib/libgcc3/libgcc_s/Makefile		1.8

	Look for libgcc.map in ${.OBJDIR}. PR#26515
	[skrll, ticket #736]

usr.sbin/racoon/racoon/Makefile			1.21
doc/HACKS					1.37-1.38

	Add -fno-strict-aliasing to CFLAGS to avoid gcc warning
	"dereferencing type-punned pointer will break strict-aliasing rules"
	which occurs when compiling crypto_openssl.c with -O[23s].
	[junyoung, ticket #738]

usr.sbin/pkg_install/info/perform.c		1.53

	pkg_info will not DTRT when applied to a binary package that doesn't
	have all the files from ALL_FNAMES -- meta pkgs don't have +MTREE-files,
	and as such it's impossible to retrieve _any_ information on them.
	The fix is to only extract those +-files that are needed (as determined
	by the command line options)
	[hubertf, ticket #739]

sys/compat/linux/common/linux_misc.c		1.126

	Linux returns ENOMEM (not EFAULT) if the address specified in mprotect()
	is not part of process address space.
	[jdolecek, ticket #740]

sys/kern/kern_fork.c				1.118

	Linux enforces CLONE_VM if CLONE_SIGHAND in clone(2) is specified,
	follow the suit - this is intended to be Linux-compatible call.
	[jdolecek, ticket #741]

sys/arch/i386/i386/identcpu.c			1.16
sys/arch/x86/x86/cacheinfo.c			1.5
sys/arch/x86/include/cacheinfo.h		1.2

	Enable VIA C3 CPU support
	[briggs, ticket #742]

sys/kern/kern_fork.c				1.116

	When stopfork is set, we need to set p_nrlwps, since we are not going to
	be running. PR#26468
	[atatat, ticket #744]

share/mk/bsd.x11.mk				1.41
x11/Xserver/Makefile.serverlib			1.5-1.8
x11/Xserver/hw/xfree86/Makefile.drivermod	1.4
x11/Xserver/hw/xfree86/drivers/Makefile		1.8
x11/Xserver/hw/xfree86/input/Makefile		1.3
distrib/sets/lists/xserver/md.sgimips		1.6
xfree/xc/programs/Xserver/hw/xfree86/loader/loadmod.c		1.2

	Enable loadable module support for the sgimips X server
	[sekiya, ticket #745]

sys/arch/sgimips/mace/if_mec_mace.c		1.5

	- It turns out alignment restriction for TX descs is 8kbytes, not 
	  64kbytes.
	- Use MEC_TX_ALIAS register to set/clear TX interrupt enable bit.
	[tsutsui, ticket #746]

sys/dev/ic/mb89352.c				1.27

	On manual transfer via TEMP register, data should be read before 
	asserting ACK.
	[tsutsui, ticket #747]

distrib/notes/vax/hardware			1.9

	Updates of supported hardware
	[ragge, ticket #748]

lib/libpthread/pthread_rwlock.c			1.8

	pthread_rwlock_timedwrlock: return ETIMEDOUT appropriately.
	[yamt, ticket #749]

sys/dev/mii/ukphy_subr.c			patch

	If the PHY has 1000BASE-T capability, check to see if a 1000BASE-T speed
	was negotiated, and check if we ended up mastering the clock if so.
	[toshii, ticket #743]

lib/libpthread/pthread_rwlock.c			1.9

	pthread_rwlock_timedrdlock/pthread_rwlock_timedwrlock:
	fix lock/unlock inversions in ERRORCHECK.
	[yamt, ticket #751]

lib/libc/stdlib/Makefile.inc			1.57

	Actually add _Exit.
	[yamt, ticket #750]

etc/rc.d/sendmail				1.19

	Switch the check to see if the corresponding db file needs to be
	rebuilt from "newer than" to "not older than".  The latter check also
	manages to take into account cases where the db file doesnt yet exist.
	[atatat, ticket #753]

bin/pax/file_subs.c				1.48-1.50

	Fixes for pax breaking on some archives
	[cube, ticket #754]

sys/dev/ic/ac97.c				1.54-1.58

	Support for some AC'97 codecs
	[kent, ticket #758]

libexec/ftpd/ftpcmd.y				1.78

	Fix minor memory leak with fromname.
	[lukem, ticket #755]

libexec/ftpd/ftpcmd.y				1.79

	Correctly clamp illegal "SITE CHMOD" mode values.
	[lukem, ticket #756]

libexec/ftpd/cmds.c				1.23
libexec/ftpd/conf.c				1.52
libexec/ftpd/extern.h				1.50
libexec/ftpd/ftpcmd.y				1.80
libexec/ftpd/ftpd.c				1.158
libexec/ftpd/logutmp.c				1.8
libexec/ftpd/logwtmp.c				1.22
libexec/ftpd/popen.c				1.30
libexec/ftpd/version.h				1.57

	* Fix yacc parser error recovery so that setjmp(3)/longjmp(3) is 
	  unnecessary.
	* Fix SIGURG handler to set an urgflag that's later tested, rather than
	  abusing setjmp(3)/longjmp(3).
	* Use "volatile sig_atomic_t" as the type of variables modified by sig 
	  handlers.
	* Use sigaction(3) instead of signal(3) to set the signal handlers.
	* Only set the main SIGALRM handler once.  If we need to change it,
	  cache the old handler and restore appropriately...
	* Remove a bunch of signal races by improving the signal handlers.
	* Fix memory leak with 'ESPV ALL'.
	* Clean up the debug message in reply(); use vsnprintf(3) instead of 
	  vsyslog(3).
	* Rework parsing of OOB commands to _not_ use the yacc parser, since 
	  the latter isn't reentrant and the hacks to work around that are ugly.
	  We now examine urgflag at appropriate locations and call 
	  handleoobcmd() if it's set.  Since the only OOB commands we currently
	  implement are ABOR and STAT, this isn't an issue.
	SA#2004-009
	[lukem, ticket #757]

sys/netinet/Makefile				1.7
sys/netinet/fil.c				1.67
sys/netinet/files.ipfilter			1.4
sys/netinet/ip_compat.h				1.39
sys/netinet/ip_fil.h				1.56
sys/netinet/ip_fil_netbsd.c			1.12-1.14
sys/netinet/ip_ftp_pxy.c			1.28
sys/netinet/ip_h323_pxy.c			1.10
sys/netinet/ip_ipsec_pxy.c			1.4
sys/netinet/ip_irc_pxy.c			1.1.1.2
sys/netinet/ip_log.c				1.25
sys/netinet/ip_lookup.c				1.3
sys/netinet/ip_nat.c				1.61-1.62
sys/netinet/ip_nat.h				1.33-1.34
sys/netinet/ip_pool.c				1.3-1.4
sys/netinet/ip_pptp_pxy.c			1.1.1.2
sys/netinet/ip_proxy.c				1.38
sys/netinet/ip_raudio_pxy.c			1.10
sys/netinet/ip_rcmd_pxy.c			1.11
sys/netinet/ip_rpcb_pxy.c			1.1.1.2
sys/netinet/ip_state.c				1.46
sys/netinet/ip_state.h				1.25
dist/ipf/HISTORY				patch
dist/ipf/Makefile				patch
dist/ipf/ip_fil.c				patch
dist/ipf/ip_irc_pxy.c				patch
dist/ipf/ip_lookup.c				patch
dist/ipf/ip_pool.c				patch
dist/ipf/ip_pptp_pxy.c				patch
dist/ipf/ip_rpcb_pxy.c				patch
dist/ipf/ipf.h					patch
dist/ipf/ipf2netbsd				patch
dist/ipf/mlfk_ipl.c				patch
dist/ipf/mlfk_rule.c				patch
dist/ipf/etc/protocols				patch
dist/ipf/ipsend/iptests.c			patch
dist/ipf/ipsend/tcpip.h				patch
dist/ipf/lib/getport.c				patch
dist/ipf/lib/getportproto.c			patch
dist/ipf/lib/inet_addr.c			patch
dist/ipf/lib/kmem.c				patch
dist/ipf/lib/printactivenat.c			patch
dist/ipf/lib/printfr.c				patch
dist/ipf/lib/printnat.c				patch
dist/ipf/lib/var.c				patch
dist/ipf/man/ipf.8				patch
dist/ipf/man/ipfs.8				patch
dist/ipf/man/ipfstat.8				patch
dist/ipf/man/ipnat.5				patch
dist/ipf/man/ipnat.8				patch
dist/ipf/man/ippool.5				patch
dist/ipf/man/ippool.8				patch
dist/ipf/rules/ipmon.conf			patch
dist/ipf/samples/Makefile			patch
dist/ipf/samples/proxy.c			patch
dist/ipf/samples/relay.c			patch
dist/ipf/test/test.format			patch
dist/ipf/test/expected/i14			patch
dist/ipf/test/expected/ipv6.3			patch
dist/ipf/test/expected/n8			patch
dist/ipf/test/expected/n9			patch
dist/ipf/test/expected/ni6			patch
dist/ipf/test/input/ipv6.3			patch
dist/ipf/test/input/n8				patch
dist/ipf/test/input/n9				patch
dist/ipf/test/input/ni6				patch
dist/ipf/test/regress/i14			patch
dist/ipf/test/regress/ipv6.3			patch
dist/ipf/tools/Makefile				patch
dist/ipf/tools/ipf.c				patch
dist/ipf/tools/ipf_y.y				patch
dist/ipf/tools/ipfcomp.c			patch
dist/ipf/tools/ipfs.c				patch
dist/ipf/tools/ipfstat.c			patch
dist/ipf/tools/ipftest.c			patch
dist/ipf/tools/ipmon.c				patch
dist/ipf/tools/ipmon_y.y			patch
dist/ipf/tools/ipnat.c				patch
dist/ipf/tools/ipnat_y.y			patch
dist/ipf/tools/lexer.c				patch
dist/ipf/tools/lexer.h				patch
dist/ipf/ip_rules.c				deleted
dist/ipf/ip_rules.h				deleted
dist/ipf/samples/trans_relay.c			deleted
sys/netinet/ip_rules.c				deleted
sys/netinet/ip_rules.h				deleted
dist/ipf/test/README.TXT			1.1.1.1
dist/ipf/test/vfycksum.pl			1.1.1.1
dist/ipf/test/expected/n11			1.1.1.1
dist/ipf/test/expected/ni10			1.1.1.1
dist/ipf/test/expected/ni11			1.1.1.1
dist/ipf/test/expected/ni12			1.1.1.1
dist/ipf/test/expected/ni7			1.1.1.1
dist/ipf/test/expected/ni8			1.1.1.1
dist/ipf/test/expected/ni9			1.1.1.1
dist/ipf/test/input/n11				1.1.1.1
dist/ipf/test/input/ni10			1.1.1.1
dist/ipf/test/input/ni11			1.1.1.1
dist/ipf/test/input/ni12			1.1.1.1
dist/ipf/test/input/ni7				1.1.1.1
dist/ipf/test/input/ni8				1.1.1.1
dist/ipf/test/input/ni9				1.1.1.1
dist/ipf/test/regress/n11			1.1.1.1
dist/ipf/test/regress/ni10.ipf			1.1.1.1
dist/ipf/test/regress/ni10.nat			1.1.1.1
dist/ipf/test/regress/ni11.ipf			1.1.1.1
dist/ipf/test/regress/ni11.nat			1.1.1.1
dist/ipf/test/regress/ni12.ipf			1.1.1.1
dist/ipf/test/regress/ni12.nat			1.1.1.1
dist/ipf/test/regress/ni7.ipf			1.1.1.1
dist/ipf/test/regress/ni7.nat			1.1.1.1
dist/ipf/test/regress/ni8.ipf			1.1.1.1
dist/ipf/test/regress/ni8.nat			1.1.1.1
dist/ipf/test/regress/ni9.ipf			1.1.1.1
dist/ipf/test/regress/ni9.nat			1.1.1.1
sys/netinet/ipl.h				1.16
sys/netinet/ip_frag.h				1.20
sys/netinet/ip_auth.c				1.34
usr.sbin/ipf/ipftest/Makefile			1.28

	Bring up to ipf 4.1.3
	[christos, ticket #759]

sys/kern/exec_elf32.c				1.98

	Bump the number of allowed sections to 1024; e.g. SuSE 9.1 packaged
	Mozilla 1.6 has 726 sections
	[jdolecek, ticket #761]

sys/compat/darwin/darwin_exec.c			1.38
sys/compat/irix/irix_exec.c			1.38
sys/compat/linux/common/linux_emuldata.h	1.6
sys/compat/linux/common/linux_exec.c		1.71-1.72
sys/compat/linux/common/linux_misc.c		1.127
sys/compat/mach/mach_exec.c			1.54
sys/compat/mach/mach_exec.h			1.27
sys/kern/kern_fork.c				1.117
sys/sys/proc.h					1.193

	Fix emulation of Linux brk() syscall.
	[jdolecek, ticket #762]

sys/compat/linux/common/linux_file.c		1.63

	On Linux, unlink() fails with EISDIR if the target is directory,
	rather than EPERM; to emulate this properly, translate the error to
	EISDIR if the target patch exists and points to a directory
	[jdolecek, ticket #764]

regress/sys/kern/Makefile			1.25 via patch
regress/sys/kern/ipf/Makefile			1.7
regress/sys/kern/ipf/bpftest			1.2
regress/sys/kern/ipf/dotest			1.3
regress/sys/kern/ipf/dotest6			1.3
regress/sys/kern/ipf/expected/i12		1.2
regress/sys/kern/ipf/expected/in1		1.3
regress/sys/kern/ipf/expected/ni3		1.2
regress/sys/kern/ipf/expected/ni5		1.3
regress/sys/kern/ipf/hextest			1.3
regress/sys/kern/ipf/input/ipv6.1		1.2
regress/sys/kern/ipf/input/ni3			1.2
regress/sys/kern/ipf/intest			1.3
regress/sys/kern/ipf/iptest			1.2
regress/sys/kern/ipf/itest			1.3
regress/sys/kern/ipf/logtest			1.3
regress/sys/kern/ipf/mhtest			1.3
regress/sys/kern/ipf/mtest			1.3
regress/sys/kern/ipf/natipftest			1.3
regress/sys/kern/ipf/nattest			1.3
regress/sys/kern/ipf/ptest			1.2
regress/sys/kern/ipf/regress/i12		1.2
regress/sys/kern/ipf/regress/ipv6.1		1.2

	Upgraded regression tests for IPFilter to version 4.1.3.
	[martti, ticket #763]


distrib/sets/lists/comp/mi			1.719-1.720

	Fix the set lists after IPF 4.1.3
	[tron, ticket #765]

sys/netipsec/ipsec_netbsd.c			1.12

	Remove redundant instantiation of esp_net_deflev sysctl node. PR#26672
	[atatat, ticket #766]

sys/arch/i386/i386/autoconf.c			1.77
sys/arch/i386/i386/machdep.c			1.557
sys/arch/i386/stand/pxeboot/Makefile		1.7
sbin/fdisk/fdisk.c				1.81

	Add support to pxeboot for reading the bios disk geometry
	as well as fixing several related bugs that occur when the bios
	geometry is not read by the boot loader.
	[dbj, ticket #767]


lib/libpthread/pthread_stack.c			1.16 via patch

	Redo the fix for PR 26392 differently: instead of changing the stack
	bounds for the initial stack, just change the initial thread's pt_uc
	to point to the opposite end of the stack (away from the argv,
	environment, etc).
	[chs, ticket #768]

share/man/man4/stpcide.4			1.6-1.7
sys/dev/pci/stpcide.c				1.10-1.11

	Remove fluctuation of written name in alphabetical representation of
	copyright holder.
	[nisimura, ticket #779]

sys/arch/x86/include/cacheinfo.h		1.3
sys/arch/x86/x86/cacheinfo.c			1.6

	Get correct cache information for earlier VIA C3 models.
	Mostly from PR kern/26689 submitted by Michael van Elst.
	[briggs, ticket #770]

build.sh					1.131

	Remove trailing / in pathname.
	[junyoung, ticket #771]

sys/dev/ic/ath.c				1.37

	Make hw.ath.countrycode and hw.ath.outdoor writeable.
	[dyoung, ticket #772]

etc/rc.d/sendmail				1.21

	Quieten stat(1) with the -q flag. Addresses PR bin/26711.
	[atatat, ticket #773]

sbin/wsconsctl/wsconsctl.c			1.7
sys/dev/ic/vga.c				1.79-1.80
sys/dev/pckbport/wskbdmap_mfii.c		1.3-1.4

	Fix various bugs in wscons scrolling support including PR misc/25876.
	[recht, ticket #774]

lib/libc/net/gethnamaddr.c			1.62 via patch

	Now that e.f.f.3.ip6.arpa is ready, we no longer need to query ip6.int.
	[itojun, ticket #775]

bin/sh/redir.c					1.29

	PR/25699: David Laight: sh(1) hangs opening a named pipe as stdin for
	background process
	This happens because we vfork, and then open a named pipe with O_RDONLY
	and block in the child. We avoid this, by opening the file with
	O_NONBLOCK, and then reset it if we are vforked.
	[chs, ticket #777]

sys/compat/hpux/hpux_exec.c			1.43
sys/compat/hpux/hpux_exec_aout.c		1.11

	Fix license notice.
	[hubertf, ticket #778]

sys/arch/powerpc/oea/pmap.c			1.25

	Implement pmap_pvo_reclaim(), which steals an existing non-wired pvo
	entry for reuse, and use this in pmap_pvo_enter() when we can't
	allocate a new one.
	[chs, ticket #780]

sys/dev/pci/if_ex_pci.c				1.36
sys/dev/pci/pcidevs				1.631
sys/dev/pci/pcidevs.h				regen
sys/dev/pci/pcidevs_data.h			regen

	Add support for 3Com 3c920B-EMB-WNM Integrated Fast Ethernet,
	as found on Asus P4R800-VM motherboards.
	[junyoung, ticket #781]

sys/kern/kern_lock.c				1.81-1.83 via patch

	Fix various lockmgr bugs.
	[yamt, ticket #752]

sys/netinet/fil.c				1.68

	Fix m_pulldown() usage, it's different from m_pullup().
	Fixes PRs 26666 and 26701.
	[chs, ticket #783]


distrib/notes/common/main			1.264

	Update list of release engineers.
	[tron, ticket #782]

bin/pax/file_subs.c				1.51
bin/pax/extern.h				1.44
bin/pax/ar_subs.c				1.31

	Propery handle "cpio" archives where the last hardlink includes the
	data of a file. PR#26514
	[tron, ticket #784]

distrib/utils/sysinst/msg.mi.de			1.14
distrib/utils/sysinst/msg.mi.en			1.131
distrib/utils/sysinst/msg.mi.fr			1.81
distrib/utils/sysinst/msg.mi.pl			1.42

	CD-ROM -> CD-ROM / DVD
	[hubertf, ticket #785]

share/man/man5/wscons.conf.5			1.13

	Adjust copyright
	[hubertf, ticket #786]

sys/compat/mach/mach_port.c			1.54
sys/compat/mach/mach_port.h			1.36

	Fix copyright notice, as OK'd by the copyright holder.
	[hubertf, ticket #787]

distrib/notes/common/xfer			1.42-1.45
distrib/notes/common/contents			1.98,1.103-1.105
distrib/notes/common/sysinst			1.70
distrib/notes/common/donations			1.25
distrib/notes/common/legal.common		1.35-1.36
distrib/notes/common/extract-contrib-string.pl	1.1 (new)
distrib/notes/common/macros			1.27-1.28
distrib/notes/common/upgrade			1.22
distrib/notes/common/postinstall		1.58
distrib/notes/common/list-portmasters.pl	1.1-1.3 (new)
distrib/notes/common/main			1.254-1.256,1.260-1.263
distrib/notes/common/netboot			1.23
distrib/notes/common/list-setsizes.sh		1.1 (new)

	Updates to installation notes and some tools for handling
	certain sections, to better describe the netbsd-2-0 state.
	[hubertf, ticket #788]

etc/MAKEDEV.tmpl				1.25,1.26 via patch

	Don't depend on printf.
	Rework the sequence that ptys get allocated so that we don't end up
	with gaps in the sequence of minor numbers as we allocate ptys.
	Having gaps has 2 bad side effects:
	- ptm does not like it
	- we allocate a lot of storage that we'll never use in the pty array
	  (the current scheme allocated 62 ptys 0-15,256-301, so we needed
	   302 entries to get 64).
	Now we allocate ptys in groups of 16 or 14 instead of 64, and we follow
	the minor number order.
	We default to 64 pty's by building pty0-3, which is all using the old
	traditional pty names. Of course to do this, the shell code is a bit
	convoluted.
	[christos, ticket #776]

usr.bin/kdump/kdump.c				1.79

	Prevent kdump from crashing on unknown ktrace record types.
	[skrll, ticket #789]

distrib/notes/common/donations			1.26
distrib/notes/common/upgrade			1.23
distrib/notes/common/xfer			1.48

	Update various parts of the documentation for the upcoming 2.0 release.
	[hubertf, ticket #790]

distrib/acorn32/mksparkive.sh			1.6
distrib/acorn32/stand/Makefile			1.19

	Stat is a host tool, so pick it up from the right place.
	While we're at it, check for some common errors, and make the usage
	stuff work better.
	[gavan, ticket #791]

usr.sbin/wiconfig/wiconfig.8			1.28
usr.sbin/wiconfig/wiconfig.c			1.34

	Document recently-revived -A option, which sets the authentication
	type. Eventually we want ifconfig to handle this, but we support
	it here until ifconfig gets updated.
	[wrstuden, ticket #792]

usr.sbin/wiconfig/wiconfig.8			1.29

	Bump date for -A documentation, and sort option descriptions.
	[wrstuden, ticket #793]

usr.bin/sed/compile.c				1.29-1.30

	Make patterns larger than _POSIX2_LINE_MAX*2-1 work.
	[manu, ticket #795]

sys/dev/raidframe/rf_disks.c			1.54

	rf_CheckLabels() needs to die, but for now, we patch it by setting
	fatal_error when too_fatal is set, and by setting fatal_error in a
	couple other critical cases.
	[oster, ticket #797]

sys/dev/raidframe/rf_dagdegrd.c			1.22
sys/dev/raidframe/rf_dagffwr.c			1.28
sys/dev/raidframe/rf_raid0.c			1.11

	Correct some RF_ASSERTS() that were missed when fixing memory issues
	with this code.  Thanks to palle at lyckegaard.dk for pointing them
	out. Addresses PR#26776 (but doesn't use all the suggested fixes).
	[oster, ticket #798]

sys/miscfs/procfs/procfs_linux.c		1.17,1.18 via patch

	Fix process used for /proc/<pid>/stat contents - it should be process
	<pid>, not the current process looking at the information
	[jdolecek, ticket #799]

distrib/sets/lists/man/mi			1.722
share/man/man4/Makefile				1.329
share/man/man4/njs.4				1.1-1.3
sys/arch/i386/conf/CARDBUS			1.73
sys/arch/i386/conf/GENERIC			1.629
sys/arch/i386/conf/GENERIC_LAPTOP		1.114
sys/arch/sparc64/conf/GENERIC32			1.87
sys/conf/files					1.682
sys/dev/DEVNAMES				1.162
sys/dev/cardbus/cardbusdevs			patch
sys/dev/cardbus/cardbusdevs.h			regen
sys/dev/cardbus/cardbusdevs_data.h		regen
sys/dev/cardbus/files.cardbus			1.23
sys/dev/cardbus/njs_cardbus.c			1.1-1.2 via patch
sys/dev/ic/ninjascsi32.c			1.1-1.2
sys/dev/ic/ninjascsi32reg.h			1.1
sys/dev/ic/ninjascsi32var.h			1.1-1.2
sys/dev/pci/files.pci				1.217 via patch
sys/dev/pci/njs_pci.c				1.1-1.2
sys/dev/pci/pcidevs				patch
sys/dev/pci/pcidevs.h				regen
sys/dev/pci/pcidevs_data.h			regen

	Add Workbit NinjaSCSI-32 PCI/CardBus SCSI driver njs(4).
	[itohy, ticket #800]

lib/libpthread/pthread.c			1.36

	Don't leak dead threads under certain conditions.
	[yamt, ticket #801]

etc/hosts					1.7
etc/postinstall					1.81

	Add a dotted alias for localhost so that sendmail doesn't pause on
	startup if a system's hostname is not set. PR 26550.
	[chs, ticket #802]

sys/nfs/nfs_socket.c				1.110 via patch
sys/nfs/nfsnode.h				1.48

	nfs_request: a workaround for servers doing "maproot".
	For i/o requests which are expected not to fail due to permission
	to mimic unix file open semantics (READ, WRITE, COMMIT),
	try two credentials.  namely, the file owner's one and open time one.
	Remember which credential worked in per-file basis and try it first
	next time to minimize number of retries. Fixes PR/23716 and PR/24987.
	[yamt, ticket #803]

regress/sys/kern/ipf/expected/i1		1.1.1.3
regress/sys/kern/ipf/expected/i14		1.1.1.2
regress/sys/kern/ipf/expected/i2		1.1.1.2
regress/sys/kern/ipf/expected/i3		1.1.1.3
regress/sys/kern/ipf/expected/i4		1.1.1.2
regress/sys/kern/ipf/expected/i6		1.1.1.2
regress/sys/kern/ipf/expected/i9		1.1.1.3
regress/sys/kern/ipf/expected/in2		1.1.1.3
regress/sys/kern/ipf/expected/ipv6.1		1.1.1.2
regress/sys/kern/ipf/expected/ipv6.2		1.1.1.3
regress/sys/kern/ipf/expected/ipv6.3		1.1.1.2
regress/sys/kern/ipf/expected/n7		1.1.1.2
regress/sys/kern/ipf/expected/n8		1.1.1.2
regress/sys/kern/ipf/expected/n9		1.1.1.2
regress/sys/kern/ipf/expected/ni1		1.1.1.3
regress/sys/kern/ipf/expected/ni2		1.1.1.3
regress/sys/kern/ipf/expected/ni4		1.1.1.3
regress/sys/kern/ipf/expected/ni6		1.1.1.2
regress/sys/kern/ipf/input/f12			1.1.1.3
regress/sys/kern/ipf/input/f13			1.1.1.4
regress/sys/kern/ipf/input/f17			1.1.1.3
regress/sys/kern/ipf/input/ipv6.2		1.1.1.2
regress/sys/kern/ipf/input/ipv6.3		1.1.1.2
regress/sys/kern/ipf/input/l1			1.1.1.3
regress/sys/kern/ipf/input/n8			1.1.1.2
regress/sys/kern/ipf/input/n9			1.1.1.2
regress/sys/kern/ipf/input/ni1			1.1.1.3
regress/sys/kern/ipf/input/ni2			1.1.1.3
regress/sys/kern/ipf/input/ni4			1.1.1.2
regress/sys/kern/ipf/input/ni5			1.1.1.3
regress/sys/kern/ipf/input/ni6			1.1.1.2
regress/sys/kern/ipf/regress/i1			1.1.1.3
regress/sys/kern/ipf/regress/i11		1.1.1.3
regress/sys/kern/ipf/regress/i14		1.1.1.2
regress/sys/kern/ipf/regress/i2			1.1.1.2
regress/sys/kern/ipf/regress/i3			1.1.1.2
regress/sys/kern/ipf/regress/i4			1.1.1.2
regress/sys/kern/ipf/regress/i6			1.1.1.2
regress/sys/kern/ipf/regress/i9			1.1.1.3
regress/sys/kern/ipf/regress/in1		1.1.1.3
regress/sys/kern/ipf/regress/in2		1.1.1.3
regress/sys/kern/ipf/regress/ipv6.2		1.1.1.2
regress/sys/kern/ipf/regress/ipv6.3		1.1.1.2
regress/sys/kern/ipf/regress/n7			1.1.1.2
regress/sys/kern/ipf/test.format		1.1.1.2

	Updated regression tests for IPFilter 4.1.3.
	[martti, ticket #769]

etc/postinstall					1.82

	The hosts file is /etc/hosts not /hosts.
	[nakayama, ticket #804]

sys/lkm/netinet/if_ipl/mln_ipl.c		1.34

	Better kernel module for IPF (kern/26112 by Peter Postma).
	[martti, ticket #805]

regress/sys/kern/ipf/expected/n11		1.1
regress/sys/kern/ipf/expected/ni10		1.1
regress/sys/kern/ipf/expected/ni11		1.1
regress/sys/kern/ipf/expected/ni12		1.1
regress/sys/kern/ipf/expected/ni7		1.1
regress/sys/kern/ipf/expected/ni8		1.1
regress/sys/kern/ipf/expected/ni9		1.1
regress/sys/kern/ipf/README.TXT			1.1
regress/sys/kern/ipf/vfycksum.pl		1.1
regress/sys/kern/ipf/input/n11			1.1
regress/sys/kern/ipf/input/ni10			1.1
regress/sys/kern/ipf/input/ni11			1.1
regress/sys/kern/ipf/input/ni12			1.1
regress/sys/kern/ipf/input/ni7			1.1
regress/sys/kern/ipf/input/ni8			1.1
regress/sys/kern/ipf/input/ni9			1.1
regress/sys/kern/ipf/regress/n11		1.1
regress/sys/kern/ipf/regress/ni10.ipf		1.1
regress/sys/kern/ipf/regress/ni10.nat		1.1
regress/sys/kern/ipf/regress/ni11.ipf		1.1
regress/sys/kern/ipf/regress/ni11.nat		1.1
regress/sys/kern/ipf/regress/ni12.ipf		1.1
regress/sys/kern/ipf/regress/ni12.nat		1.1
regress/sys/kern/ipf/regress/ni7.ipf		1.1
regress/sys/kern/ipf/regress/ni7.nat		1.1
regress/sys/kern/ipf/regress/ni8.ipf		1.1
regress/sys/kern/ipf/regress/ni8.nat		1.1
regress/sys/kern/ipf/regress/ni9.ipf		1.1
regress/sys/kern/ipf/regress/ni9.nat		1.1

	Updated regression tests for IPFilter 4.1.3.
	[martti, ticket #806]

share/man/man4/bktr.4				1.12-1.14

	Various fixes from Sergey Svishchev svs at ropnet ru in private mail.
	Some additional "new sentence, new line" changes while I was there.
	Improve some card names.
	Mention pkgsrc/multimedia/ffmpeg and add a comma. Bump date.
	[wiz, ticket #807]

usr.bin/tset/extern.h				1.10
usr.bin/tset/set.c				1.10
usr.bin/tset/tset.c				1.15
distrib/utils/more/command.c			1.11
distrib/utils/more/extern.h			1.3
distrib/utils/more/main.c			1.9
distrib/utils/more/signal.c			1.6
distrib/utils/x_umount/umount.c			patch

	Rename variables so they dont conflict w. libcurses when crunched. 
	PR#26458
	[chs, ticket #808]

distrib/arc/instkernel/Makefile			1.8
sys/arch/arc/conf/Makefile.arc.inc		1.12

	Remove .mdebug.abi32 and .comment sections created by binutils-2.14
	on converting kernels into ECOFF.
	ARC BIOS may be confused by these sections without valid address.
	[tsutsui, ticket #809]

sys/compat/linux/common/linux_misc.c		1.128

	Handle mmap() request with MAP_GROWSDOWN flag (request for stack-like
	grow-down auto extend segment) by allocating segment sized at
	current stack size limit, and offsetting requested/returned address
	as required. This fixes Thomas Klausner's Heroes3 crash, and might
	also fix PR 26687 by Jan Schaumann
	[jdolecek, ticket #810]

sys/dev/vinum/vinumvar.h			1.2

	Change the defines for cdev and bdev majors to 162, which is assigned
	to vinum now. Fixes PR kern/26855 by Andreas Wiese.
	[jdolecek, ticket #811]

sys/arch/amiga/dev/ite_et.c			1.7

	While in graphics mode, short-circuit text-mode functions that would 
	destroy graphics state. PR#26788
	[is, ticket #816]

distrib/notes/amiga/hardware			1.45

	Clarify Apollo-accelerator-modifed-mainboard-SCSI vs.
	Apollo-accelerator-provided-SCSI support status.
	[is, ticket #817]

distrib/notes/common/xfer			1.50

	We dont build split sets anymore... dont confuse users.
	[is, ticket #818]

sys/dev/mca/if_we_mca.c				1.10

	Fix mask for getting WD8003 I/O address location, so it works even
	for 0x300-0x3E0 bases. PR#26871
	[jdolecek, ticket #821]

sys/dev/mca/if_we_mca.c				1.11

	Compute the shared memory location instead of hardcoding list of
	"known" pos3 values for 8013 variants. PR#26877
	[jdolecek, ticket #822]

sys/dev/ic/ac97.c				1.59

	Check power states after codec reset. This change fixes a
	resume problem on some boards.
	Patch provided by Joachim Thiemann in PR kern/26457
	[kent, ticket #823]

sys/lib/libkern/arc4random.c			1.12

	Fix bug introduced earlier: actually generate four bytes of
	random value, rather than always leaving a byte zero.
	[dan, ticket #824]

sbin/disklabel/disklabel.c			1.132-1.133

	Fix an off-by-one error in calculating how many partitions
	are allowed, and also fix which value we use to compare the
	maximum number of partitions against.
	[abs, ticket #825]

distrib/notes/common/contents			1.106

	Fix cut-and-paste error.
	[jdc, ticket #827]

distrib/notes/common/contents			1.107

	Add two missing curly braces, to fix atari release notes.
	[jdc, ticket #828]

distrib/notes/common/netboot			1.24

	Replace .ie with empty .el or without .el with .if.  Add
	some comments, and reduce if'd stuff in once case.
	[jdc, ticket #829]

sys/uvm/uvm_anon.c				1.30-1.31
sys/uvm/uvm_page.c				1.99

	Correct page accounting for anon pages: decrement
	uvmexp.anonpages when orphaning an A->K loaned page, and
	null out anon.u.an_page as the anon no longer owns the page
	in that case.  Add a few related assertions.  Also correct
	a comment.
	[yamt, ticket #830]

sys/kern/uipc_mbuf.c				1.84-1.85
sys/sys/mbuf.h					1.96
share/man/man9/mbuf.9				1.29
share/man/man9/Makefile				1.164
distrib/sets/lists/comp/mi			1.725

	Add an assertion to detect write to a read-only mbuf.
	Add m_copyback_cow and m_makewritable.
	[yamt, ticket #831]

xfree/xc/extras/fontconfig/src/fccfg.c		1.2

	Fall back to ``/var/tmp'' if we cannot find the user's
	home directory.  Fixes PR#25185.
	[tron, ticket #832]

sys/netinet/ip_fil_netbsd.c			1.15-1.16

	Ensure that mbufs are writable, as IPF assumes so.
	Fixes PR#26773 and PR#26850.
	Ensure that the whole packet is writable when IPF wants to
	modify application data.
	[yamt, ticket #833]

include/netdb.h					1.43-1.45
lib/libc/net/gethnamaddr.c			1.63 via patch
lib/libc/net/gethostbyname.3			1.25-1.26
lib/libc/net/Makefile.inc			1.64
lib/libc/net/sethostent.c			1.13-1.14
lib/libc/include/namespace.h			1.92
distrib/sets/lists/comp/mi			1.723

	Restore gethostent() as a supported interface.  Yes, it
	may be obsolete, but it is specified by IEEE Std 1003.1,
	2004 Edition (POSIX) and the X/Open standards (Issue 66
	and XNS 5.2).
	[ginsbach, ticket #834]

sys/netinet6/raw_ip6.c				1.66-1.68

	Ensure that the mbuf is writable before writing a checksum
	into it.
	[yamt, ticket #836]

sys/dev/scsipi/atapi_base.c			1.21-22 via patch
sys/dev/scsipi/atapiconf.h			1.18 via patch
sys/dev/scsipi/cd.c				1.203-1.205 via patch
sys/dev/scsipi/cdvar.h				1.21 via patch
sys/dev/scsipi/ch.c				1.62 via patch
sys/dev/scsipi/if_se.c				1.47 via patch
sys/dev/scsipi/scsi_base.c			1.80-1.81 via patch
sys/dev/scsipi/scsiconf.h			1.52 via patch
sys/dev/scsipi/scsipi_base.c			1.110-1.112 via patch
sys/dev/scsipi/scsipi_ioctl.c			1.48 via patch
sys/dev/scsipi/scsipiconf.c			1.24 via patch
sys/dev/scsipi/scsipiconf.h			1.87 via patch
sys/dev/scsipi/sd.c				1.221-1.223 via patch
sys/dev/scsipi/sdvar.h				1.22 via patch
sys/dev/scsipi/ses.c				1.24 via patch
sys/dev/scsipi/ss.c				1.53 via patch
sys/dev/scsipi/ss_mustek.c			1.20-1.21 via patch
sys/dev/scsipi/ss_scanjet.c			1.31-1.32 via patch
sys/dev/scsipi/ssvar.h				1.12 via patch
sys/dev/scsipi/st.c				1.165-1.166 via patch
sys/dev/scsipi/st_scsi.c			1.12 via patch
sys/dev/scsipi/stvar.h				1.9 via patch

	Improve handling of memory shortage, to fix problems like:
	  sd3(mpt0:0:1:0): unable to allocate scsipi_xfer
	  sd3: not queued, error 12
	The theory is that other consumers of pool memory is causing
	this memory shortage in certain somewhat hard to reproduce
	situations.
	This is done by giving scsipi_command an extra argument to
	optionally pass a preallocated scsipi_xfer, and allocating a
	scsipi_xfer before dequeueing a buffer in the various *start()
	functions.  If the allocation of a scsipi_xfer fails, schedule
	a callout for delayed invocation of the start function.  Also
	reserve one page for scsipi_xfer structs, to ensure that we will
	eventually have some available once pending commands complete.
	Should fix PR#25670.
	[bouyer, ticket #837]

sys/dev/ic/ncr53c9x.c				1.112

	Reserve one element for the ncr53c9x_ecb pool to ensure that
	we will not deadlock against other pool users.
	[bouyer, ticket #838]

sys/dev/pci/amr.c				1.21

	Make this driver recognize LSI Logic MegaRAID 320-2 RAID controllers.
	Fixes PR#26834, patch from that PR.
	[he, ticket #826]

sys/sys/mbuf.h					1.92

	Add m_length().  Needed to make the tree compile again after
	ticket #831.
	[bouyer, ticket #839]

sys/dev/ic/wdc.c				patch

	If we are not going to handle a reset request because one is
	already pending, decrease queue_freeze that we just increased.
	Otherwise, the queue stays frozen after the reset.
	Should fix PR#26873 and PR#26910.
	[bouyer, ticket #840]

sys/kern/uipc_mbuf.c				1.87

	Restore behaviour of m_split() on M_PKTHDR which was
	unintentionally changed when m_copyback_cow() was added.
	[yamt, ticket #841]

sys/arch/arm/conf/kern.ldscript.head		1.1
sys/arch/arm/conf/kern.ldscript.tail		1.1
sys/arch/arm/conf/mkldscript.sh			1.1
sys/arch/cats/conf/Makefile.cats.inc		1.16
sys/arch/shark/conf/Makefile.shark.inc		1.5
sys/conf/Makefile.kern.inc			1.57

	Work around a binutils bug where converting ELF kernels to a.out with
	objcopy produces corrupted binaries when the link_set_* sections
	extend into another page after the end of the .text section by using
	a generated an ldscript that puts all the link_set_* data into the
	.text section in the first place.
	[chs, ticket #843]


sys/arch/amd64/conf/INSTALL_ACPI		1.10
sys/arch/amd64/conf/INSTALL			1.18

	Remove some devices (sync with i386).
	[fvdl, ticket #845]

sys/arch/xen/xen/xbd.c				1.10
sys/arch/xen/xen/if_xennet.c			1.11
sys/arch/xen/include/xbdvar.h			1.6
sys/arch/xen/include/if_xennetvar.h		1.3

	Actually mix samples into the kernel RNG pool.
	[tls, ticket #846]

sys/kern/kern_clock.c				1.92

	Add 50Hz support -- this will allow 'options NTP' to work on the Xen
	port, once the Xen port's timer interrupts are made somewhat more sane.
	[tls, ticket #847]

libexec/ld.elf_so/arch/sh3/rtld_start.S		1.4

	Preserve r2 in _rtld_bind_start - in r2 functions that return
	aggregate types are passed the address of the memory area to store the
	returned result to. PR#26949
	[uwe, ticket #848]

bin/pax/cpio.1					1.8
bin/pax/tar.1					1.15
distrib/notes/common/legal.common		1.37
lib/libc/gen/ftok.3				1.13
lib/libc/gen/ftok.c				1.10
usr.bin/ipcs/ipcs.1				1.16
usr.bin/ipcs/ipcs.c				1.33

	Change copyright to 2-clause BSD-copyright.
	[hubertf, ticket #850]

distrib/utils/sysinst/util.c			1.130

	Run the new copy of /etc/postinstall, not the one that happens to be 
	on the users system already.
	[dsl, ticket #851]

xfree/xc/extras/Xpm/cxpm/cxpm.c			1.2
xfree/xc/extras/Xpm/lib/Attrib.c		1.2
xfree/xc/extras/Xpm/lib/hashtab.c		1.2
xfree/xc/extras/Xpm/lib/CrBufFrI.c		1.2
xfree/xc/extras/Xpm/lib/CrDatFrI.c		1.2
xfree/xc/extras/Xpm/lib/RdFToI.c		1.2
xfree/xc/extras/Xpm/lib/WrFFrI.c		1.2
xfree/xc/extras/Xpm/lib/data.c			1.2
xfree/xc/extras/Xpm/lib/scan.c			1.2
xfree/xc/extras/Xpm/lib/XpmI.h			1.2
xfree/xc/extras/Xpm/lib/create.c		1.4
xfree/xc/extras/Xpm/lib/parse.c			1.2
xfree/xc/extras/Xpm/lib/xpm.h			1.2
xfree/xc/extras/Xpm/sxpm/sxpm.c			1.2
xfree/xc/extras/Xpm/sxpm/sxpm.man		1.2

	Incorporate security fixes from Xorgs X11R6.8.1 release
	[tron, ticket #852]

sys/dev/ata/wd.c				patch

	In case of error, reset the channel with AT_RST_NOCMD. We know the 
	reset wont abort any command at this point.
	[bouyer, ticket #853]

sys/dev/ic/wdc.c				patch

	__wdc_reset_channel(): give the loop over commands a chance to 
	terminate by:
	  - updating xfer on each iteration (ops)
	  - making sure that xfers gets removed from the queue
	[bouyer, ticket #854]

crypto/dist/heimdal/ChangeLog			patch
crypto/dist/heimdal/NEWS			patch
crypto/dist/heimdal/aclocal.m4			patch
crypto/dist/heimdal/compile			patch
crypto/dist/heimdal/configure.in		patch
crypto/dist/heimdal/heimdal2netbsd		patch
crypto/dist/heimdal/install-sh			patch
crypto/dist/heimdal/libtool			patch
crypto/dist/heimdal/missing			patch
crypto/dist/heimdal/mkinstalldirs		patch
crypto/dist/heimdal/admin/get.c			patch
crypto/dist/heimdal/appl/ftp/ChangeLog		patch
crypto/dist/heimdal/appl/ftp/ftp/ftp.c		patch
crypto/dist/heimdal/appl/ftp/ftpd/extern.h	patch
crypto/dist/heimdal/appl/ftp/ftpd/ftpcmd.y	patch
crypto/dist/heimdal/appl/ftp/ftpd/ftpd.8	patch
crypto/dist/heimdal/appl/ftp/ftpd/ftpd.c	patch
crypto/dist/heimdal/appl/ftp/ftpd/ftpd_locl.h	patch
crypto/dist/heimdal/appl/login/ChangeLog	patch
crypto/dist/heimdal/appl/login/login.c		patch
crypto/dist/heimdal/appl/push/ChangeLog		patch
crypto/dist/heimdal/appl/push/push.c		patch
crypto/dist/heimdal/appl/telnet/ChangeLog	patch
crypto/dist/heimdal/appl/telnet/libtelnet/kerberos5.c	patch
crypto/dist/heimdal/appl/telnet/telnet/network.c	patch
crypto/dist/heimdal/appl/telnet/telnetd/state.c	patch
crypto/dist/heimdal/appl/xnlock/ChangeLog	patch
crypto/dist/heimdal/appl/xnlock/xnlock.c	patch
crypto/dist/heimdal/doc/heimdal.info-1		patch
crypto/dist/heimdal/doc/heimdal.info-2		patch
crypto/dist/heimdal/include/config.h		patch
crypto/dist/heimdal/include/version.h		patch
crypto/dist/heimdal/include/version.h.in	patch
crypto/dist/heimdal/kdc/kerberos5.c		patch
crypto/dist/heimdal/kuser/kinit.c		patch
crypto/dist/heimdal/lib/asn1/Makefile.am	patch
crypto/dist/heimdal/lib/asn1/k5.asn1		patch
crypto/dist/heimdal/lib/auth/ChangeLog		patch
crypto/dist/heimdal/lib/auth/afskauthlib/verify.c	patch
crypto/dist/heimdal/lib/kafs/ChangeLog		patch
crypto/dist/heimdal/lib/kafs/afssys.c		patch
crypto/dist/heimdal/lib/krb5/Makefile.am	patch
crypto/dist/heimdal/lib/krb5/changepw.c		patch
crypto/dist/heimdal/lib/krb5/context.c		patch
crypto/dist/heimdal/lib/krb5/init_creds_pw.c	patch
crypto/dist/heimdal/lib/krb5/krb5-protos.h	patch
crypto/dist/heimdal/lib/krb5/krb5.h		patch
include/heimdal/config.h			patch
include/heimdal/version.h			patch

	Bring up 0.6.3 - security fixes
	[lha, ticket #849]

sys/dev/vinum/vinumioctl.c			1.2-1.3

	Refuse unknown ioctls, rather than pretending success.
	Fixes a panic caused by null pointer dereference in spec_open()
	after DIOCGPART ioctl call and PR#26981.
	[jdolecek, ticket #855]

sys/dev/pci/pcidevs				1.651
sys/dev/pci/pcidevs.h				regenerate
sys/dev/pci/pcidevs_data.h			regenerate
sys/dev/pci/mpt_pci.c				1.3

	Add support for PCI-X version of LSI FC929, from PR#26836.
	[martin, ticket #856]

libexec/identd/identd.c				1.23

	Make this conform to the "FORMAL SYNTAX" in RFC 1314.
	[daniel, ticket #857]

sys/nfs/nfs_bio.c				1.120
sys/nfs/nfs_subs.c				1.135
sys/nfs/nfs_var.h				1.46
sys/nfs/nfsnode.h				1.49

	Fix access-after-free bugs in dircache code by reference
	counting nfsdircache.  Fixes PR#26864.
	[yamt, ticket #858]

sys/ufs/ufs/ufs_bmap.c				1.33

	Fix an integer overflow when calculating lbns of indirect
	blocks, and remove a redundant calculation of blockcnt.
	[yamt, ticket #859]

sys/dev/usb/ehci.c				1.70

	Make this compile with OHCI_DEBUG and without EHCI_DEBUG.
	[yamt, ticket #860]

sys/netinet/tcp_input.c				1.209
sys/netinet/tcp_subr.c				1.173
sys/netinet/tcp_var.h				1.113

	Fix ipqent pool corruption problems.  Make the TCP reassembly
	code use its own pool of ipqent rather than sharing it with
	the IP reassembly code.  Fixes PR#24782.
	[yamt, ticket #861]

sbin/fsdb/fsdb.c				1.29

	Fix blks command:
	 - use 64-bit variables for lbns
	 - correct file block offsets in the case of absent indirect
	   blocks
	[yamt, ticket #862]

sys/netinet/tcp_input.c				patch
sys/netinet/tcp_subr.c				patch

	Fix this so it compiles again; we cannot use the link
	set macros for pool initialization on this release branch.
	[yamt, ticket #861]

share/mk/bsd.README				1.156

	Update comment about "OBJECT_FMT": only ns32k uses a.out
	these days.
	[tron, ticket #863]

xfree/xc/extras/Xpm/lib/Attrib.c		1.3
xfree/xc/extras/Xpm/lib/CrDatFrI.c		1.3
xfree/xc/extras/Xpm/lib/create.c		1.5
xfree/xc/extras/Xpm/lib/hashtab.c		1.3
xfree/xc/extras/Xpm/lib/parse.c			1.3
xfree/xc/extras/Xpm/lib/scan.c			1.3

	Fix build problem on LP64 platforms.
	[tron, ticket #864]

sys/compat/linux/common/linux_socket.c		1.53

	If passed sockaddr has family AF_UNSPEC, use socket family of the
	socket the sockaddr is used for. This fixes bind() problem in Linux
	version of Theocracy.
	[jdolecek, ticket #844]

sys/arch/i386/i386/locore.S			1.29

	Increase nkpde automatically to adjust for the kernel size. Also, if
	we did adjust nkpde, save the new value. This should enable us to
	boot extremely large kernels without fiddling with NKPTP.
	[grant, ticket #865]

etc/rc.d/ipfilter				1.12

	Explicitly flush (-Fa) rules when loading or reloading IPv4 and IPv6
	rules, rather than relying upon running "ipf -Fa" beforehand (which
	only flushes IPv4). Should fix PR 26885 and PR 26857.
	[martti, ticket #866]

distrib/notes/common/main			edit

	Start initial list of "what's changed" between 1.6 and 2.0
	[jmc]

sys/arch/amiga/dev/repulse.c			1.9
sys/dev/ic/ac97.c				1.62
sys/dev/ic/ac97var.h				1.10
sys/dev/pci/auich.c				1.62
sys/dev/pci/autri.c				1.20
sys/dev/pci/auvia.c				1.42
sys/dev/pci/cs4280.c				1.30
sys/dev/pci/cs4281.c				1.19
sys/dev/pci/fms.c				1.19
sys/dev/pci/eap.c				1.72
sys/dev/pci/emuxki.c				1.36
sys/dev/pci/esa.c				1.25
sys/dev/pci/esm.c				1.27
sys/dev/pci/esmvar.h				1.10
sys/dev/pci/neo.c				1.23
sys/dev/pci/yds.c				1.21

	ac97_host_if::reset() returns non-zero value if codec reset fails, and
	ac97 is not attached in that case. PR#26973
	[kent, ticket #867]

sys/arch/xen/conf/GENERIC			1.16
sys/arch/xen/conf/XEN				1.13
sys/arch/xen/i386/locore.S			1.6
sys/arch/xen/xen/clock.c			1.7

	Changes to improve timekeeping on NetBSD/xen by actually adjusting the 
	time correctly (calling hardclock as needed, not just blindly every 
	time Xen schedules us) based on Xens idea of the time in the 
	shared page.
	[tls, ticket #871]

sbin/newfs_msdos/newfs_msdos.8			1.12

	Correct some examples, and note when it was first included
	[thorpej, ticket #868]

sbin/newfs_msdos/newfs_msdos.c			1.16
sbin/newfs_msdos/newfs_msdos.8			1.13

	Default the OEM ID to "NetBSD" rather than "BSD  4.4".
	[thorpej, ticket #869]

sbin/newfs_msdos/newfs_msdos.c			1.17
sbin/newfs_msdos/newfs_msdos.8			1.14

	Change the default volume label from "NO NAME" to "NO_NAME".
	[thorpej, ticket #870]

distrib/notes/common/main			patch

	Fix the broken build of INSTALL.* files.
	[oster, ticket #872]

sys/sys/param.h					patched by hand
share/tmac/doc-common				patched by hand

	Welcome to 2.0_RC1


sys/arch/amiga/amiga/pmap.c			1.109-1.110

	Fix issues so debug kernels can build
	[tron, ticket #873]

sys/arch/arm/arm/disksubr.c			1.12

	Fix cd installation issue on arm based machines.
	[chris, ticket #874]

lib/libc/citrus/citrus_ctype_template.h		1.26-1.31

	Fix 3 bugs in cirtus:
	1. The return values of wcrtomb(3) and wctomb(3) are wrong,
	   if second argument wc is L'\0' and current locale is either
	   ja_JP.ISO2022-JP or ja_JP.ISO2022-JP2.
	2. There is a case that _FUNCNAME(ctype_wcrtomb) return garbage values 
	   on the stack
	3. wctomb isnt supposed to set errno.
	[soda, ticket #875]

dist/ipf/tools/lexer.c				1.8

	Allow \ at the end of line so long lines can be splitted and made more
	readable. Without this modification old IPF 3.x and 4.1.1 rules will
	not work with IPF 4.1.3.
	[martti, ticket #876]

distrib/sets/lists/man/mi			patch
share/man/man5/Makefile				patch
share/man/man5/route.conf.5			patch

	Add documentation for route.conf
	[cube, ticket #877]

distrib/notes/common/main			patch

	Updates for some wording changes and troff fixes
	[wiz, ticket #878]

share/man/man4/raid.4				1.30

	Minor update to note a few other archs for which booting directly from
	a RAID-1 set is supported. PR#27045.
	[wiz, ticket #879]

sys/kern/kern_sig.c				1.198

	Adjust the change of rev. 1.190 so that trap signals not matching
	the reset condition are processed properly. PR#26687
	[jdolecek, ticket #881]

sys/dev/ata/wd.c				1.295

	Add a WD_QUIRK_FORCE_LBA48 quirck, which forces all access to use
	LBA48. Use it for ST3200822A, which has a broken firmware and return
	an error when accessing sector 0xfffffff with a LBA command.
	[bouyer, ticket #882]


distrib/notes/i386/whatis			patch
distrib/notes/common/main			patch

	Correct a few minor issue and add a new section about important notes"
	where the sendmail default startup is explained.
	[he, ticket #883]

sys/sys/param.h					patched by hand
share/tmac/doc-common				patched by hand

	Welcome to 2.0_RC2

sys/compat/linux/common/linux_ipc.c		1.29
sys/kern/sysv_shm.c				1.78
sys/sys/shm.h					1.36-1.37
sys/compat/linux/arch/alpha/syscalls.master	1.47
sys/compat/linux/arch/alpha/linux_syscall.h	regen
sys/compat/linux/arch/alpha/linux_syscallargs.h	regen
sys/compat/linux/arch/alpha/linux_syscalls.c	regen
sys/compat/linux/arch/alpha/linux_sysent.c	regen
sys/compat/linux/common/linux_ipc.c		1.30
sys/compat/linux/common/linux_ipccall.c		1.24
sys/compat/linux/common/linux_shm.h		1.6
sys/kern/sysv_shm.c				1.79

	Fix linux handling of SysV-style shared memory. Fixed Linux VMware 
	display problems.
	[jdolecek, ticket #884]

lib/libpthread/pthread_cond.c			1.16

	In cond_wait() and cond_timedwait(), do the ERRORCHECK testing of the
	waiters list in all cases, not just on cancellation; there are other 
	sources of spurious wakeups, such as single-stepping in the debugger.
	[oster, ticket #885]

distrib/notes/sparc64/prep			1.12

	Add a comment about that "Fast Data MMU Miss" may indicate a needed 
	OBP upgrade. 
	[hubertf, ticket #886]

sys/sys/param.h					patch+1.201

	Add addition of __NetBSD_Prereq__() macro to reflect reality at 
	release time.
	[christos, ticket #887]

sys/netinet/fil.c				1.69-1.70+patch

	Do not allow packets flagged with "out-of-window" (oow) to match 
	"keep state" rules and try to prevent such rules 
	("keep state with oow") from being loaded into the kernel. PR#26581
	[jdolecek, ticket #888]

sys/nfs/nfs_subs.c				1.137

	nfs_enterdircache: initialize dc_flags of a newly allocated dircache 
	entry.
	[yamt, ticket #889]
