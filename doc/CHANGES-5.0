# $NetBSD: CHANGES-5.0,v 1.1.2.125 2009/04/03 18:04:06 snj Exp $

A complete list of changes from the initial NetBSD 5.0 branch on October 2008
until the 5.0 release:

gnu/usr.bin/groff/tmac/mdoc.local		patched by hand
sys/sys/param.h					patched by hand

	Welcome to 5.0_BETA!

sys/arch/arm/gemini/obio_wdt.c			1.2
distrib/evbarm/instkernel/instkernel/Makefile	1.14
distrib/evbarm/gzboot/gzimg/Makefile		1.20

	Register gemini watchdog with sysmon_wdog_register and rip out some
	debugging code.  Create gemini instkernel and gzimg.	
	[cliff, ticket #2]

etc/etc.cobalt/MAKEDEV.conf			1.10

	Create bpf(4) device node on ramdisk for sysinst.
	[tsutsui, ticket #4]

sys/kern/vfs_dirhash.c				1.5-1.8

	Clean up dirhash and use hash32_strn(). Remove old KASSERTS that
	were commented out. Protect the dirhash_queue when purging hashed
	directories in memory overflow situations. Clarify the dirhash
	locking protocol and remove unnessiary #ifdef DEBUG flag.
	[reinoud, ticket #5]

etc/etc.amd64/MAKEDEV.conf			1.13-1.15
etc/etc.i386/MAKEDEV.conf			1.17-1.19

	Create 4 Xen disks by default and all three Xen devices to make it
	usable out-of-the-box.  Create 8 dk instances by default, since GPT
	autodiscovery is enabled.
	[joerg, ticket #3]

sys/fs/udf/udf_strat_rmw.c			1.10

	Explicitly set buffer's block numbers. Blocks were always read/written
	correctly only the sheduling could go less than optimal.
	[reinoud, ticket #6]

external/mit/xorg/lib/Makefile			1.5

	Move libXft down in the hierarchy, because it depends on libXrandr.
	[cube, ticket #7]

sys/fs/udf/udf_strat_rmw.c			1.11

	Introduce an extra state to wich all pushed ecclines are pushed
	on.  This extra state has a holding time in wich no writeouts will
	be done effectively collecting more sectors before its even scheduled
	for writing.  Significantly boosts write performance.
	[reinoud, ticket #8]

sys/miscfs/genfs/genfs_io.c			1.14
sys/nfs/nfs_bio.c				1.180
sys/uvm/uvm_extern.h				1.149

	- allocate 8 pointers on the stack to avoid stack overflow in nfs.
	- make that 8 a constant
	- remove bogus panic
	Fixes PR kern/39777. 
	[tron, ticket #9]

dist/file/src/apprentice.c			1.20

	Fix build of file when cross-compiling on Solaris.
	[hubertf, ticket #11]

usr.sbin/mmcformat/mmcformat.8			1.2

	Fix manpage; it showed option -i where it had to be -I
	[reinoud, ticket #12]

sys/arch/atari/dev/clock.c			1.42

	Move tc_init(&clk_timecounter) to stop the "timecounter:" message
	appearing in the middle of the clock0 attach message.
	[abs, ticket #13]

sys/arch/atari/dev/md_root.c			1.26

	Use brelse() to unbusy bp buffer to allow user to swap floppy
	disks when prompted.
	[abs, ticket #14]

sys/dev/sysmon/sysmon_envsys_events.c		1.59-1.60

	Restore previous behavior concerning CRITICAL events.  Send an
	event whenever state enters or exits CRITICAL, or whenever value
	of sensor changes while the state is CRITICAL.
	[pgoyette, ticket #15]

external/mit/xorg/lib/libXaw7/Makefile		1.4

	Add necessary defines (-DXAW7).
	[cube, ticket #16]

sys/arch/x86/include/ipmivar.h			1.9
sys/arch/x86/x86/ipmi.c				1.22-1.25

	Initialize the sc_dev.dv_xname in ipmi_match, which is enough to
	make DEVNAME work. Finally this also allows the device_t/softc
	split. If ipmi failed to attach we would crash because we would
	end up using callouts while cold. If cold, wait 10 times longer,
	and if we spinout fail instead of trying to poll.
	[cegger, ticket #10]

distrib/amd64/ramdisks/ramdisk/list		1.8
distrib/i386/ramdisks/common/list.ramdisk	1.8
etc/etc.amd64/MAKEDEV.conf			1.16
etc/etc.i386/MAKEDEV.conf			1.20
sys/arch/i386/conf/INSTALL_FLOPPY		1.2

	Make x86 installation use tmpfs and stop distinguishing MAKEDEV
	init and MAKEDEV all.
	[joerg, ticket #18]

sys/arch/atari/conf/GENERIC.in			1.74
sys/arch/atari/conf/README			1.3
sys/arch/atari/conf/ATARITT			regen
sys/arch/atari/conf/BOOT			regen
sys/arch/atari/conf/HADES			regen
sys/arch/atari/conf/BOOTX			regen
sys/arch/atari/conf/FALCON			regen
sys/arch/atari/conf/MILAN-ISAIDE		regen
sys/arch/atari/conf/MILAN-PCIIDE		regen

	Add a note that SERCONSOLE breaks on the Falcon, and remove from
	FALCON config.
	[abs, ticket #19]

compat/libexec/ld.elf_so/Makefile		1.2
distrib/sets/lists/base/md.i386			1.129-1.130
distrib/sets/lists/comp/md.i386			1.107-1.108
distrib/sets/lists/base/md.amd64		1.26
distrib/sets/lists/base/md.sparc64		1.24
distrib/sets/lists/comp/md.amd64		1.40
distrib/sets/lists/comp/md.sparc64		1.38
distrib/sets/lists/base/ad.arm			1.10
distrib/sets/lists/base/md.shark		1.7
distrib/sets/lists/base/md.sparc		1.75
distrib/sets/lists/base/md.vax			1.26
distrib/sets/lists/comp/ad.arm			1.31
distrib/sets/lists/comp/md.pmax			1.59
distrib/sets/lists/comp/md.shark		1.13
distrib/sets/lists/comp/md.sparc		1.68
distrib/sets/lists/comp/md.vax			1.35
libexec/ld.aout_so/Makefile			1.46
sbin/ldconfig/Makefile				1.22

	Make MKPIC=no builds work on i368, shark, vax, pmax, sgimips,
	sparc, maybe all mips and all arm as well.
	[mrg, ticket #20]

sys/kern/kern_cpu.c				1.38

	cpuctl_ioctl: use cpu_index(), instead of cpuid.  Fixes cpuctl(8)
	on machines where the cpu's apic id are different from their
	device unit.
	[cegger, ticket #21]

external/mit/xorg/lib/Makefile			1.6
external/mit/xorg/lib/libOSMesa/Makefile	1.3
external/mit/xorg/lib/libXScrnSaver/Makefile	1.4
external/mit/xorg/lib/libXcomposite/Makefile	1.4
external/mit/xorg/lib/libXdamage/Makefile	1.3
external/mit/xorg/lib/libXevie/Makefile		1.4
external/mit/xorg/lib/libXfixes/Makefile	1.4
external/mit/xorg/lib/libXfont/Makefile		1.4
external/mit/xorg/lib/libXft/Makefile		1.5
external/mit/xorg/lib/libXinerama/Makefile	1.4
external/mit/xorg/lib/libXprintAppUtil/Makefile	1.3
external/mit/xorg/lib/libXprintUtil/Makefile	1.3
external/mit/xorg/lib/libXres/Makefile		1.7
external/mit/xorg/lib/libXvMC/Makefile		1.3
external/mit/xorg/lib/libXxf86dga/Makefile	1.3
external/mit/xorg/lib/libXxf86misc/Makefile	1.4
external/mit/xorg/lib/libXxf86vm/Makefile	1.4
external/mit/xorg/lib/liblbxutil/Makefile	1.4
external/mit/xorg/lib/libxkbfile/Makefile	1.3
external/mit/xorg/lib/libxkbui/Makefile		1.3
external/mit/xorg/lib/pixman/Makefile		1.7

	Add missing LIBDPLIBS, found by using 'LDFLAGS += -Wl,-z,defs' and
	sort src/external/mit/xorg/lib/Makefile to match the new order.
	[veego, ticket #22]

lib/libc/arch/sparc/sys/brk.S			1.15

	Redo rev.1.13.  We must refer to CURBRK via GOT in case of PIC.
	[nakayama, ticket #23]

sys/dev/fss.c					1.61

	fss_bs_thread: initialize b_error and b_resid.
	Before it was possible for fss reads to return bogus b_resid values
	leading to "delta > 0" panics from physio().
	[hannken, ticket #24]

external/mit/xorg/lib/dri/Makefile		1.3

	don't build dri drivers on shark
	[macallan, ticket #32]

external/mit/xorg/lib/dri/Makefile		1.4

	Just some nits:
	- test for macppc, not powerpc when building DRI drivers for mac
	- fix a typo in the shark branch
	- don't build DRI drivers on ibmnws either
	[macallan, ticket #26]

xsrc/external/mit/xorg-server/dist/hw/xfree86/os-support/bsd/ppc_video.c 1.4

	Add ARM support.
	[macallan, ticket #27]

distrib/sets/lists/xserver/md.shark		1.23

	Sync list with reality.
	[macallan, ticket #28]

external/mit/xorg/server/drivers/Makefile	1.19

	build only chips and wsfb drivers on shark
	[macallan, ticket #29]

external/mit/xorg/server/drivers/xf86-video-wsfb/Makefile 1.3

	include hw cursor support
	[macallan, ticket #30]

xsrc/external/mit/xf86-video-wsfb/dist/src/wsfb.h	1.1
xsrc/external/mit/xf86-video-wsfb/dist/src/wsfb_cursor.c 1.1
xsrc/external/mit/xf86-video-wsfb/dist/src/wsfb_driver.c 1.2

	Add hw cursor support and unbork shadow fb support.
	[macallan, ticket #31]

distrib/sets/lists/base/mi			1.781
external/intel-fw-public/ipw3945/Makefile	1.2
external/intel-fw-public/ipw3945/dist/ipw3945.ucode removed
external/intel-fw-public/ipw3945/dist/iwlwifi-3945.ucode iwlwifi-3945-ucode-2-14-4
external/intel-fw-public/ipw3945/dist/LICENSE.ipw3945-ucode removed
external/intel-fw-public/ipw3945/dist/LICENSE.iwlwifi-3945-ucode iwlwifi-3945-ucode-2-14-4
external/intel-fw-public/ipw3945/dist/README.ipw3945-ucode removed
external/intel-fw-public/ipw3945/dist/README.iwlwifi-3945-ucode iwlwifi-3945-ucode-2-14-4
share/man/man4/ipw.4				1.3, 1.4
share/man/man4/iwi.4				1.11, 1.12, 1.13
share/man/man4/iwn.4				1.3, 1.4
share/man/man4/wpi.4				1.7, 1.8
sys/dev/pci/if_ipw.c				1.44
sys/dev/pci/if_ipwvar.h				1.14
sys/dev/pci/if_iwi.c				1.76
sys/dev/pci/if_iwn.c				1.26

	(a) Sync man pages with sysctl and the included firmware images.
	(b) Make sure the drivers use the upstream image names, not the mangled
	ones from pkgsrc.
	(c) Use the second generation firmware for wpi(4).
	[joerg, ticket #25]

distrib/sets/lists/xcomp/mi			1.72, 1.73

	Fix MKDEBUG=yes for MKXORG=yes.
	[rtr, ticket #33]

usr.bin/stat/stat.1				1.25

	Be consistent: document the birthtime field of struct stat for
	the "B" field specifier.
	[reed, ticket #34]

etc/etc.atari/MAKEDEV.conf			1.8

	The NetBSD/atari installer can use md2a as a root device, so ensure
	the 'floppy' target creates md2
	[abs, ticket #35]

doc/CHANGES					patch

	Correct description of NSP2000 driver.  It didn't come from the
	public FreeBSD sources, it was generously contributed by its owner,
	NBMK Encryption Technologies, Inc.      
	[tls, ticket #36]

gnu/usr.bin/groff/tmac/mdoc.local		1.46 via patch
distrib/sets/lists/man/mi			1.1110, 1.1111
share/man/man4/nsp.4				1.1, 1.2
sys/dev/pci/n8/helper.c				1.2

	- Add nsp(4) manpage.
	- Remove include of useless i386/include/clock.h which broke builds
	on other architectures.
	[tls, ticket #37]

usr.bin/make/util.c				1.46

	Don't use putenv() because it is not portable.  Fixes crossbuild
	on Solaris.
	[cube, ticket #38]

sys/dev/pci/if_iwi.c				1.77

	Fix typo in firmware name.
	[joerg, ticket #43]

sys/arch/xen/xen/evtchn.c			1.40

	evtchn_do_event(): Avoid KASSERT(iplbit !=0).
	[bouyer, ticket #39]

external/mit/xorg/bin/xdm/config/Makefile	1.3

	- Define CPPSCRIPTFLAGS_Xsession, fixing a broken Xsession file
	- Use -DXPM for xdm-config too
	- Move DEFAULTVT up before CPPSCRIPTS, so the later is in one block.
	[veego, ticket #40]

share/man/man4/acpitz.4				1.9
sys/dev/acpi/acpi_tz.c				1.38, 1.39

	- Temp sensor should report a critical-overtemp condition
	(ENVSYS_SCRITOVER) not a simple critical (ENVSYS_SCRITICAL)
	condition.  
	- Leave the task of displaying sensor states to envsys_sysmon()
	unless we are in debug mode.
	[pgoyette, ticket #41]

sys/dev/pci/ixpide.c				1.14

	Implement powersave for ixpide(4).
	[reinoud, ticket #42]

etc/root/dot.cshrc				patch
etc/root/dot.profile				patch

	Add commented out example of PKG_PATH to make using binary
	packages easier.
	[joerg, ticket #45]

lib/libc/gen/sysctl.3				1.195
share/man/man4/options.4			1.370
share/man/man5/rc.conf.5			1.121
sbin/init/init.8				1.54, 1.55
sbin/sysctl/sysctl.8				1.159

	Reference secmodel_securelevel(9) manual page.
	Add some details about init's role with securelevel.
	Add references to other manual pages for more details.
	[reed, ticket #46]

include/sched.h					1.11 
lib/libc/sys/sched.c         			1.2
lib/librt/sched.3				1.6

	Add sched_getaffinity_np() and sched_setaffinity_np() wrappers,
	mainly for compatibility purposes.
	[rmind, ticket #47]

sys/arch/x86/x86/cpu.c				1.58
sys/arch/xen/x86/cpu.c				1.29
sys/kern/kern_cpu.c				1.37
sys/kern/sys_sched.c				1.31
sys/sys/cpu.h					1.24

	- Avoid the race with CPU online/offline state changes, when
	  setting the affinity (cpu_lock protects these operations now).
	- Disallow setting of state of CPU to to offline, if there are
	  bound LWPs, which have no CPU to migrate.
	- Disallow setting of affinity for the LWP(s), if all CPUs in the
	  dynamic CPU-set are offline.
	- sched_setaffinity: fix invalid check of kcpuset_isset().
	- Rename cpu_setonline() to cpu_setstate().
	Should fix PR/39349.
	[rmind, ticket #48]

sys/dev/sysmon/sysmon_envsys_events.c		1.61, 1.62

	Initialize event's "previous sent state" based on the event monitor
	type, regardless of sensor type.  Fixes spurious "device: normal
	state on 'sensor-name' messages which interfere with sysinst.          
	[tls, ticket #49]

sys/arch/x86/x86/intel_busclock.c		1.6

	Add support for enhanced speedstep on Intel Atom CPUs
	[jmcneill, ticket #52]

etc/MAKEDEV.tmpl				1.115

	Fix generation of /dev/videoN devices in 'all' target.
	[jmcneill, ticket #53]


sys/dev/pci/azalia_codec.c			1.72

	Add support for Realtek ALC269 as found in Eee PC 1000HA.
	[jmcneill, ticket #54]

sys/arch/xen/xen/evtchn.c			1.41

	Remove a debug printf(). It will call splx(), which may panic
	in spllowwer() on KASSERT(psl == 0);
	[bouyer, ticket #55]

sys/netinet/tcp_timer.c				1.83

	Fix kern/39769: race condition in TCP timers.
	[bouyer, ticket #56]

sys/dev/pci/if_bge.c				1.154

	PR kern/39608: bge(4) constant freeze on BCM5906M.
	Correct DMA values.
	[cegger, ticket #44]

share/man/man8/man8.cobalt/boot.8		1.3-1.6

	Sync with reality.
	[tsutsui, ticket #57]

sys/dev/pci/if_iwn.c				1.23, 1.24

	* Disable aborting the scan for the moment - it causes a firmware
	error if a scan was never initiated which breaks WEP and open
	wireless connections
	* Make sure the ESSID is cleared.
	* Move init of essid to the attach code.
	[blymn, ticket #58]

etc/etc.cobalt/MAKEDEV.conf			1.11, 1.12

	Create audio and USB devices on all_md target.
	[tsutsui, ticket #59]

distrib/amd64/floppies/common/Makefile.bootfloppy 1.10
distrib/common/Makefile.tarfloppy		1.14
distrib/i386/floppies/common/Makefile.bootfloppy 1.22

	Avoid full path to boot.cfg file when building amd64 boot floppy
	and share code with i386.
	[tsutsui, ticket #60]

sys/arch/sun3/dev/fd.c				1.67

	Make this compile with options DIAGNOSTIC.
	[tsutsui, ticket #61]

BUILDING					1.79, 1.81
Makefile					1.263
distrib/sets/Makefile				1.64
distrib/sets/sets.subr				1.72, 1.73
doc/BUILDING.mdoc				1.68, 1.70
etc/Makefile					1.360
external/mit/xorg/server/Makefile		1.5
share/man/man5/mk.conf.5			1.42, 1.46
share/mk/bsd.README				1.237, 1.238, 1.242
share/mk/bsd.own.mk				1.544, 1.550
share/mk/bsd.x11.mk				1.71
usr.bin/ssh/Makefile.inc			1.18

	Switch to Xorg on amd64, i386, macppc, shark and sparc64.
	[mrg, ticket #64]

sys/dev/pci/if_wpi.c				1.41
sys/dev/pci/if_wpivar.h				1.13

	Cache wpi firmware in memory, free it only on invalid content or
	when the last user is detached. This stops wpi from accessing the
	disk on resume.
	[joerg, ticket #62]

share/man/man4/vlan.4				1.30

	Add etherip to the list of interfaces supporting ETHER_VLAN_MTU.
	[bouyer, ticket #63]

sys/kern/subr_pool.c				1.171

	Avoid recursive mutex_enter() when the system is low on KVA.
	[ad, ticket #72]

sys/arch/amd64/amd64/fpu.c			1.27
sys/arch/amd64/amd64/ipifuncs.c			1.20
sys/arch/i386/i386/ipifuncs.c			1.28
sys/arch/i386/isa/npx.c				1.130
sys/arch/x86/include/intrdefs.h			1.14

	PR port-amd64/38293 panic: fp_save ipi didn't
	Kill the FP flush IPI and always save. The synchronization here
        isn't strong and we could easily pull the chain on an innocent
        LWP's FP state.
	[ad, ticket #73]

sys/arch/amd64/amd64/fpu.c			1.28
sys/arch/amd64/amd64/genassym.cf		1.38
sys/arch/amd64/amd64/locore.S			1.48
sys/arch/amd64/amd64/machdep.c			1.104
sys/arch/i386/i386/autoconf.c			1.93
sys/arch/i386/i386/genassym.cf			1.77
sys/arch/i386/i386/locore.S			1.79
sys/arch/i386/i386/machdep.c			1.646
sys/arch/i386/isa/npx.c				1.131

	PR port-amd64/38293 panic: fp_save ipi didn't
	Fix race conditions in FPU IPI handling.
	[ad, ticket #74]

sys/kern/kern_subr.c				1.195

	Acquire exec_lock where needed.  Addresses PR kern/39913.
	[ad, ticket #75]

sys/kern/vfs_lookup.c				1.111
sys/sys/namei.src				1.9
sys/sys/namei.h					regen

	Add a NOCHROOT flag for namei(). Looks outside any chroot and
        performs the lookup from the root directory if given an absolute
        path.
	[ad/tsutsui, ticket #76]

sys/arch/amd64/amd64/machdep.c			1.106, 1.107

	- introduce add_mem_cluster() as done in i386
	- apply rev. 1.480 from i386/i386/machdep.c: fixes PR 17199
	- apply rev. 1.492 from i386/i386/machdep.c: fixes PR 13399
	[cegger, ticket #51]

share/man/man4/options.4			patch
sys/arch/i386/conf/ALL				patch
sys/arch/i386/conf/GENERIC			patch
sys/arch/i386/conf/GENERIC_TINY			patch
sys/arch/i386/conf/INSTALL_FLOPPY		patch
sys/arch/i386/conf/INSTALL_TINY			patch
sys/arch/i386/conf/NET4501			patch
sys/arch/i386/conf/XBOX				patch
sys/arch/i386/conf/XEN2_DOM0			patch
sys/arch/i386/conf/XEN2_DOMU			patch
sys/arch/i386/conf/files.i386			patch
sys/arch/i386/include/segments.h		patch

	Add i386-specific COMPAT_30_PTHREAD option (enabled where
        COMPAT_30 is enabled), which restore binary compatibility
	with netbsd-3 libpthread.
	[bouyer, ticket #65]

sys/dev/wscons/wsdisplay.c			1.123

	In wsdisplay_kbdholdscreen(), just return if sc->sc_focus is
	NULL.  Avoids a crash.
	[he, ticket #68]

etc/rc.d/wpa_supplicant				1.2

	Add a 'reload' option.
	[abs, ticket #69]

sys/arch/sparc/dev/zs.c				1.112

	PR port-sparc/39942: ifdef ch0_is_cons declaration and all
	uses consistently.
	[martin, ticket #77]

sys/kern/kern_exec.c				patch

	Expose exec_lock for the changes in ticket #75.
	[ad, ticket #83]

distrib/sets/lists/comp/mi			1.1204 via patch
distrib/sets/lists/xcomp/mi:			1.74-1.75 via patch

	Move all the xorg/x11 linty stuff from comp to xcomp.
	[abs, ticket #85]

xsrc/external/mit/xorg-server/dist/hw/xfree86/os-support/bsd/bsdResource.c 1.5

	add __mips__
	[macallan, ticket #86]

xsrc/external/mit/MesaGLUT/dist/include/GL/glut.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/include/GL/glutf90.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/Makefile MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/beos_x11.cpp MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/beos_x11.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glutBlocker.cpp MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glutBlocker.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glutCallback.cpp MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glutColor.cpp MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glutCursor.cpp MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glutCursors.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glutDstr.cpp MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glutEvent.cpp MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glutGet.cpp MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glutInit.cpp MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glutMenu.cpp MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glutMenu.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glutOverlay.cpp MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glutState.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glutWindow.cpp MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glutWindow.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glut_8x13.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glut_9x15.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glut_bitmap.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glut_bwidth.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glut_ext.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glut_hel10.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glut_hel12.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glut_hel18.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glut_mroman.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glut_roman.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glut_shapes.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glut_stroke.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glut_swidth.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glut_teapot.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glut_tr10.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glut_tr24.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glut_util.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glut_vidresize.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glutbitmap.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glutint.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glutstroke.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/Makefile MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/NOTES MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/callback.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/color.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/cursor.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/cursors.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/events.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/ext.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/font.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/font.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/game.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/globals.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/init.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/internal.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/menu.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/models.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/overlay.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/state.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/teapot.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/window.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/Makefile.DJ MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/PC_HW/pc_hw.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/PC_HW/pc_hw.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/PC_HW/pc_irq.S MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/PC_HW/pc_keyb.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/PC_HW/pc_mouse.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/PC_HW/pc_timer.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/bitmap.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/callback.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/color.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/extens.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/f8x13.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/f9x15.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/hel10.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/hel12.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/hel18.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/init.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/internal.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/loop.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/menu.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/mouse.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/mroman.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/overlay.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/roman.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/shapes.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/state.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/stroke.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/teapot.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/tr10.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/tr24.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/util.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/window.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/fbdev/Makefile MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/fbdev/bitmap.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/fbdev/callback.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/fbdev/colormap.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/fbdev/cursor.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/fbdev/cursors.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/fbdev/ext.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/fbdev/fbdev.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/fbdev/gamemode.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/fbdev/input.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/fbdev/internal.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/fbdev/menu.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/fbdev/overlay.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/fbdev/state.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/fbdev/stroke.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/fbdev/vidresize.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/ggi/Makefile MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/ggi/debug.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/ggi/ggiglut.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/Makefile MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/Makefile.cygnus MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/Makefile.mgw MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/Makefile.sgi MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/Makefile.win MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/capturexfont.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/depend MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/descrip.mms MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/fxglut.def MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut.def MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut.pc.in MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_8x13.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_9x15.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_bitmap.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_bwidth.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_cindex.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_cmap.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_cursor.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_dials.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_dstr.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_event.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_ext.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_fcb.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_fullscrn.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_gamemode.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_get.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_glxext.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_hel10.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_hel12.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_hel18.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_init.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_input.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_joy.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_key.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_keyctrl.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_keyup.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_menu.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_menu2.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_mesa.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_modifier.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_mroman.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_overlay.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_roman.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_shapes.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_space.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_stroke.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_swap.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_swidth.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_tablet.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_teapot.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_tr10.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_tr24.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_util.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_vidresize.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_warp.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_win.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_winmisc.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glutbitmap.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glutint.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glutstroke.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glutwin32.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/layerutil.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/layerutil.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/mms_depend MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/stroke.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/win32_glx.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/win32_glx.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/win32_menu.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/win32_util.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/win32_winproc.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/win32_x11.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/win32_x11.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/mini/bitmap.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/mini/callback.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/mini/color.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/mini/globals.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/mini/glut.pc.in MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/mini/init.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/mini/internal.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/mini/menu.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/mini/models.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/mini/overlay.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/mini/state.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/mini/teapot.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/mini/window.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/windows/VC6/progs/glut/glut.dsp MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/windows/VC7/progs/glut/glut.vcproj MesaGLUT-7-0-3
distrib/sets/lists/xbase/shl.elf		1.19
distrib/sets/lists/xbase/shl.mi			1.24
distrib/sets/lists/xcomp/mi			1.76
distrib/sets/lists/xcomp/shl.mi			1.11
external/mit/xorg/lib/Makefile			1.7
external/mit/xorg/lib/libglut/Makefile		1.1
external/mit/xorg/lib/libglut/shlib_version	1.1
share/mk/bsd.own.mk				1.546

	Add MesaGLUT and reachover glue.
	[cube, ticket #79]

xsrc/external/mit/twm/dist/src/deftwmrc.c	delete
xsrc/external/mit/twm/dist/src/gram.c		delete
xsrc/external/mit/twm/dist/src/gram.h		delete
xsrc/external/mit/twm/dist/src/lex.c		delete

	Remove generated files that should not have been here.
	This fixes twm's config file parser.
	[cube, ticket #87]

xsrc/external/mit/xfs/include/xfs-config.h	1.2
external/mit/xorg/bin/xfs/Makefile		1.3

	Fix DEFAULT_CONFIG_FILE for xfs.
	[hans, ticket #88]

sys/net/if_etherip.c				1.23, 1.24
sys/net/if_tap.c				1.48, 1.49

	Allow etherip and tap to suspend/resume.
	[hans, ticket #89]

sys/dev/pci/pci.c				1.120

	Do not depend on physmem for pci_dma64_available(). On some systems
	(e.g. Xen, or any system with non-contigous physical memory),
	physmem may not represent the hightest physical address available.
	[bouyer, ticket #66]

sys/dev/ata/ata.c				1.102
sys/dev/ata/ata_wdc.c				1.91
sys/dev/ata/atavar.h				1.78
sys/dev/ic/wdc.c				1.256
sys/dev/scsipi/atapi_wdc.c			1.109

	cpu_intr_p() doesn't account for software interrupts (e.g.
	callouts) so we can't use it here. Rssurect ATACH_TH_RUN.
	Should fix kern/39927 and kern/39725.
	[bouyer, ticket #67]

sys/arch/i386/conf/NET4501			1.64

	Add pppoe, tap, ppp, gre to the NET4501 config file.
	[is, ticket #70]

sys/dev/scsipi/st.c				1.208

	If we return an error make sure we don't return a b_resid of 0;
	or this will trigger a KASSERT in physio_done().
	[bouyer, ticket #78]

sys/dev/pcmcia/aic_pcmcia.c			patch
doc/HACKS					patch

	Work around rbus resource allocation problem so aic PCMCIA
	cards work again.
	[jnemeth, ticket #80]

sys/compat/linux/arch/alpha/syscalls.master	1.63
sys/compat/linux/arch/amd64/syscalls.master	1.25
sys/compat/linux/arch/arm/syscalls.master	1.36
sys/compat/linux/arch/i386/syscalls.master	1.94
sys/compat/linux/arch/m68k/syscalls.master	1.63
sys/compat/linux/arch/mips/syscalls.master	1.30
sys/compat/linux/arch/powerpc/syscalls.master	1.38
sys/compat/linux/common/linux_time.c		1.26
sys/compat/linux32/arch/amd64/syscalls.master	1.39
sys/compat/linux32/common/linux32_time.c	1.22
sys/compat/linux/arch/alpha/linux_syscall.h	regen
sys/compat/linux/arch/alpha/linux_syscallargs.h regen
sys/compat/linux/arch/alpha/linux_syscalls.c	regen
sys/compat/linux/arch/alpha/linux_sysent.c	regen
sys/compat/linux/arch/amd64/linux_syscall.h	regen
sys/compat/linux/arch/amd64/linux_syscallargs.h	regen
sys/compat/linux/arch/amd64/linux_syscalls.c	regen
sys/compat/linux/arch/amd64/linux_sysent.c	regen
sys/compat/linux/arch/arm/linux_syscall.h	regen
sys/compat/linux/arch/arm/linux_syscallargs.h	regen
sys/compat/linux/arch/arm/linux_syscallc.	regen
sys/compat/linux/arch/arm/linux_sysent.c	regen
sys/compat/linux/arch/i386/linux_syscall.h	regen
sys/compat/linux/arch/i386/linux_syscallargs.h	regen
sys/compat/linux/arch/i386/linux_syscalls.c	regen
sys/compat/linux/arch/i386/linux_sysent.c	regen
sys/compat/linux/arch/m68k/linux_syscall.h	regen
sys/compat/linux/arch/m68k/linux_syscallargs.h	regen
sys/compat/linux/arch/m68k/linux_syscalls.c	regen
sys/compat/linux/arch/m68k/linux_sysent.c	regen
sys/compat/linux/arch/mips/linux_syscall.h	regen
sys/compat/linux/arch/mips/linux_syscallargs.h	regen
sys/compat/linux/arch/mips/linux_syscalls.c	regen
sys/compat/linux/arch/mips/linux_sysent.c	regen
sys/compat/linux/arch/powerpc/linux_syscall.h	regen
sys/compat/linux/arch/powerpc/linux_syscallargs.h regen
sys/compat/linux/arch/powerpc/linux_syscalls.c	regen
sys/compat/linux/arch/powerpc/linux_sysent.c	regen
sys/compat/linux32/arch/amd64/linux32_syscall.h	regen
sys/compat/linux32/arch/amd64/linux32_syscallargs.h regen
sys/compat/linux32/arch/amd64/linux32_syscalls.c regen
sys/compat/linux32/arch/amd64/linux32_sysent.c	regen

	Fix nanosleep(2) on 64-bit archs. Do not call native nanosleep
	syscall, but rather a modified version the will take care of
	`struct timespec' conversions.
	[njoly, ticket #81]

sys/dev/i2c/dbcool.c				1.6

	PR/39947: dbcool_detach implicitly called sysmon_envsys_destroy()
	twice.
	[jnemeth, ticket #82]

sys/dev/pci/if_msk.c				1.22
sys/dev/pci/if_skreg.h				1.13

	Fix Yukon EC Ultra cold power up issue (system hang at boot).
	Also increases stability.
	[chris, ticket #84]

sys/dev/acpi/thinkpad_acpi.c			1.17

	Make this driver work (except for setting display brightness)
	on older machines.
	[hans, ticket #90]

sys/dev/acpi/atppc_acpi.c			1.15

	Initialize sc->sc_dev before using it, and use it as argument
	for the interrupt handler. Makes this work again.
	[hans, ticket #91]

sys/opencrypto/crypto.c				1.30
sys/opencrypto/cryptodev.c			1.45
sys/opencrypto/cryptodev.h			1.15
sys/sys/queue.h					1.50

	Fix a race condition in opencrypto that lead to several panics.
	Add a macro for TAILQ_FOREACH_REVERSE_SAFE() to queue.h.
	[darran, ticket #92]

sys/compat/osf1/osf1_exec_ecoff.c		1.21

	Do not call namei anymore, but use the result from the previous
	emul_find_interp call instead. This makes dynamic executables work
	again under compat OSF1 (fixes PR/39255).
	[njoly, ticket #93]

sys/arch/x86/x86/ipmi.c				1.26

	Fix sloppy device_private conversion that prevented systems with
	IPMI from booting.
	[ad, ticket #94]

etc/man.conf					1.23

	Also search /usr/X11R7, and do it before X11R6
	[cube, ticket #95]

etc/login.conf					1.3
etc/root/dot.cshrc				1.19
etc/root/dot.profile				1.20
etc/skel/dot.cshrc				1.4
etc/skel/dot.profile				1.5

	Sprinkle /usr/X11R7 where relevant.
	[cube, ticket #96]

sys/dev/vnd.c					1.189

	Check that vnd is not NULL before using it, return ENXIO if
	it is.  Avoids a panic when vnconfig -uF is used on a busy vnd.
	[bouyer, ticket #97]

sys/arch/amd64/amd64/fpu.c			1.29
sys/arch/amd64/amd64/machdep.c			1.105
sys/arch/i386/i386/machdep.c			1.647
sys/arch/i386/isa/npx.c				1.132

	PR port-i386/39299: FPU use in signal handlers is unsafe.
	[ad, ticket #71]

share/man/man4/amdtemp.4			1.2-1.4

	Man page cleanup.  Addresses PR/39958.
	[jnemeth, ticket #98]

sys/dev/ata/sata_subr.c				1.12

	SATA GEN3 speed is 6.0Gb/s.
	[cegger, ticket #99]

sys/compat/netbsd32/netbsd32_netbsd.c		1.148
sys/compat/netbsd32/netbsd32_sa.c		1.8

	Make it possible to compile a kernel with COMPAT_NETBSD32 but
	without COMPAT_40. This fixes PR port-amd64/39967.
	[tron, ticket #100]

sys/arch/vax/uba/uba_common.h			1.6
sys/arch/vax/uba/uba_sbi.c			1.25

	Fix Unibus support on VAX 11/780 and 8600 models.
	[hans, ticket #101]

sys/arch/vax/vax/machdep.c			1.170
sys/arch/vax/vax/sbi.c				1.34

	Fix build for kernel configs lacking KA46, KA48, KA49 and KA53
	support.  Fix build for 11/780-only kernel configs.
	[hans, ticket #102]

sys/dev/usb/uplcom.c				1.67
sys/dev/usb/usbdevs				1.520
sys/dev/usb/usbdev.h				regen
sys/dev/usb/usbdev_data.h			regen

	PR/39971: Recognize Corega CG-USBRS232R as a serial device.
	[jnemeth, ticket #103]

gnu/dist/gcc4/gcc/config/m68k/m68k.c		1.4
gnu/dist/gcc4/gcc/config/m68k/m68k.md		1.8
gnu/dist/gcc4/gcc/version.c			1.17

	Fix jump table addressing in the M68k codegen.
	[phx, ticket #104]

usr.sbin/cpuctl/cpuctl.c			1.11, 1.12

	Check ID against number of processors.  Fixes PR 39955.
	[cegger, ticket #105]

compat/lib/libcrypto_idea/Makefile		1.1
compat/lib/libcrypto_mdc2/Makefile		1.1
compat/lib/libcrypto_rc5/Makefile		1.1
distrib/sets/lists/comp/md.amd64		1.41
distrib/sets/lists/comp/md.sparc64		1.39

	Build 32bit compat libraries on amd64 and sparc64 for
	libcrypto_{idea,mdc2,rc5}.  Fixes PR lib/39846.
	[mlelstv, ticket #106]

sys/arch/sparc64/sparc64/pmap.c			1.226

	Fix DEBUG build of sparc64 non-MULTIPROCESSOR kernels.
	[spz, ticket #107]

external/mit/xorg/lib/expat/Makefile		1.2
external/mit/xorg/lib/expat/expat_config.h	1.1

	Unbreak expat by providing a proper configuration include for it.
	[cube, ticket #108]

usr.bin/fsplit/fsplit.c				1.26 via patch

	Two robustness fixes:
	   (1) make ridiculously small filename buffer larger;
	   (2) don't accidentally try to generate files with names
	       containing '/'.
	[dholland, ticket #112]

usr.bin/make/parse.c				1.149

	avoid using c99 struct named initializers because this is a host
	tool and needs to be compiled by a host compiler which might not
	be c99 compliant.
	[dsl, ticket #116]

usr.bin/make/parse.c				1.150

	intFile.fd should be initialised to -1, not 0.
	[dsl, ticket #117]

distrib/arc/instkernel/Makefile			1.11
distrib/arc/ramdisk/dot.profile			1.4
sys/arch/arc/conf/GENERIC			1.159
sys/arch/arc/conf/RAMDISK			1.76

	Use vt100 rather than wsvt25 for TERM since the latter makes
	both FG/BG colors white during sysinst on Express5800/230 with tga(4).
	Also, work around an ARC BIOS limitation.
	[tsutsui, ticket #109]

etc/MAKEDEV.tmpl				1.117

	Don't warn about missing MAKEDEV.local. It doesn't exist in some
	environments.
	[tsutsui, ticket #110]

sys/dev/cgd.c					1.54

	Allow cgd(4) to be backed by wedges. PR#38735
	[jakllsch, ticket #111]

bin/pax/tar.1					1.27

	"compatibility", not "compatability".
	[dholland, ticket #113]

bin/pax/options.c				1.102

	Don't pass strings from argv[] to free(). Fixes PR 39992.
	[dholland, ticket #114]

libexec/httpd/cgi-bozo.c			1.8

	Change the cgi index.html code to only run if you set the index.html
	name.  PR#38466
	[mrg, ticket #115]

sys/kern/kern_drvctl.c				1.20

	Add poll support for drvctl notification events.
	[jmcneill, ticket #118]

sys/netinet/ip_input.c				1.276

	ip_input: fix an IPQ "lock" leak.
	[rmind, ticket #119]

xsrc/external/mit/xorg-server/dist/hw/xfree86/os-support/bsd/bsd_init.c 1.2

	Add a log message to notify what VT is in use.  Helps gdm/consolekit.
	[jmcneill, ticket #120]

sys/compat/netbsd32/netbsd32.h			1.78
sys/compat/netbsd32/netbsd32_netbsd.c		1.149
sys/compat/netbsd32/syscalls.master		1.74
sys/compat/netbsd32/netbsd32_syscall.h		regen
sys/compat/netbsd32/netbsd32_syscallargs.h	regen
sys/compat/netbsd32/netbsd32_syscalls.c		regen
sys/compat/netbsd32/netbsd32_sysent.c		regen

	implement netbsd32__sched_setparam(), netbsd32__sched_getparam(),
	netbsd32__sched_setaffinity() and netbsd32__sched_getaffinity().
	[mrg, ticket #121]

distrib/sets/lists/xserver/md.netwinder		1.12
external/mit/xorg/lib/dri/Makefile		1.7 via patch
external/mit/xorg/server/drivers/Makefile	1.22

	* install only wsfb driver and manpages for netwinder
	* don't install client side dri modules for netwinder
	[rtr, ticket #122]

sys/arch/atari/conf/GENERIC.in			1.75, 1.76
sys/arch/atari/conf/ATARITT			regen
sys/arch/atari/conf/BOOT			regen
sys/arch/atari/conf/HADES			regen
sys/arch/atari/conf/BOOTX			regen
sys/arch/atari/conf/FALCON			regen
sys/arch/atari/conf/MILAN-ISAIDE		regen
sys/arch/atari/conf/MILAN-PCIIDE		regen

	* Enable 68060 support in FALCON & BOOTX kernels for CT60/63
	upgrades.
	* Drop KERNFS from INSTALL kernels. Drop 68040 support from
	ATARITT kernels. 
	* Increase min ST_POOL_SIZE from 22 to 24 to avoid out of ST memory
	issues.
	[abs, ticket #123]

lib/libc/arch/sparc64/sys/__sigaction14_sigtramp.c 1.8

	Properly use siginfo based signal delivery on sparc64 in all
	cases.  Previously calls to signal(3) would cause use of the
	legacy signal trampoline.
	[martin, ticket #124]

sys/arch/x86/acpi/acpi_wakeup.c			1.11
sys/dev/acpi/acpi_pci_link.c			1.14
sys/dev/acpi/acpivar.h				1.34

	On resum-from-RAM explicitly restore PCI link device state before
	reenabling interrupts.
	[joerg, ticket #125]

sys/arch/amd64/amd64/vector.S			1.29

	trap07: do NOT enable interrupts before calling fpudna or we could
	be preempted.
	[ad, ticket #126]

sys/arch/amd64/amd64/fpu.c			1.30

	fpudna: enable interrupts in an error path.
	[ad, ticket #127]

sys/arch/i386/isa/npx.c				1.133

	npxsave_cpu() set ci_fpused so that the FPU will be disabled on
	next context switch on Xen. Fix "npxintr: came from nowhere"
	kernel messages on Xen/i386.
	[bouyer, ticket #128]

sys/arch/i386/isa/npx.c				1.134

	npxdna(): even if there's no effective FPU context switch
	set ci_fpused; FPU will be used and needs to be switched on next
	context switch.  Fix "panic: npxintr: wrong process" with Xen.
	[bouyer, ticket #129]

usr.sbin/postinstall/postinstall		1.78

	Add scan obsolete minor shared libraries in /usr/X11R7/lib.
	Also scan in /usr/lib/i386 for amd64, /usr/lib/sparc for sparc64.
	[nakayama, ticket #130]

sys/arch/sparc64/include/db_machdep.h		1.26
sys/arch/sparc64/sparc64/db_disasm.c		1.15
sys/arch/sparc64/sparc64/db_interface.c		1.113
sys/arch/sparc64/sparc64/db_trace.c		1.41
sys/ddb/db_command.c				1.124

	Make DDB show the right register values on 32-bit sparc64 kernels.
	[nakayama, ticket #131]

usr.sbin/mmcformat/mmcformat.8			1.3

	mdoc fixes for mmcformat(8).
	[reinoud, ticket #134]

usr.sbin/mmcformat/mmcformat.8			1.4

	Wording fixes for mmcformat(8).
	[reinoud, ticket #132]

sys/fs/udf/udf_strat_rmw.c			1.12

	Relax the requirements of the pagingsize.
	[reinoud, ticket #133]

usr.bin/make/make.1				1.145, 1.146

	PR/40026: Document VPATH in make(1).
	[christos, ticket #135]

tools/awk/Makefile				1.2
dist/nawk/b.c					1.17
dist/nawk/proto.h				1.7

	Fix crossbuild on Solaris.
	[christos, ticket #136]

etc/MAKEDEV.tmpl				1.118

	Change the formula for tmpfs size. The per-inode memory usage is
	higher than old estimate on 64bit platforms and the resulting tmpfs
	wouldn't be able to hold the required number of devices.
	[joerg, ticket #137]

sys/dev/usb/ehci.c				1.155
sys/dev/usb/ehcireg.h				1.29

	Fixed high-speed isoc USB transfers, 64 bit capable host controllers
	have a different transfer descriptor to non-capable controllers.
	Added dma-sync of data buffer before scheduling transfers
	[jmorse, ticket #138]

sys/dev/usb/uvideo.c				1.22

	Modified uvideo_stream_init_desc to correctly calculate max
	packet size for high speed endpoints.
	[jmorse, ticket #139]

sys/kern/init_sysctl.c				1.151

	If the kauth call failed, we'd silently continue the loop, but
	the error code would remain and eventually "leak" to userspace.
	Reset the error to zero when continuing.
	Fix PR/40002: sockstat doesn't work for user with sysctl
	security.curtain=1
	[elad, ticket #140]

distrib/utils/libhack/getpwent.c		1.10

	Add cut-down getpwent_r() to join existing getpwent() and friends
	for ramdisks. This fixes PR 40003
	[sborrill, ticket #141]

xsrc/external/mit/libX11/dist/src/xlibi18n/XlcDL.c	1.2

	Do not special case locale names for sparc _LP64 machines -
	this probably is a Solaris'm not needed on NetBSD.
	Fixes PR xsrc/40046.
	[martin, ticket #142]

sys/dev/usb/uvideo.c				1.23

	Don't select an endpoint with a larger packet size than the
	maximum for the current video stream.
	[jmcneill, ticket #144]

usr.bin/rev/rev.1				1.7

	May have multiple files on command line.
	Fixed PR #40058.
	[reed, ticket #145]

lib/libkvm/kvm_proc.c				1.79

	check error case for kvm_getlwps or SIGSEGV occurs due to
	dereferecing a NULL pointer.
	return NULL if there are no threads or proceed further through
	all loops.  Fixes PR 40004. Ok rmind@
	[cegger, ticket #146]

sys/ufs/ext2fs/ext2fs_alloc.c			1.37
sys/ufs/ext2fs/ext2fs_bswap.c			1.14
sys/ufs/ext2fs/ext2fs_dinode.h			1.17
sys/ufs/ext2fs/ext2fs_lookup.c			1.56
sys/ufs/ext2fs/ext2fs_vfsops.c			1.140
sys/ufs/ext2fs/ext2fs_vnops.c			1.83
sys/ufs/ufs/inode.h				1.55

	Add support for 32 bit uid/gid fields in ext2.
	[mrg, ticket #147]

external/mit/xorg/server/xorg-server/hw/xfree86/utils/scanpci/Makefile 1.4

	Help scanpci find libscanpci.so.0.  Fixes PR#40050.
	[mrg, ticket #148]

usr.bin/uuencode/uuencode.1			1.17, 1.18
usr.bin/uuencode/uuencode.c			1.14
usr.bin/uudecode/uudecode.c			1.24

	Clarify man page with respect to input and output files, and sync
	usage messages.  Modernize usage example.  Fixes PR 40063.
	[dholland, ticket #149]

common/lib/libprop/prop_dictionary.c		1.33
common/lib/libprop/prop_number.c		1.20
common/lib/libprop/prop_object.c		1.23
common/lib/libprop/prop_object_impl.h		1.28

	Fix two race conditions in proplib.
	[haad, ticket #150]

external/mit/xorg/lib/dri/Makefile		1.6 via patch
external/mit/xorg/lib/dri/dri.mk		1.4
external/mit/xorg/lib/dri/libmesa/Makefile	1.1
external/mit/xorg/lib/libOSMesa/Makefile	1.4
external/mit/xorg/lib/libOSMesa/libmesa.mk	1.1, 1.2
share/mk/bsd.lib.mk				1.290
	
	Bring DRI modules closer to loading.
	[cube, ticket #151]

sys/altq/altq_subr.c				1.26, 1.27
sys/altq/altq_var.h				1.12

	Always use binuptime(9) and emulate 1GiHz counter.  Avoids
	MP-unsafe code and extra rescaling. Fixes PR kern/39835.
	[tsutsui, ticket #152]

distrib/sets/lists/comp/mi			1.1210-1.214
share/man/man9/Makefile				1.271-1.274
share/man/man9/microtime.9			1.13-1.15
share/man/man9/microuptime.9			1.2-1.8
share/man/man9/timecounter.9			1.3-1.6
share/man/man9/time_second.9			1.2-1.3
share/man/man9/tvtohz.9				1.1-1.2

	Documentation fixes for timecounters.
	[tsutsui, ticket #153]

usr.bin/uuencode/uuencode.1			1.19, 1.20

	Update SEE ALSO per PR 40071: compress -> gzip, add missing
	tar, comment out uucp because uucp was removed from base.
	[dholland, ticket #155]

share/man/man7/symlink.7			1.15

	Bump date for mjf's Dec 4 2007 commit that corrected the
	description of magiclinks and added @ruid.
	[dholland, ticket #156]

distrib/notes/sparc/prep			1.25
distrib/notes/sparc64/prep			1.13
share/man/man8/man8.sparc64/boot.8		1.15

	Mention root partition size limitations for booting certain
	sparc and sparc64 models.
	[jdc, ticket #159]

sys/arch/sparc64/sparc64/autoconf.c		1.159

	Fix boot device matching on U5/U10 machines to properly
	distinguish cd0 from wd0.
	[martin, ticket #157]

external/bsd/fetch/lib/Makefile			1.2

	Use ${HOST_SH} to ensure that the errlist.sh script is run
	under the correct shell while building libfetch.
	[apb, ticket #158]

distrib/notes/common/list-portmasters.pl	1.6
distrib/notes/common/list-setsizes.sh		1.5

	Hand over copyright to TNF.
	[hubertf, ticket #161]

share/mk/bsd.kmodule.mk				1.16

	Work around a bug in Solaris' shs (both /bin and /usr/xpg4/bin)
	where "for d in ; ..." results in a syntax error.
	[hubertf, ticket #162]

gnu/dist/binutils/bfd/archive.c			1.6

	sprintf to temporary buffer and memcpy, rather than sprintf directly
	into place; this avoids possible corruption and coredumping on systems
	that more aggressively bounds-check.
	[dogcow, ticket #163]

doc/HACKS					1.111 via patch
sbin/ifconfig/Makefile				1.39

	Specify -fno-loop-optimize on m68000 as workaround for gcc -O1
	codegen bug mentioned in PR bin/40036 and PR toolchain/40066.
	[tsutsui, ticket #164]

distrib/common/Makefile.bootcd			1.16

	Work around another bunch of places where Solaris' /usr/xpg4/bin/sh
	can't handle for-loops with no arguments ("for foo in") which result
	from empty make-variables.  Helps crossbuilding on Solaris 10.
	[hubertf, ticket #165]

external/mit/xorg/server/xorg-server/hw/xfree86/common/Makefile 1.7

	Use TOOL_AWK over hardcoded 'awk' - the latter is not good enough
	on Solaris.
	[hubertf, ticket #166]

sys/fs/udf/udf.h				1.28
sys/fs/udf/udf_strat_direct.c			1.6
sys/fs/udf/udf_strat_rmw.c			1.13
sys/fs/udf/udf_subr.c				1.74-1.76
sys/fs/udf/udf_vnops.c				1.32

	Significant performance increases for UDF.
	[reinoud, ticket #167]

Makefile					1.264
UPDATING					1.181
distrib/sets/lists/etc/mi			1.202
distrib/sets/lists/xetc/mi			1.11
etc/Makefile					1.362
etc/rc.d/Makefile				1.70
etc/rc.d/xdm					delete
etc/rc.d/xdm.in					1.1
etc/rc.d/xfs					delete
etc/rc.d/xfs.in					1.1
share/mk/bsd.prog.mk				1.240
share/mk/bsd.README				1.243
share/mk/bsd.files.mk				1.40
usr.sbin/postinstall/postinstall		1.79

	- Generate xdm and xfs depending on the value of X11FLAVOUR
	- Only generate and install them for MKX11 builds
	[cube, ticket #168]

sys/dev/pci/if_vge.c				1.43 via patch
	- ifconfig down support
	- ALTQ support
	[joerg, ticket #143]

sys/dev/pci/if_wm.c				1.163

	Fix '||' vs '&&' mix-up from when ich9 support was added.  Fixes nasty
	EEPROM-trashing bug on ich8 and ich9 chipsets as described in
	  http://mail-index.netbsd.org/current-users/2008/12/02/msg006435.html
	caused by setting the wrong type of EEPROM.
	[sketch, ticket #160]

sys/ufs/ffs/ffs_snapshot.c			1.87

	Make persistent snapshots work again.
	PR kern/37425: fss_snapshot_mount panic during fsck.
	[hannken, ticket #169]

sys/dev/pci/ahcisata_pci.c			1.13

	Force the nVidia nForce 630i MCP73 to attach to ahcisata(4) as well.
	It would otherwise attach to pciide(4) and use PIO mode.
        PR kern/40134.
	[tron, ticket #170]

xsrc/external/mit/xf86-video-mach64/dist/src/atiprobe.c 1.2

	Allow the mach64 driver to work on PowerMac G3s with onboard graphics.
	[macallan, ticket #171]

sys/arch/amiga/dev/clock.c			1.48

	Fix timecounters using interval timers.  Process cpu usage was
	returning negative or very large values.
	[mhitch, ticket #172]

sys/arch/x86/pci/amdtemp.c			1.5, 1.6

	Fix strange temperature values with AMD K8 RevG CPUs on Socket AM2.
	[cegger, ticket #173]

sys/fs/udf/udf.h				1.29
sys/fs/udf/udf_strat_rmw.c			1.15, 1.15

	UDF_SHED_FREE state is now also handled by the state machine,
	so DO signal it.  Free'd up ecclines can now far more quicker
	be recycled.
	Fix two buf_init()'s that are not needed since they were already
	initialised by getiobuf().
	Remove ancient IPL_BIO reference from the time it was called from
	interrupt context instead of the current soft interrupt.
	[reinoud, ticket #174]

sys/arch/amiga/dev/siop.c			1.59
sys/arch/amiga/dev/siop2.c			1.31

	Deal with unrecognized SCSI message byte - restart script to
	clear the ACK.  No longer hangs the driver when an unhandled
	message byte is seen.
	[mhitch, ticket #175]

sys/Makefile					1.73 via patch

	Traverse rump for a make cleandir.
	[veego, ticket #176]

external/mit/xorg/Makefile			1.5

	Do not enter all the lib/* directories here, only enter lib, because
	lib/Makefile has the correct order and .WAIT stop points.
	[tron, ticket #177]

external/mit/xorg/lib/Makefile			1.8

	Move the build of libXi back to a point where libXext is definitely
	built (i.e. behind the next .WAIT).
	[hubertf, ticket #178]

share/man/man9/signal.9				1.18

	Fix two typos in function name.
	[isaki, ticket #179]

lib/libc/stdio/vswscanf.c			1.4

	Initialize wcio for wide char i/o.
	[tsutsui, ticket #180]

sys/arch/macppc/dev/cuda.c			1.9
sys/arch/macppc/dev/zs.c			1.48
sys/arch/macppc/macppc/memory.c			1.2

	Fix attach messages. (extra colons, misplaced newline etc.)
	[tsutsui, ticket #182]

sys/dev/ic/osiop.c				1.37

	Sync with src/sys/arch/amiga/dev/siop.c rev 1.59:
	Deal with unrecognized SCSI message byte - restart script to clear the
	ACK.  No longer hangs the driver when an unhandled message byte is seen.
	[tsutsui, ticket #183]

sys/dev/ic/mc146818.c				1.17, 1.18

	Fix possible 1 second spin on reading/updating clock.
	Revert part of previous that reverted part of rev 1.14
	which didn't affect the bug. (use __func__ to print function names)
	[tsutsui, ticket #184]

sys/dev/usb/umass.c				1.130
sys/dev/usb/usbdi.c				1.125
sys/dev/usb/usbdi.h				1.77

	Fix PR#39651: two problems in umass:
	 * usb xfers being freed before being removed from pipe,
	 leading to null deref
	 * config_activate requests not supported, which leads to
	config_deactivate requests not being passed through.
	  Spotted by jmcneill@=
	Added mechanism to usbdi allowing the default pipe to be aborted
	[jmorse, ticket #185]

sys/dev/ic/ld_cac.c				1.23

	PR kern/40099 device_t/softc split broke cac(4)/ld(4):
	panic: iostat_unbusy
	[mhitch, ticket #186]

sys/dev/ic/i82557.c				1.116-120
sys/dev/ic/i82557reg.h				1.21
sys/dev/ic/i82557var.h				1.41
doc/CHANGES					patch

	Call BUS_DMASYNC_PREREAD more strictly on polling DMA descriptors.
	Add a workaround for hardware ip4csum-tx bug and enable it.
	Don't pass uint8_t values to le16toh() in fxp_rx_hwcksum().
	fxp(4)'s RX hwcksum results weren't used at all on big endian machines.
	[tsutsui, ticket #181]

sys/ufs/ufs/ufs_wapbl.c				1.4

	Don't deadlock on rename("foo/foo", "foo") in the case where
	foo/foo is a directory on a wapbl-enabled filesystem.
	PR 40163 from Lloyd Parkes.
	[dholland, ticket #187]

sys/kern/vfs_syscalls.c				1.382

	Fix length passed to strlcpy(): we used to get names one character
	shorter than reality.
	[elad, ticket #188]

sys/dev/verified_exec.c				1.64
sys/kern/kern_verifiedexec.c			1.112

	PR/39559: Juan RP: veriexec(4): too easy to cause a NULL
	dereference through it in kernel.
	[elad, ticket #189]

sys/dev/i2o/ld_iop.c				1.33

	Fix device_t/softc split fallout in iop(4).
	[mhitch, ticket #190]

sys/arch/x86/x86/ipmi.c				1.27

	Keep trying to attach ipmi(4) in the background for five seconds.
	NetBSD now detects the IPMI support in a HP Proliant ML110 G4 again.
	Fixes PR kern/40065.
	[tron, ticket #191]

sys/fs/udf/udf_subr.c				1.77, 1.79
sys/fs/udf/udf_vnops.c				1.33, 1.34
sys/fs/udf/udf_vfsops.c				1.54

	Fix a panic and some endless loops.
	[reinoud, ticket #192]

sys/fs/udf/udf_subr.c				1.81, 1.82

	Fix panic that could occur when mounting a CD-R/DVD*R disc.

	Implement auto-track repair on tracks marked damaged when
	searching for writable tracks on session opening.
	[reinoud, ticket #194]

usr.sbin/cpuctl/Makefile			1.3
usr.sbin/cpuctl/arch/i386.c			1.14
usr.sbin/cpuctl/bitmask.c			delete
usr.sbin/cpuctl/cpuctl.h			1.2

	Remove 3rd buggy copy of this function; use snprintb(3).
	[christos, ticket #193]

sys/dev/i2c/dbcool.c				1.7
sys/dev/i2c/dbcool_reg.h			1.3

	Add i2c bus address checking.
	[pgoyette, ticket #195]

sys/arch/x86/x86/ipmi.c				1.28

	Change max retry time to 90 seconds from 5 seconds.
	Allows ML115 G1 to detect ipmi.
	[taca, ticket #197]

usr.bin/cut/cut.1				1.15

	Fix PR 40214: field delimiter is not always <TAB>.
	[wiz, ticket #198]

lib/libc/stdio/fread.3				1.13

	Document fread/fwrite mixing behavior.  Addresses PR 8359.
	[christos, ticket #201]

sys/net/rtsock.c				1.117

	RTAX_GENMASK and RTAX_AUTHOR could cause kernel memory corruption.
	[christos, ticket #202]

sys/dev/raidframe/rf_driver.c			1.120
sys/dev/raidframe/rf_reconstruct.c		1.106

	When unconfiguring an array where a reconstruct is in progress,
	abort the reconstruct and wait for IOs to drain before pulling
	the plug.
	[oster, ticket #203]

external/mit/xorg/server/drivers/xf86-input-keyboard/Makefile 1.8

	Fix vt switching when Xkb is disabled.
	[jmcneill, ticket #199]

external/mit/xorg/server/xorg-server/Makefile	1.18
external/mit/xorg/server/xorg-server/Makefile.Xserver 1.8
external/mit/xorg/server/xorg-server/hw/vfb/Makefile 1.5
external/mit/xorg/server/xorg-server/hw/xfree86/Makefile 1.23
external/mit/xorg/server/xorg-server/hw/xnest/Makefile 1.7
external/mit/xorg/server/xorg-server/xkb/Makefile 1.4
external/mit/xorg/server/xorg-server/xkbstubs/Makefile 1.1

	Make display switching work.  Addresses PR xsrc/40150.
	[jmcneill, ticket #200]

sys/dev/usb/uvideo.c				1.24
sys/dev/video.c					1.18

	Fix UVC webcam output by:
	- Storing updated video format after user changes format
	- Round up number of xfers queued to multiple of 8, due to ehci
	inefficiencies
	- Remove random debugging
	[jmorse, ticket #204]

sys/arch/sgimips/conf/GENERIC32_IP3x		1.79

	Add pseudo-device drvctl.
	[jmcneill, ticket #205]

distrib/hp300/ramdisk/termcap.mini		1.2

	Add a missing xterm entry to termcap file for hp300 installer
	and update vt100 entry.
	[tsutsui, ticket #206]

sys/arch/hp300/hp300/intr.c			1.38, 1.39
sys/arch/hp300/hp300/locore.s			1.144, 1.145
sys/arch/hp300/include/intr.h			1.32

	Account interrupt depth in locore.s functions and remove
	obsolete code for old software interrupt emulation.
	[tsutsui, ticket #207]

sys/arch/dreamcast/conf/GENERIC			1.89
sys/arch/evbarm/conf/MPCSA_GENERIC		1.8

	Remove obsolete "options SYSTRACE"
	[tsutsui, ticket #208]

sys/uvm/uvm_swap.c				1.141
sys/uvm/uvm_pdaemon.c				1.97
sys/uvm/uvm_km.c				1.103
sys/uvm/uvm_map.c				1.265
sys/uvm/uvm_page.c				1.141

	Fix PR kern/40027: pagedaemon loops on memory shortage.
	[bouyer, ticket #211]

sys/fs/msdosfs/msdosfs_vfsops.c			1.70

	Remove pm_Heads check in msdosfs_mountfs; this value isn't
	really used.  Makes an 8GB Memory Stick Pro Duo formatted with
	a PSP work.
	[jmcneill, ticket #209]

include/protocols/dumprestore.h			1.15
sbin/restore/tape.c				1.61

	Make restore work for Linux dump volumes by ignoring extended
	attribute records on these volumes.
	[hannken, ticket #210]

sys/kern/vfs_dirhash.c				1.9

	Fix a memory leak.
	[reinoud, ticket #212]

distrib/sets/lists/xbase/mi			1.70
external/mit/xorg/lib/xkbdata/symbols/Makefile	1.2
external/mit/xorg/lib/xkbdata/symbols/pc/Makefile 1.2
xsrc/external/mit/xkbdata/dist/symbols/colemak	1.1
xsrc/external/mit/xkbdata/dist/symbols/pc/colemak 1.1

	Add X.org support for the Colemak keyboard layout.
	[ghen, ticket #213]

crypto/dist/ipsec-tools/src/setkey/parse.y	1.11

	Support icmp codes. Fixes PR 39056.
	[mlelstv, ticket #214]

sys/dev/sbus/be.c				1.61

	Move callout_init(sc->sc_tick_ch) before we're trying to  
	callout_stop() the ticker.  Fixes a panic on attach.
	[macallan, ticket #215]

sys/fs/efs/efs_vfsops.c				1.17
sys/fs/efs/efs_vnops.c				1.15-1.17
sys/fs/efs/efs_vnops.c				patch

	Improve stability of efs by adding specfs/fifofs support.
	Fixes PR kern/40055.
	[rumble, ticket #216]

sys/arch/atari/atari/be_bus.c			1.10
sys/arch/atari/atari/le_bus.c			1.14
sys/arch/atari/atari/mainbus.c			1.8
sys/arch/atari/dev/wdc_mb.c			1.33

	Sprinkle volatile to atari bus_space(9) access functions.
	[tsutsui, ticket #218]

sys/arch/atari/atari/intr.c			1.16
sys/arch/atari/atari/locore.s			1.102
sys/arch/atari/include/intr.h			1.19

	Account idepth in all interrupt handlers in locore.s.
	Fixes PR port-atari/39965.
	[tsutsui, ticket #219]

sys/arch/atari/dev/md_root.c			1.27, 1.28

	Clear bp->b_oflags (introduced on vmlocking2 merge) before read
	rather than calling brelse(9) after read.

	Should fix pool panics during installation and actually close
	PR port-atari/39850.
	[tsutsui, ticket #220]

sys/dev/sun/bwtwo.c				1.19-1.21
sys/dev/sun/bwtwovar.h				1.7
sys/dev/sun/cgthree.c				1.17-1.19
sys/dev/sun/cgthreevar.h			1.6
sys/dev/sun/files.sun				1.15-1.16

	Add wscons support for bwtwo and cgthree framebuffers.   
	[jdc, ticket #221]

sys/dev/pci/aac_pci.c				1.26

	Allocate enough space for the aac_pci_softc, not just
	the aac_softc.  Allows booting a Xen kernel on a system
	with aac(4).
	[briggs, ticket #224]

lib/libc/gen/fts.c				1.35

	Ensure fts_close() doesn't spuriously close fd 0, by testing
	FTS_SYMFOLLOW in fts_flags instead of fts_options.
	Fixes PR lib/40319
	[lukem, ticket #226]

sys/arch/atari/stand/installboot/installboot.c	1.21
distrib/atari/floppies/common/dot.profile	1.3
distrib/atari/floppies/install/list		1.8
distrib/atari/floppies/prepare/install.md	1.3
distrib/atari/floppies/prepare/list		1.5
distrib/atari/miniroot/Makefile.inc		delete
distrib/atari/miniroot/disktab.shadow		delete
distrib/atari/miniroot/dot.profile		delete
distrib/atari/miniroot/install.md		delete
distrib/atari/miniroot/list			delete
distrib/atari/miniroot/termcap.vt		delete

	Fix atari sysinst based miniroot image, and retire old miniroot.
	[abs, ticket #228]

sys/arch/atari/atari/machdep.c			1.155

	Raise IPL to splsoftnet() before calling callback functions
	registered via (atari specific) add_sicallback(), as a workaround.

	Fixes lost interrupt problem on Falcon wdc(4).
	[tsutsui, ticket #229]

sys/arch/atari/atari/atari_init.c		1.68-1.70
sys/arch/atari/atari/pmap.c			1.106, 1.110, 1.111 via patch
sys/arch/atari/include/pmap.h			1.37, 1.39 via patch
sys/arch/atari/atari/genassym.cf		1.28
sys/arch/atari/include/pcb.h			1.8, 1.9
sys/arch/atari/atari/pmap_bootstrap.c		1.1
sys/arch/atari/conf/files.atari			1.113
sys/arch/atari/include/pte.h			1.8
sys/arch/atari/include/vmparam.h		1.22

	Numerous fixes to atari pmap, including a sync with amiga.
	[tsutsui, ticket #230]

sbin/rndctl/rndctl.8				1.16, 1.17
sbin/rndctl/rndctl.c				1.18

	Instead of silently ignoring extra args, print a usage error.
	Addresses PR 39862.
	Update man page and usage to show that -d and -t are mutually
	exclusive.
	Add a list of type names (usable with -t) to the man page.
	[apb, ticket #231]

build.sh					1.200

	"\t" does not represent a tab in sed regular expressions,
	so use a ${tab} variable instead.
	[apb, ticket #232]

distrib/atari/floppies/install/list		1.9
distrib/atari/floppies/prepare/list		1.6

	Add df(1) to installation md_root files for atari.  Works around
	PR port-atari/40316.
	[tsutsui, ticket #233]

tests/modules/t_modctl.c			1.3
tests/modules/t_modload.sh			1.4

	Kernel modules (kmod files) are now installed in a subdirectory
	per module.  Make these tests aware of this so that they work again.
	[jmmv, ticket #234]

sys/arch/acorn26/acorn26/machdep.c		1.25

	Initialise cpu_info_store so that we start up with a valid curlwp.
	[bjh21, ticket #235]

distrib/sets/lists/base/mi			1.789 via patch
distrib/sets/lists/comp/mi			1.1222 via patch

	Move usr/share/mk/* from comp to base.  Fixes PR 5865, PR 22126
	[lukem, ticket #236]

sys/arch/arm/xscale/i80321_aau.c		1.14
sys/arch/arm/xscale/i80321_icu.c		1.19
sys/arch/evbarm/conf/std.cp3100			1.3
sys/arch/evbarm/conf/std.iq31244		1.7
sys/arch/evbarm/conf/std.iq80321		1.13
sys/arch/evbarm/conf/std.npwr_fc		1.4

	- Don't try to use iopaau_desc_4/8_cache before they're initialized.
	- i80321-based systems use a virtual base of 0xc0000000 so specify
	  KERNEL_BASE_EXT.
	- Ifdef out and comment a KASSERT() that's a bit too aggressive.

	These changes get i80321-based boards booting.
	[briggs, ticket #237]

external/mit/xorg/bin/xdm/Makefile		1.4
external/mit/xorg/bin/xdm/Makefile.xdm		1.2
xsrc/external/mit/xdm/dist/greeter/greet.c	1.2

	Make xdm (able to) use PAM.  Fixes PR 39851.
	[spz, ticket #238]

sys/netinet/in.c				1.130
sys/net/rtsock.c				1.119

	The automatic addition of a subnet route should not error if
	a manually added route already exists. Fixes PR kern/40133.

	When removing automatically added routes, remove the flag from the
	associated address.  When changing automatically addded routes,
	move the flag to the new assoicated address.
	[roy, ticket #239]

doc/3RDPARTY					1.654
external/bsd/dhcpcd/dist/README			dhcpcd-4-0-7
external/bsd/dhcpcd/dist/client.c		dhcpcd-4-0-7
external/bsd/dhcpcd/dist/common.c		dhcpcd-4-0-7
external/bsd/dhcpcd/dist/config.h		dhcpcd-4-0-7
external/bsd/dhcpcd/dist/configure.c		dhcpcd-4-0-7
external/bsd/dhcpcd/dist/dhcp.c			dhcpcd-4-0-7
external/bsd/dhcpcd/dist/dhcpcd-run-hooks.8.in	dhcpcd-4-0-7
external/bsd/dhcpcd/dist/dhdpcd.8.in		dhcpcd-4-0-7
external/bsd/dhcpcd/dist/dhcpcd.c		dhcpcd-4-0-7
external/bsd/dhcpcd/dist/dhcpcd.conf.5.in	dhcpcd-4-0-7
external/bsd/dhcpcd/dist/if-bsd.c		dhcpcd-4-0-7
external/bsd/dhcpcd/dist/net.c			dhcpcd-4-0-7
external/bsd/dhcpcd/dist/net.h			dhcpcd-4-0-7
external/bsd/dhcpcd/dist/dhcpcd-hooks/50-ntp.conf dhcpcd-4-0-7

	Update to dhcpcd-4.0.7.
	[roy, ticket #240]

sys/ddb/db_command.c				1.126
sys/ddb/db_command.h				1.34

	Fix bug introduced in rev 1.98 of db_command.c where command prefix
	not ambiguous in one table was chosen even if it was ambiguous in  
	another table in same list. Also apply more KNF rules.
	[haad, ticket #241]

external/mit/xorg/lib/libGLU/Makefile		1.3
share/mk/bsd.README				1.244
share/mk/bsd.lib.mk				1.291

	Add LIBISCXX.  If it is != "no", use ${CXX} instead of ${CC} to
	link shared libraries.  Use it for libGLU.
	Fixes PR#39936.
	[mrg, ticket #242]

share/man/man4/pci.4				1.89
sys/dev/DEVNAMES				1.243

	Add siisata(4) to the lists.
	[jakllsch, ticket #243]

sys/dev/pci/siisata_pci.c			1.2

	In case the PCI command bits aren't already set, do so before
	performing an access that requires them to be.
	[jakllsch, ticket #244]

sys/dev/usb/uslsa.c				1.9

	Correct license.  Also, use UT_*_VENDOR_INTERFACE instead of local
	defines of the same thing.  No functional change.
	[jakllsch, ticket #245]

sys/arch/powerpc/ibm4xx/intr.c			1.21

	Account ci->ci_idepth on calling handlers in ext_intr() as well as
	powerpc/pic/intr.c:pic_handle_intr().  Closes PR port-evbppc/40288.
	[tsutsui, ticket #246]

sys/kern/sysv_shm.c				1.114

	sys_shmat: initialise shmid of shmmap entry earlier.  Now error path,
	i.e. shm_delete_mapping, wont use a random value.
	[rmind, ticket #248]

sys/dev/pci/if_ipw.c				1.45
sys/dev/pci/if_iwi.c				1.78

	Make the "EULA not accepted" message a bit more informative.
	[jmcneill, ticket #250]

distrib/sets/lists/base/mi			1.788
distrib/utils/libhack/Makefile			1.22
distrib/utils/libhack/Makefile.inc		1.23
etc/mtree/NetBSD.dist				1.387
include/locale.h				1.15
lib/libc/citrus/Makefile.inc			1.6
lib/libc/citrus/citrus_aliasname_local.h	1.1
lib/libc/citrus/citrus_bcs.h			1.5
lib/libc/citrus/citrus_bcs_strtol.c		1.1
lib/libc/citrus/citrus_bcs_strtoul.c		1.1
lib/libc/citrus/citrus_csmapper.c		1.9
lib/libc/citrus/citrus_fix_grouping.h		1.1
lib/libc/citrus/citrus_lc_ctype.c		1.1
lib/libc/citrus/citrus_lc_messages.c		1.1
lib/libc/citrus/citrus_lc_messages.h		1.1
lib/libc/citrus/citrus_lc_monetary.c		1.1
lib/libc/citrus/citrus_lc_monetary.h		1.1
lib/libc/citrus/citrus_lc_numeric.c		1.1
lib/libc/citrus/citrus_lc_numeric.h		1.1
lib/libc/citrus/citrus_lc_template.h		1.1
lib/libc/citrus/citrus_lc_template_decl.h	1.1
lib/libc/citrus/citrus_lc_time.c		1.1
lib/libc/citrus/citrus_lc_time.h		1.1
lib/libc/citrus/citrus_module.c			1.8
lib/libc/citrus/citrus_namespace.h		1.7
lib/libc/citrus/modules/citrus_euc.c		1.13
lib/libc/gen/Makefile.inc			1.166
lib/libc/gen/isctype.c				1.17 via patch
lib/libc/gen/tolower_.c				1.10
lib/libc/gen/toupper_.c				1.10
lib/libc/iconv/Makefile.inc			1.3
lib/libc/iconv/iconv.c				1.7
lib/libc/locale/Makefile.inc			1.53
lib/libc/locale/___runetype_mb.c		delete
lib/libc/locale/_wctrans.c			1.7
lib/libc/locale/_wctrans_local.h		1.3
lib/libc/locale/_wctype.c			1.1
lib/libc/locale/_wctype_local.h			1.1
lib/libc/locale/aliasname.c			1.3
lib/libc/locale/aliasname_local.h		1.2
lib/libc/locale/bsdctype.c			1.1
lib/libc/locale/bsdctype.h			1.1
lib/libc/locale/ctypeio.c			1.8
lib/libc/locale/ctypeio.h			1.2
lib/libc/locale/current_locale.c		1.1
lib/libc/locale/dummy_lc_collate.c		1.1
lib/libc/locale/dummy_lc_template.h		1.1
lib/libc/locale/fix_grouping.c			1.1
lib/libc/locale/fix_grouping.h			1.1
lib/libc/locale/generic_lc_all.c		1.1
lib/libc/locale/generic_lc_template.h		1.1
lib/libc/locale/generic_lc_template_decl.h	1.1
lib/libc/locale/global_locale.c			1.1
lib/libc/locale/iswctype.c			delete
lib/libc/locale/iswctype_mb.c			1.1
lib/libc/locale/iswctype_sb.c			1.6
lib/libc/locale/lcmessages.c			delete
lib/libc/locale/lcmessages.h			delete
lib/libc/locale/lcmonetary.c			delete
lib/libc/locale/lcmonetary.h			delete
lib/libc/locale/lcnumeric.c			delete
lib/libc/locale/lcnumeric.h			delete
lib/libc/locale/lctime.c			delete
lib/libc/locale/lctime.h			delete
lib/libc/locale/localeconv.c			1.15
lib/libc/locale/localeio.c			1.2
lib/libc/locale/localeio.h			1.2
lib/libc/locale/localeio_lc_ctype.c		1.1
lib/libc/locale/localeio_lc_messages.c		1.1
lib/libc/locale/localeio_lc_monetary.c		1.1
lib/libc/locale/localeio_lc_numeric.c		1.1
lib/libc/locale/localeio_lc_time.c		1.1
lib/libc/locale/multibyte.h			1.4
lib/libc/locale/multibyte_amd1.c		1.6
lib/libc/locale/multibyte_c90.c			1.5
lib/libc/locale/nb_lc_messages_misc.h		1.1
lib/libc/locale/nb_lc_monetary_misc.h		1.1
lib/libc/locale/nb_lc_numeric_misc.h		1.1
lib/libc/locale/nb_lc_template.h		1.1
lib/libc/locale/nb_lc_template_decl.h		1.1
lib/libc/locale/nb_lc_time_misc.h		1.1
lib/libc/locale/nl_langinfo.c			1.12
lib/libc/locale/rune.c				1.31
lib/libc/locale/rune.h				1.13
lib/libc/locale/rune_local.h			1.11
lib/libc/locale/runeglue.c			1.14
lib/libc/locale/runetable.c			1.18
lib/libc/locale/setlocale.c			1.55 via patch
lib/libc/locale/setlocale_local.h		1.1
lib/libc/locale/setrunelocale.c			delete
lib/libc/nls/Makefile.inc			1.9
lib/libc/nls/catopen.c				1.26
lib/libc/string/Makefile.inc			1.68
lib/libc/string/wcscmp.c			1.6
lib/libc/string/wcsncmp.c			1.6
lib/libc/string/wcswidth.c			delete
lib/libc/string/wmemcmp.c			1.4
regress/lib/libc/locale/Makefile		1.4
regress/lib/libc/locale/ctype1/Makefile		1.4
regress/lib/libc/locale/ctype1/en_US.UTF-8.exp.uue 1.2
regress/lib/libc/locale/ctype1/ja_JP.ISO-2022-JP.exp.uue 1.1
regress/lib/libc/locale/ctype1/ja_JP.ISO-2022-JP.in.uue 1.1
regress/lib/libc/locale/ctype1/ja_JP.ISO2022-JP.exp.uue delete
regress/lib/libc/locale/ctype1/ja_JP.ISO2022-JP.in.uue delete
regress/lib/libc/locale/ctype1/ja_JP.SJIS.exp.uue 1.2
regress/lib/libc/locale/ctype1/ja_JP.eucJP.exp.uue 1.2
regress/lib/libc/locale/ctype2/Makefile		1.5
regress/lib/libc/locale/ctype2/ja_JP.ISO-2022-JP-2.in.uue 1.1
regress/lib/libc/locale/ctype2/ja_JP.ISO2022-JP2.in.uue delete
regress/lib/libc/locale/ctype3/Makefile		1.5
regress/lib/libc/locale/mbtowc/Makefile		1.3
regress/lib/libc/locale/mbtowc/ja_JP.ISO-2022-JP 1.1
regress/lib/libc/locale/mbtowc/ja_JP.ISO2022-JP	delete
regress/lib/libc/locale/wcstod/wcstod_test.c	1.2
share/locale/Makefile				1.5
share/locale/Makefile.locale			1.1
share/locale/ctype/Makefile			1.28
share/locale/locale.alias			1.11
share/locale/messages/Makefile			1.5
share/locale/messages/en_US.ISO8859-1.src	delete
share/locale/messages/en_US.US-ASCII.src	1.1
share/locale/messages/ja_JP.ISO-2022-JP.src	1.1
share/locale/messages/ja_JP.ct.src		1.1
share/locale/messages/sr_ME.ISO8859-2.src	1.1
share/locale/messages/sr_ME.ISO8859-5.src	1.1
share/locale/messages/sr_YU.ISO8859-2.src	delete
share/locale/messages/sr_YU.ISO8859-5.src	delete
share/locale/messages/sr_YU.UTF-8.src		delete
share/locale/messages/zh_CN.GB18030.src		delete
share/locale/messages/zh_TW.eucTW.src		1.1
share/locale/monetary/Makefile			1.5
share/locale/monetary/af_ZA.ISO8859-1.src	1.2
share/locale/monetary/am_ET.UTF-8.src		1.2
share/locale/monetary/be_BY.CP1131.src		delete
share/locale/monetary/be_BY.CP1251.src		1.2
share/locale/monetary/be_BY.ISO8859-5.src	1.2
share/locale/monetary/be_BY.UTF-8.src		1.2
share/locale/monetary/bg_BG.CP1251.src		1.2
share/locale/monetary/bg_BG.UTF-8.src		1.2
share/locale/monetary/ca_ES.ISO8859-1.src	1.2
share/locale/monetary/cs_CZ.ISO8859-2.src	1.2
share/locale/monetary/cs_CZ.UTF-8.src		1.2
share/locale/monetary/da_DK.ISO8859-1.src	1.2
share/locale/monetary/de_AT.ISO8859-1.src	1.2
share/locale/monetary/de_CH.ISO8859-1.src	1.2
share/locale/monetary/de_DE.ISO8859-1.src	1.2
share/locale/monetary/el_GR.ISO8859-7.src	1.2
share/locale/monetary/en_AU.ISO8859-1.src	1.2
share/locale/monetary/en_CA.ISO8859-1.src	1.2
share/locale/monetary/en_GB.ISO8859-1.src	1.2
share/locale/monetary/en_GB.UTF-8.src		1.2
share/locale/monetary/en_IE.UTF-8.src		1.2
share/locale/monetary/en_NZ.ISO8859-1.src	1.2
share/locale/monetary/en_US.ISO8859-1.src	1.2
share/locale/monetary/en_US.US-ASCII.src	1.1
share/locale/monetary/es_ES.ISO8859-1.src	1.2
share/locale/monetary/et_EE.ISO8859-15.src	1.2
share/locale/monetary/fi_FI.ISO8859-1.src	1.2
share/locale/monetary/fr_BE.ISO8859-1.src	1.2
share/locale/monetary/fr_CA.ISO8859-1.src	1.2
share/locale/monetary/fr_FR.ISO8859-1.src	1.2
share/locale/monetary/he_IL.UTF-8.src		1.2
share/locale/monetary/hi_IN.ISCII-DEV.src	1.2
share/locale/monetary/hr_HR.ISO8859-2.src	1.2
share/locale/monetary/hu_HU.ISO8859-2.src	1.2
share/locale/monetary/hy_AM.ARMSCII-8.src	1.2
share/locale/monetary/hy_AM.UTF-8.src		1.2
share/locale/monetary/is_IS.ISO8859-1.src	1.2
share/locale/monetary/it_IT.ISO8859-1.src	1.2
share/locale/monetary/ja_JP.ISO-2022-JP.src	1.1
share/locale/monetary/ja_JP.UTF-8.src		1.2
share/locale/monetary/ja_JP.eucJP.src		1.2
share/locale/monetary/kk_KZ.PT154.src		1.2
share/locale/monetary/kk_KZ.UTF-8.src		1.2
share/locale/monetary/ko_KR.UTF-8.src		1.2
share/locale/monetary/ko_KR.eucKR.src		1.2
share/locale/monetary/lt_LT.ISO8859-13.src	1.2
share/locale/monetary/mn_MN.UTF-8.src		1.2
share/locale/monetary/nl_BE.ISO8859-1.src	1.2
share/locale/monetary/nl_NL.ISO8859-1.src	1.2
share/locale/monetary/no_NO.ISO8859-1.src	1.2
share/locale/monetary/pl_PL.ISO8859-2.src	1.2
share/locale/monetary/pl_PL.UTF-8.src		1.2
share/locale/monetary/pt_BR.ISO8859-1.src	1.2
share/locale/monetary/pt_PT.ISO8859-1.src	1.2
share/locale/monetary/ro_RO.ISO8859-2.src	1.2
share/locale/monetary/ru_RU.CP1251.src		1.2
share/locale/monetary/ru_RU.CP866.src		1.2
share/locale/monetary/ru_RU.ISO8859-5.src	1.2
share/locale/monetary/ru_RU.KOI8-R.src		1.2
share/locale/monetary/ru_RU.UTF-8.src		1.2
share/locale/monetary/sk_SK.ISO8859-2.src	1.2
share/locale/monetary/sl_SI.ISO8859-2.src	1.2
share/locale/monetary/sr_ME.ISO8859-2.src	1.1
share/locale/monetary/sr_RS.ISO8859-2.src	1.1
share/locale/monetary/sr_YU.ISO8859-2.src	1.2
share/locale/monetary/sr_YU.ISO8859-5.src	1.2
share/locale/monetary/sr_YU.UTF-8.src		1.2
share/locale/monetary/sv_SE.ISO8859-1.src	1.2
share/locale/monetary/tr_TR.ISO8859-9.src	1.2
share/locale/monetary/uk_UA.CP1251.src		1.2
share/locale/monetary/uk_UA.ISO8859-5.src	1.2
share/locale/monetary/uk_UA.KOI8-U.src		1.2
share/locale/monetary/uk_UA.UTF-8.src		1.2
share/locale/monetary/zh_CN.GB18030.src		1.2
share/locale/monetary/zh_CN.UTF-8.src		1.2
share/locale/monetary/zh_CN.eucCN.src		1.2
share/locale/monetary/zh_HK.Big5hkscs.src	1.1
share/locale/monetary/zh_HK.UTF-8.src		1.2
share/locale/monetary/zh_TW.Big5.src		1.2
share/locale/numeric/Makefile			1.4
share/locale/numeric/am_ET.UTF-8.src		delete
share/locale/numeric/en_US.ISO8859-1.src	delete
share/locale/numeric/en_US.US-ASCII.src		1.1
share/locale/numeric/ja_JP.eucJP.src		delete
share/locale/numeric/ko_KR.eucKR.src		delete
share/locale/numeric/mn_MN.UTF-8.src		delete
share/locale/numeric/sr_ME.ISO8859-2.src	1.1
share/locale/numeric/sr_YU.ISO8859-2.src	delete
share/locale/numeric/sr_YU.ISO8859-5.src	delete
share/locale/numeric/zh_CN.eucCN.src		delete
share/locale/time/Makefile			1.5
share/locale/time/en_US.ISO8859-1.src		delete
share/locale/time/en_US.US-ASCII.src		1.1
share/locale/time/ja_JP.ISO-2022-JP.src		1.1
share/locale/time/ja_JP.ct.src			1.1
share/locale/time/sr_ME.ISO8859-2.src		1.1
share/locale/time/sr_ME.ISO8859-5.src		1.1
share/locale/time/sr_ME.UTF-8.src		1.1
share/locale/time/sr_YU.ISO8859-2.src		delete
share/locale/time/sr_YU.ISO8859-5.src		delete
share/locale/time/sr_YU.UTF-8.src		delete
share/locale/time/zh_CN.GB18030.src		delete
share/locale/time/zh_TW.eucTW.src		1.1
usr.bin/locale/locale.c				1.6
usr.bin/mklocale/Makefile			1.12
usr.bin/mklocale/lex.l				1.14
usr.bin/mklocale/mklocaledb.c			1.1
usr.bin/mklocale/yacc.y				1.25
usr.sbin/chrtbl/Makefile			1.8
usr.sbin/chrtbl/ctypeio.c			1.1
usr.sbin/chrtbl/ctypeio.h			1.1

	Fix shortcomings in LC_{MONETARY,NUMERIC,TIME,MESSAGES} db format.
	Closes PR lib/39662.
	[tnozaki, ticket #222]

usr.bin/mklocale/Makefile			1.13-1.15
usr.bin/mklocale/lex.l				1.15, 1.16
usr.bin/mklocale/yacc.y				1.26, 1.27
usr.bin/mklocale/mklocaledb.c			1.2
lib/libc/citrus/citrus_bcs_strtoul.c		1.2
lib/libc/locale/fix_grouping.c			1.2, 1.3
lib/libc/locale/iswctype_sb.c			1.7
lib/libc/locale/rune.h				1.14
lib/libc/locale/runetype.h			delete
lib/libc/locale/runetype_local.h		1.1
lib/libc/stdio/fparseln.c			1.8
lib/libc/string/wcscmp.c			1.7
lib/libc/string/wcsncmp.c			1.7
lib/libc/string/wmemcmp.c			1.5
tools/compat/compat_defs.h			1.68
tools/compat/configure				regen
tools/compat/configure.ac			1.68
tools/compat/nbtool_config.h.in			regen

	Crossbuild fixes for ticket 222.
	[jmcneill, ticket #270]

usr.bin/mklocale/mklocale.1			1.14

	Document new -t flag, bump date.
	[wiz, ticket #225]

include/unistd.h				1.119
lib/libc/gen/getlogin.c				1.14
lib/libc/sys/getlogin.2				1.21

	Change the second argument of getlogin_r() from int to
	size_t, per POSIX.
	[lukem, ticket #247]

distrib/sets/lists/comp/mi			1.1224
lib/librt/Makefile				1.10
lib/librt/mq_close.3				1.1
lib/librt/mq_getattr.3				1.1
lib/librt/mq_notify.3				1.1
lib/librt/mq_open.3				1.1
lib/librt/mq_receive.3				1.1
lib/librt/mq_send.3				1.1
lib/librt/mq_setattr.3				1.1
lib/librt/mq_unlink.3				1.1

	Add man pages describing the interface of POSIX message queues.
	[rmind, ticket #249]

sys/arch/xen/xenbus/xenbus_probe.c		1.27

	Do not probe for console when configuring xenbus devices, as it is
	attached earlier during boot, when initializing hypervisor.

	This avoids "unknown type console at xenbus0 id 0 not configured"
	autoconf(9) messages.
	[jym, ticket #251]

distrib/sets/lists/xserver/md.amd64		1.42
distrib/sets/lists/xserver/md.cats		1.26
distrib/sets/lists/xserver/md.i386		1.57
distrib/sets/lists/xserver/md.macppc		1.43
distrib/sets/lists/xserver/md.netwinder		1.13
distrib/sets/lists/xserver/md.shark		1.24
distrib/sets/lists/xserver/md.sparc64		1.28
external/mit/xorg/server/xorg-server/hw/xfree86/utils/xorgconfig/Makefile 1.5

	Install the Cards file used by xorgconfig.
	[jmcneill, ticket #252]

sys/rump/librump/rumpvfs/genfs_io.c: patch

	Make sure we write a positive length of data.
	[pooka, ticket #253]

usr.sbin/puffs/mount_psshfs/node.c		1.55

	Track parent directory in cross-directory renames so that mv & rm
	for the same file during a vnode's lifecycle works.
	[pooka, ticket #254]

doc/3RDPARTY					1.661 via patch
doc/CHANGES					1.1160 via patch
usr.sbin/ntp/importdate				1.3  
usr.sbin/ntp/ntp-keygen/ntp-keygen.8		1.5
usr.sbin/ntp/ntpd/ntpd.8			1.19
usr.sbin/ntp/ntpdc/ntpdc.8			1.17
usr.sbin/ntp/ntpq/ntpq.8			1.20
usr.sbin/ntp/scripts/mkver			1.11
usr.sbin/sntp/sntp.1				1.6
dist/ntp/COPYRIGHT				1.1.1.8
dist/ntp/ChangeLog				1.1.1.9
dist/ntp/CommitLog				1.1.1.3
dist/ntp/NEWS					1.1.1.9
dist/ntp/configure				1.9
dist/ntp/packageinfo.sh				1.1.1.6
dist/ntp/version				1.1.1.7
dist/ntp/version.m4				1.1.1.6
dist/ntp/html/copyright.html			1.5
dist/ntp/include/version.def			1.1.1.6
dist/ntp/ntpd/ntp_crypto.c			1.14
dist/ntp/ntpd/ntp_loopfilter.c			1.9
dist/ntp/ntpd/ntpd-opts.c			1.1.1.4
dist/ntp/ntpd/ntpd-opts.h			1.1.1.4
dist/ntp/ntpd/ntpd-opts.texi			1.1.1.4
dist/ntp/ntpd/ntpd.1				1.1.1.4
dist/ntp/ntpd/ntpdsim-opts.c			1.1.1.4
dist/ntp/ntpd/ntpdsim-opts.h			1.1.1.4
dist/ntp/ntpd/ntpdsim-opts.texi			1.1.1.4
dist/ntp/ntpd/ntpdsim.1				1.1.1.4
dist/ntp/ntpdc/ntpdc-opts.c			1.1.1.4
dist/ntp/ntpdc/ntpdc-opts.h			1.1.1.4
dist/ntp/ntpdc/ntpdc-opts.texi			1.1.1.4
dist/ntp/ntpdc/ntpdc.1				1.1.1.4
dist/ntp/ntpq/ntpq-opts.c			1.1.1.4
dist/ntp/ntpq/ntpq-opts.h			1.1.1.4
dist/ntp/ntpq/ntpq-opts.texi			1.1.1.4
dist/ntp/ntpq/ntpq.1				1.1.1.4
dist/ntp/sntp/sntp-opts.c			1.1.1.4
dist/ntp/sntp/sntp-opts.h			1.1.1.4
dist/ntp/sntp/sntp-opts.texi			1.1.1.4
dist/ntp/sntp/sntp.1				1.1.1.5
dist/ntp/sntp/version.def			1.1.1.4
dist/ntp/util/ntp-keygen-opts.c			1.1.1.4
dist/ntp/util/ntp-keygen-opts.h			1.1.1.4
dist/ntp/util/ntp-keygen-opts.texi		1.1.1.4
dist/ntp/util/ntp-keygen.1			1.1.1.4
sys/sys/timex.h					1.15, 1.16

	Update ntp to 4.2.4p6.
	Make kernel sync status readble for humans.
	[kardel, ticket #255]

dist/bind/lib/dns/openssldsa_link.c		1.2, 1.3
dist/bind/lib/dns/opensslrsa_link.c		1.2

	Fix CVE-2009-0025 (incorrect check of DSA_do_verify()'s
	return value.
	[drochner, ticket #262]

xsrc/external/mit/xterm/dist/INSTALL		patch
xsrc/external/mit/xterm/dist/MANIFEST		patch
xsrc/external/mit/xterm/dist/Tekproc.c		patch
xsrc/external/mit/xterm/dist/VTPrsTbl.c		patch
xsrc/external/mit/xterm/dist/VTparse.def	patch
xsrc/external/mit/xterm/dist/VTparse.h		patch
xsrc/external/mit/xterm/dist/XTerm.ad		patch
xsrc/external/mit/xterm/dist/aclocal.m4		patch
xsrc/external/mit/xterm/dist/button.c		patch
xsrc/external/mit/xterm/dist/cachedGCs.c	patch
xsrc/external/mit/xterm/dist/charclass.c	patch
xsrc/external/mit/xterm/dist/charproc.c		patch
xsrc/external/mit/xterm/dist/charsets.c		patch
xsrc/external/mit/xterm/dist/config.guess	patch
xsrc/external/mit/xterm/dist/config.sub		patch
xsrc/external/mit/xterm/dist/configure		patch
xsrc/external/mit/xterm/dist/configure.in	patch
xsrc/external/mit/xterm/dist/ctlseqs.ms		patch
xsrc/external/mit/xterm/dist/ctlseqs.txt	patch
xsrc/external/mit/xterm/dist/cursor.c		patch
xsrc/external/mit/xterm/dist/fontutils.c	patch
xsrc/external/mit/xterm/dist/input.c		patch
xsrc/external/mit/xterm/dist/main.c		patch
xsrc/external/mit/xterm/dist/menu.c		patch
xsrc/external/mit/xterm/dist/misc.c		patch
xsrc/external/mit/xterm/dist/os2main.c		patch
xsrc/external/mit/xterm/dist/print.c		patch
xsrc/external/mit/xterm/dist/ptyx.h		patch
xsrc/external/mit/xterm/dist/resize.c		patch
xsrc/external/mit/xterm/dist/scrollbar.c	patch
xsrc/external/mit/xterm/dist/tabs.c		patch
xsrc/external/mit/xterm/dist/testxmc.c		patch
xsrc/external/mit/xterm/dist/trace.c		patch
xsrc/external/mit/xterm/dist/trace.h		patch
xsrc/external/mit/xterm/dist/util.c		patch
xsrc/external/mit/xterm/dist/version.h		patch
xsrc/external/mit/xterm/dist/xcharmouse.h	patch
xsrc/external/mit/xterm/dist/xstrings.c		patch
xsrc/external/mit/xterm/dist/xstrings.h		patch
xsrc/external/mit/xterm/dist/xterm.h		patch
xsrc/external/mit/xterm/dist/xterm.log.html	patch
xsrc/external/mit/xterm/dist/xterm.man		patch
xsrc/external/mit/xterm/dist/xtermcap.c		patch
xsrc/external/mit/xterm/dist/xtermcfg.hin	patch
xsrc/external/mit/xterm/dist/vttests/tcapquery.pl patch

	Update XTerm to version 239 to fix the security vulnerability
	reported in CVE-2008-2383.
	[tron, ticket #267]

sys/arch/amiga/dev/siop.c			1.61
sys/arch/amiga/dev/siop2.c			1.33

	Add the appropriate timeout function to reset the controller
	and restart things if a SCSI command stalls.
	[mhitch, ticket #256]

sys/arch/x86/x86/mpacpi.c			1.74

	Return ENOENT instead of panicking when irq doesn't equal line
	(mpacpi_findintr_linkdev: irq mismatch). This doesn't fix the cause
	of kern/38540, but stops the bogus panic. It's pretty definite that
	the device with the mismatched irq will not function.
	[sborrill, ticket #257]

sys/arch/acorn26/acorn26/irq.c			1.10

	Replace the local current_spl with the ARM-wide curcpu()->ci_cpl, since
	otherwise a DEBUG kernel panics at the first AST, though I don't think
	any non-DEBUG code cares.
	[bjh21, ticket #258]

distrib/sets/sets.subr			patch
distrib/sets/lists/base/lkm.mi		patch
distrib/sets/lists/base/md.amd64	patch
distrib/sets/lists/base/md.sparc64	patch
distrib/sets/lists/base/mi		patch
distrib/sets/lists/base/shl.elf		patch
distrib/sets/lists/base/shl.mi		patch
distrib/sets/lists/comp/md.amd64	patch
distrib/sets/lists/comp/md.sparc64	patch
distrib/sets/lists/comp/mi		patch
distrib/sets/lists/comp/shl.mi		patch
distrib/sets/lists/man/mi		patch
lib/Makefile				patch
share/man/man5/mk.conf.5		patch
share/mk/bsd.README			patch
share/mk/bsd.own.mk			patch
sys/lkm/vfs/Makefile			patch
usr.sbin/Makefile			patch

	Now that MKPUFFS is default, kill it as advertised.
	While there, give puffs and refuse files sensible syspkg entries.
	[pooka, ticket #259]

sys/arch/atari/dev/ncr5380.c			1.57

	To be safe, do not use DMA for Falcon - from Tuomo
	[tjam, ticket #263]

sys/arch/macppc/dev/dbcool_ki2c.c		1.4

	makes dbcool(4) recognize the ADT7460 hardware in the aluminium
	PowerBook G4 12".  The hardware is very similar to several other
	models, to the point that it cannot be distinguished by its advertised
	device id and revision id, which are the same as the ADT7463.
	Patch from Taylor R Campbell.
	[ahoka, ticket #264]

gnu/usr.bin/binutils/ld/Makefile		1.28, patch
libexec/ld.elf_so/arch/i386/Makefile.inc	1.12
libexec/ld.elf_so/arch/i386/Makefile.ld32	1.1
libexec/ld.elf_so/arch/sparc/Makefile.inc	1.12
libexec/ld.elf_so/arch/sparc/Makefile.ld32	1.1
libexec/ld.elf_so/headers.c			1.27
libexec/ld.elf_so/map_object.c			1.37
rescue/Makefile					1.22
rescue/list					1.35
rescue/list.ldd					1.1
usr.bin/ldd/Makefile				1.8, 1.9
usr.bin/ldd/Makefile				1.9
usr.bin/ldd/Makefile.elf			1.1 - 1.3
usr.bin/ldd/aout/Makefile			1.1
usr.bin/ldd/dummy.c				1.1
usr.bin/ldd/elf32/Makefile			1.1 - 1.3
usr.bin/ldd/elf64/Makefile			1.1 - 1.3
usr.bin/ldd/ldd.c				1.3, 1.4
usr.bin/ldd/ldd.h				1.1
usr.bin/ldd/ldd_aout.c				1.1
usr.bin/ldd/ldd_aout/Makefile			delete
usr.bin/ldd/ldd_aout/ldd.c			delete
usr.bin/ldd/ldd_elf/Makefile			delete
usr.bin/ldd/ldd_elf/README			delete
usr.bin/ldd/ldd_elf/ldd.c			delete
usr.bin/ldd/ldd_elfxx.c				1.1

	"gcc -m32" and "ldd on 64bits platform for 32bit binaries" fixes,
	including fixes for PR#40170 and PR#40199
	[mrg, ticket #265]

sbin/mount/mount.c				1.87

	Warn that autoselecting nfs based on : or @ in the device path will
	be removed in a future release.
	[pooka, ticket #266]

sys/dev/raidframe/rf_netbsdkintf.c		1.252

	Implement DIOCCACHESYNC for RAIDframe too, should help
	prevent journal corruption that causes PR#39371.
	[oster, ticket #268]

sys/dev/i2c/dbcool.c				1.8

	Include ADT7460 in chip table (it's identical to the ADT7463,
	except for physical packaging).
	[pgoyette, ticket #269]

usr.bin/make/make.1				1.151

	Fix blatantly wrong exposition of .WAIT example.
	PR bin/40372 from Gao Ya'nan.
	[dholland, ticket #271]

lib/libc/gen/setmode.3				1.19, 1.20
lib/libc/sys/chmod.2				1.34

	SEE ALSO getmode(3)/setmode(3).
	Suggested in passing by Joerg a long time ago on tech-pkg, seems like
	a good idea.
	Rework the text to make it clearer; it was really pretty confusing
	before.  Add an example; note some bugs/shortcomings.
	Bump date.
	[dholland, ticket #272]

share/man/man4/tun.4				1.23

	typo fix
	[dholland, ticket #273]

distrib/sets/lists/base/md.atari		1.50
distrib/utils/sysinst/arch/atari/md.c		1.23
sys/arch/atari/stand/Makefile.booters		1.1
sys/arch/atari/stand/Makefile.inc		delete
sys/arch/atari/stand/bootxx/Makefile.bootxx	1.8
sys/arch/atari/stand/bootxx/bootxx.c		1.13
sys/arch/atari/stand/bootxx/start.S		1.1
sys/arch/atari/stand/bootxxx/Makefile.bootxxx	1.4, 1.5
sys/arch/atari/stand/bootxxx/bootxxx.c		1.4
sys/arch/atari/stand/bootxxx/start.S		1.1
sys/arch/atari/stand/installboot/disklabel.c	1.3
sys/arch/atari/stand/installboot/installboot.c	1.22
sys/arch/atari/stand/installboot/installboot.h	1.9
sys/arch/atari/stand/libsa/Makefile		1.28
sys/arch/atari/stand/tostools/libtos/aout.c	1.11
sys/arch/atari/stand/tostools/libtos/elf.c	1.9
sys/arch/atari/stand/tostools/libtos/libtos.h	1.5
sys/arch/atari/stand/tostools/libtos/sysinfo.c	1.8
sys/arch/atari/stand/xxboot/Makefile.xxboot	1.5

        Fixes for atari bootloader and installation.
	Fix PR port-atari/40315: Bootloader fails on Atari TT030
	[tsutsui, ticket #274]

sys/dev/ic/ld_mlx.c				1.19

	Another missed part of the device_t/softc split.  Fixes ld(4) devices
	on mlx(4) controller.
	[mhitch, ticket #275]

etc/MAKEDEV.tmpl				1.119

	* When testing whether the fdesc file system is mounted, parse the
	  output from mount(8) rather than df(1), because mount is more likely
	  to be available on install media.  mount is invoked in a way that
	  always prints an error message, and the content of the error message
	  tells us whether fdesc is mounted.
	* Don't use negative variable names.  Instead of nofdesc=false, use
	  fdesc_mounted=true.
	* Add a comment explaining that MAKEDEV may be executed in an
	  environment that is missing some common commands.
	[apb, ticket #276]

share/misc/airport				1.31

	PR/40404 - Robert Elz -- Thailand airport updates
	[jnemeth, ticket #277]

dist/ntp/include/ntp_stdlib.h			1.6
dist/ntp/libntp/emalloc.c			1.3

	trust me, malloc's argument is size_t not u_int.
	fix build failure caused by ticket #255
	[kardel, ticket #279]

sys/dev/pci/if_jme.c				1.5
sys/dev/pci/if_jmereg.h				1.3

	The transmitter and ckecksum offload clocks need to be programmed
	according to the negociated speed; make it so. This makes JME250
	and JME260 work.
	[bouyer, ticket #278]

sys/arch/mac68k/nubus/if_ae_nubus.c		1.41

	Split device_t/softc, missed on MI dp8390nic changes 10 months ago.
	Also use aprint_*(), and remove unnecessary casts against void *
	variables.
	[tsutsui, ticket #280]

distrib/sets/lists/xcomp/md.netwinder		1.5
distrib/sets/lists/xserver/md.netwinder		1.14

	Fix set lists for XFree86 on netwinder.
	[jmcneill, ticket #290]

dist/nvi/ex/version.h				1.2
dist/nvi/common/options.c			1.5
dist/nvi/docs/vi.man/vi.1			1.4
dist/nvi/docs/vi.ref/set.opt.texi		1.4
dist/nvi/ex/ex_shift.c				1.2
dist/nvi/ex/ex_txt.c				1.3
dist/nvi/vi/v_txt.c				1.3
doc/CHANGES					1.1152 via patch

	Implement "expandtab" option and bump version to 1.81.6nb1.
	[lukem, ticket #196]

dist/nvi/common/key.c				1.4
dist/nvi/common/multibyte.h			1.2
dist/nvi/regex/engine.c				1.3
dist/nvi/regex/regcomp.c			1.3
dist/nvi/regex/regex2.h				1.2
dist/nvi/regex/regfree.c			1.2

	Make CHAR_T/RCHAR_T 32bit clean.
	[tnozaki, ticket #223]

dist/nvi/cl/cl_bsd.c				1.3
dist/nvi/cl/cl_funcs.c				1.2
dist/nvi/cl/cl_main.c				1.2
dist/nvi/cl/cl_read.c				1.2
dist/nvi/cl/cl_screen.c				1.2
dist/nvi/cl/cl_term.c				1.2
dist/nvi/cl/extern.h				1.2
dist/nvi/common/api.c				1.2
dist/nvi/common/conv.c				1.4, 1.5
dist/nvi/common/conv.h				1.2
dist/nvi/common/cut.c				1.2
dist/nvi/common/cut.h				1.2
dist/nvi/common/db.c				1.2, 1.3
dist/nvi/common/db1.c				1.4
dist/nvi/common/dbinternal.h			1.1
dist/nvi/common/exf.c				1.2, 1.3
dist/nvi/common/extern.h			1.2
dist/nvi/common/gs.h				1.3
dist/nvi/common/key.c				1.3
dist/nvi/common/log.c				1.2
dist/nvi/common/main.c				1.3
dist/nvi/common/mark.c				1.2
dist/nvi/common/mem.h				1.2
dist/nvi/common/msg.c				1.2
dist/nvi/common/options.c			1.4
dist/nvi/common/options.h			1.3
dist/nvi/common/options_f.c			1.3
dist/nvi/common/put.c				1.2
dist/nvi/common/recover.c			1.2
dist/nvi/common/search.c			1.2
dist/nvi/common/seq.c				1.2
dist/nvi/common/util.c				1.3
dist/nvi/ex/ex.c				1.2, 1.3
dist/nvi/ex/ex.h				1.3
dist/nvi/ex/ex_append.c				1.2
dist/nvi/ex/ex_args.c				1.2
dist/nvi/ex/ex_argv.c				1.2, 1.3
dist/nvi/ex/ex_at.c				1.2
dist/nvi/ex/ex_bang.c				1.2
dist/nvi/ex/ex_cd.c				1.2
dist/nvi/ex/ex_cmd.c				1.3
dist/nvi/ex/ex_cscope.c				1.2, 1.3
dist/nvi/ex/ex_display.c			1.2
dist/nvi/ex/ex_edit.c				1.2
dist/nvi/ex/ex_file.c				1.2
dist/nvi/ex/ex_filter.c				1.2
dist/nvi/ex/ex_global.c				1.2
dist/nvi/ex/ex_init.c				1.2
dist/nvi/ex/ex_join.c				1.2
dist/nvi/ex/ex_mkexrc.c				1.2
dist/nvi/ex/ex_preserve.c			1.2
dist/nvi/ex/ex_print.c				1.2
dist/nvi/ex/ex_read.c				1.2
dist/nvi/ex/ex_script.c				1.3
dist/nvi/ex/ex_shell.c				1.2
dist/nvi/ex/ex_source.c				1.2
dist/nvi/ex/ex_subst.c				1.2
dist/nvi/ex/ex_tag.c				1.4, 1.5
dist/nvi/ex/ex_txt.c				1.2
dist/nvi/ex/ex_usage.c				1.2
dist/nvi/ex/ex_util.c				1.2
dist/nvi/ex/ex_visual.c				1.2
dist/nvi/ex/ex_write.c				1.2
dist/nvi/ex/ex_z.c				1.2
dist/nvi/ex/extern.h				1.3
dist/nvi/regex/cclass.h				1.2
dist/nvi/regex/cname.h				1.2
dist/nvi/regex/engine.c				1.2
dist/nvi/regex/regcomp.c			1.2
dist/nvi/regex/regerror.c			1.2
dist/nvi/regex/regexec.c			1.2
dist/nvi/vi/extern.h				1.2
dist/nvi/vi/getc.c				1.2
dist/nvi/vi/v_at.c				1.2
dist/nvi/vi/v_cmd.c				1.2
dist/nvi/vi/v_event.c				1.2
dist/nvi/vi/v_ex.c				1.3
dist/nvi/vi/v_increment.c			1.2
dist/nvi/vi/v_init.c				1.2
dist/nvi/vi/v_mark.c				1.2
dist/nvi/vi/v_match.c				1.3
dist/nvi/vi/v_paragraph.c			1.2
dist/nvi/vi/v_replace.c				1.2
dist/nvi/vi/v_scroll.c				1.2
dist/nvi/vi/v_search.c				1.2
dist/nvi/vi/v_section.c				1.2
dist/nvi/vi/v_sentence.c			1.2
dist/nvi/vi/v_txt.c				1.2
dist/nvi/vi/v_util.c				1.2
dist/nvi/vi/v_word.c				1.2
dist/nvi/vi/vi.c				1.2
dist/nvi/vi/vi.h				1.3
dist/nvi/vi/vs_line.c				1.2, 1.3
dist/nvi/vi/vs_msg.c				1.2
dist/nvi/vi/vs_refresh.c			1.2
dist/nvi/vi/vs_relative.c			1.2
dist/nvi/vi/vs_split.c				1.2
dist/nvi/vi/v_txt.c				1.4
usr.bin/nvi/build/Makefile			1.10
usr.bin/nvi/docs/info/Makefile			1.2

	Numerous vi bug fixes.
	[lukem, ticket #292]

crypto/dist/openssl/apps/speed.c		1.9
crypto/dist/openssl/apps/spkac.c		1.5
crypto/dist/openssl/apps/verify.c		1.2
crypto/dist/openssl/apps/x509.c			1.2
crypto/dist/openssl/ssl/s2_clnt.c		1.12
crypto/dist/openssl/ssl/s2_srvr.c		1.10
crypto/dist/openssl/ssl/s3_clnt.c		1.13
crypto/dist/openssl/ssl/s3_srvr.c		1.16
crypto/dist/openssl/ssl/ssltest.c		1.11

	Correct error checking for DSA and ECDSA keys (from FreeBSD)
	[tron, ticket #294]

sys/arch/i386/stand/Makefile.booters		1.77

	Stop the full path of newvers_stand.sh from showing up in
	pxeboot_ia32.bin.
	[jakllsch, ticket #281]

share/man/man5/ifconfig.if.5			1.12, 1.13

	Move the 'dhcp' example so it doesn't disrput flow into the note
	about use of 'create'.  Move explanatory text above the
	"dynamically-created" example, to match other examples.
	[jakllsch, ticket #282]

sys/dev/isa/fd.c				1.90

	fdcintr1 requires the mutex to be held.
	[tsutsui, ticket #283]

sys/kern/kern_runq.c				1.24

	- Avoid calling sched_catchlwp() if CPUs have different
	  processor-sets.
	- sched_takecpu: check for psid earlier (be more strict).
	Addresses PR/40419.
	[rmind, ticket #284]

sbin/newfs_msdos/newfs_msdos.c			1.28

	The kernel now accepts BPB with heads > 255, so don't limit the
	number of drive heads.
	[jmcneill, ticket #285]

sys/arch/xen/conf/files.xen			1.92
sys/arch/xen/x86/mainbus.c			1.7 via patch
sys/arch/xen/xen/hypervisor.c			1.43

	The Xen PCI_BUS_FIXUP/PCI_ADDR_FIXUP has rotted, catch up with
	x86 changes.  Addresses PR/40356.
	[bouyer, ticket #286]

share/misc/bsd-family-tree			1.41

	Recover tls' change in rev1.33 that was clobbered in 1.40.
	[cyber, ticket #287]

include/mntopts.h				1.12, 1.13
sbin/mount/mount.8				1.63, 1.64
sbin/mount/mount.c				1.88

	Support mount -o rump, which uses the rump server instead of using
	the kernel service.
	[pooka, ticket #288]

share/man/man4/wpi.4				1.9

	Remove note about 11a mode not working properly.
	[jmcneill, ticket #289]

lib/libpthread/affinity.3			1.4
lib/librt/pset.3				1.8
sys/kern/sys_pset.c				1.10
sys/kern/sys_sched.c				1.32

	- Make thread-affinity and processor-set interfaces mutually
	  exlusive.
	- pset_assign: when CPU is assigned, migrate out all LWPs from
	  it.
	[rmind, ticket #291]

sys/sys/mqueue.h				1.6

	Reduce MQ_PRIO_MAX to 32.
	[rmind, ticket #293]

distrib/cats/ramdisk/list			1.10
distrib/notes/cats/hardware			1.6
sys/arch/cats/conf/INSTALL			1.71 via patch

	Pare down the size of the INSTALL kernel images.  The INSTALL
	kernel images should once again be usable.
	[he, ticket #295]

sys/dev/usb/u3g.c				1.5

	Remove { 0, 0 } from the list of u3g devices. This entry is no
	longer required in modern device lists due to sizeof() tricks.
	Keeping it makes u3g attach to HP ServerWorks mice and keyboards.
	[joerg, ticket #296]

distrib/sets/lists/etc/mi			1.203
doc/CHANGES					1.1151 via patch
etc/defaults/rc.conf				1.97
etc/mtree/special				1.123
etc/rc.d/Makefile				1.71
etc/rc.d/httpd					1.1
share/man/man5/rc.conf.5			1.123
usr.sbin/postinstall/postinstall		1.80

	Import rc.d/httpd script for httpd(8) daemon control.
	[rafal, #297]

lib/libc/citrus/citrus_lc_ctype.c		1.3
lib/libc/locale/_wctrans.c			1.13
lib/libc/locale/_wctrans_local.h		1.7 via patch
lib/libc/locale/_wctype.c			1.5
lib/libc/locale/global_locale.c			1.3
lib/libc/locale/iswctype_mb.c			1.5
lib/libc/locale/runeglue.c			1.13
lib/libc/locale/runetable.c			1.21 via patch

	Fix diagassert argument.
	--
	PR lib/40411, nuke wctrans_init(). lazy initialization is not
	a good idea.  Statically initialize _DefaultRuneLocale.rl_wctrans
	so we can re-const-ify _DefaultRuneLocale.
	[christos, ticket #299]

distrib/utils/sysinst/main.c			1.53
distrib/utils/sysinst/msg.mi.de			1.44-1.46
distrib/utils/sysinst/msg.mi.en			1.150-1.152
distrib/utils/sysinst/msg.mi.es			1.22, 1.23
distrib/utils/sysinst/msg.mi.fr			1.102, 1.103
distrib/utils/sysinst/msg.mi.pl			1.61, 1.62
distrib/utils/sysinst/net.c			1.118, 1.121
distrib/utils/sysinst/run.c			1.65

	Allow installation for computers using ipw and iwi.
	Don't clobber network settings if / is on NFS.
	Put sysinst log files into /tmp.
	Set an apropriate locale depending on the selected language.
	[christos, ticket #300]

dist/wpa/src/drivers/driver_bsd.c		1.3
usr.sbin/wpa/wpa_supplicant/Makefile		1.11
usr.sbin/wpa/wpa_supplicant/driver_netbsd.c	delete

	Merge NetBSD changes into driver_bsd.c.
	[christos, ticket #301]

dist/wpa/src/drivers/driver_bsd.c		1.4

	Revert __func__ -> __FUNCTION__.
	[christos, ticket #302]

sbin/mount/mount.8				1.65

	* Say that type "nfs" is inferred if the path contains a
	  ":" or "@".  (Amazingly, this was not documented before).
	* Say that the "nfs" inference is deprecated.  (It was deprecated in
	  revision 1.87 of mount.c, dated 2009-01-11.)
	* Add "-t nfs" in an example, so as not to rely on the automatic
	  inference of nfs when the path contains a colon.
	* Try to improve the description of how the arguments are interpreted.
	[apb, ticket #303]

compat/external/bsd/openldap/lib/Makefile	1.3
compat/gnu/lib/Makefile				1.3
compat/gnu/lib/libgcc4/Makefile			1.3
compat/lib/Makefile				1.3
compat/lib/i18n_module/Makefile			1.3
compat/lib/libpam/modules/Makefile		1.3
usr.bin/ldd/elf32/Makefile			1.5

	Include "bsd.own.mk" to get the definition of "NETBSDSRCDIR" via
	"/etc/mk.conf". This fixes manual use of "make cleandir".
	[tron, ticket #304]

sys/dev/video.c					1.19

	- Avoid eternal block if device is not streaming
	- Apply locking to avoid race in poll()
	- Fix an obviously wrong flag check
	[drochner, ticket #305]

distrib/news68k/floppies/ramdisk/Makefile	1.31
distrib/news68k/floppies/ramdisk/list		1.23

	Use small src/distrib/common/protocols.
	[tsutsui, ticket #314]

sys/arch/newsmips/stand/boot/boot.c		1.17
sys/arch/news68k/stand/boot/boot.c		1.17

	Disable LOAD_NOTE on floppy boot.  Fixes PR install/38943 on
	newsmips and news68k.
	[tsutsui, ticket #307]

sys/arch/m68k/fpe/fpu_emulate.c			1.28

	In fpu_emul_arith(), check lower 7 bits in word1 rather than
	only 6 bits to check 040/060 FP instructions, and don't call
	fpu_implode() and fpu_upd_fpsr() if no vaild emulated result
	is set otherwise these functions cause NULL pointer dereference.

	Fixes panics triggered by 040/060's FDADD instruction on 020/030
	machines (even with 68881/68882) running kernels with options
	FPU_EMULATE.
	[tsutsui, ticket #308]

lib/libc/net/getaddrinfo.c			1.92

	Cause getaddrinfo() without socktype specification to work
	correctly for numeric addresses.

	This change also causes getaddrinfo() with NULL hint to work
	properly for numeric addresses.
	[tls, ticket #306]

share/mk/bsd.README				1.246

	Document USE_FORT.
	[christos, ticket #309]

sys/dev/mca/esp_mca.c				1.20

	Fix obvious errors in conversion to device_t.
	[tsutsui, ticket #310]

sbin/gpt/gpt.h					1.3
sys/sys/disklabel_gpt.h				1.7

	Don't use sizeof(struct gpt_hdr).  It will pad the structure on
	x86-64, which causes some systems to reject the GPT.
	Fixes kern/38997
	[jakllsch, ticket #311]

sys/kern/sys_pset.c				1.11

	sys__pset_bind: obviously, sched_takecpu() should take "t" LWP,
	not "l".
	[rmind, ticket #312]

xsrc/external/mit/xterm/dist/XTerm.ad		1.3

	Set pointerMode to 0 instead of never, which is not a valid value.
	[christos, ticket #313]

usr.bin/locale/locale.c				1.7

	Fix off-by-one.
	[tnozaki, ticket #315]

common/lib/libprop/prop_data.c			1.14

	Properly handle empty data nodes. They are in the form of
	<data></data>, whereas the original code path only checked for
	empty being <data/>.

	This causes an assert to be triggered when trying to access the node's
	content.
	[cyber, ticket #316]

share/misc/bsd-family-tree			1.42

	Sync with Rev. 1.124 from FreeBSD
	[hubertf, ticket #317]

lib/libc/arch/hppa/gen/fpsetmask.c		1.5
lib/libc/arch/hppa/gen/fpsetround.c		1.5
lib/libc/arch/hppa/gen/fpsetsticky.c		1.5

	Sprinkle the "memory" clobber register so the fpsr manipulation
	actually happens.  Fixes the ieeefp/except regresion test.
	[skrll, ticket #318]

usr.sbin/btpand/server.c			1.2

	The "Service Availability" value in the SDP record should be a
	number from 0-255 indicating how much availability the service
	has, rather than the "Load Factor (0-7)" as used in the "Class
	of Device" setting.
	[plunky, ticket #319]

distrib/notes/common/contents			1.144, 1.149
distrib/notes/common/main			1.428, 1.429, 1.433
distrib/notes/common/netboot			1.34
distrib/notes/common/postinstall		1.72
distrib/notes/common/sysinst			1.96
distrib/notes/common/upgrade			1.26
distrib/notes/i386/hardware			1.125, 1.126
distrib/notes/sparc64/hardware			1.25-1.27
distrib/notes/sparc64/install			1.31
distrib/notes/sparc64/prep			1.14

	Numerous updates to the install notes.
	[jmcneill, ticket #321]

distrib/notes/common/contents			1.145, 1.146, 1.147
distrib/utils/sysinst/arch/atari/md.h		1.19
distrib/utils/sysinst/arch/atari/msg.md.de	1.4
distrib/utils/sysinst/arch/atari/msg.md.en	1.8
distrib/utils/sysinst/arch/atari/msg.md.es	1.3
etc/etc.atari/Makefile.inc			1.18, 1.19
sys/arch/atari/conf/ATARITT			regen
sys/arch/atari/conf/ATARITT.in			delete
sys/arch/atari/conf/BOOT			delete
sys/arch/atari/conf/BOOTX			delete
sys/arch/atari/conf/FALCON			regen
sys/arch/atari/conf/FALCON.in			delete
sys/arch/atari/conf/GENERIC.in			1.78 via patch
sys/arch/atari/conf/HADES.in			regen
sys/arch/atari/conf/HADES.in			1.9
sys/arch/atari/conf/MILAN-ISAIDE		regen
sys/arch/atari/conf/MILAN-PCIIDE		regen
sys/arch/atari/conf/MILAN.in			1.22
sys/arch/atari/conf/SMALL030			added
sys/arch/atari/conf/makeconf			1.7

	- Merge ATARITT.in and FALCON.in into GENERIC.in so we can generate
	   a sane kernel config which defines both of them
	- Cleanup all the #if defined(FOO) entries to be consistent and have
	   a matching /* FOO */ on the #endif line
	- No change to generated ATARITT/FALCON/HADES/MILAN-ISAIDE/MILAN-PCIIDE
	- Rename BOOT to SMALL030 and trim a little more to save space.
	- Drop BOOTX
	- Update release notes.
	[abs, ticket #320]

doc/roadmaps/storage				1.3
doc/roadmaps/networking				1.6
doc/roadmaps/storage				1.4
doc/roadmaps/system				1.5
doc/roadmaps/virtualization			1.3

	Various updates to the roadmaps for features we are looking to
	develop over the next few years.
	[agc, ticket #322]

gnu/usr.bin/groff/tmac/mdoc.local		patched by hand
sys/sys/param.h					patched by hand

	Welcome to 5.0_RC1!
	[snj]

sbin/raidctl/raidctl.c				1.40

	Use correct format to print the "numBlocks" element in a RAIDframe
	component label. raidctl(8) should now print the correct number of
	blocks for RAID sets larger than 1TB.  Fixes PR bin/40479.
	[tron, ticket #323]

sys/kern/vfs_subr.c				1.367

	Make the kern.vnode sysctl to expose correct address of each vnode
	to userland again.
	[enami, ticket #324]

share/man/man8/security.8			1.18

	Fix mistake in the Veriexec example, the command name is
	"veriexecctl", not "veriexec".
	[elad, ticket #325]

lib/libevent/evdns.c				1.2

	Don't redefine _FORTIFY_SOURCE if it is already defined.
	Fixes PR/40480.
	[christos, ticket #326]

distrib/sets/lists/xfont/mi			1.34
external/mit/xorg/share/fonts/misc/Makefile	1.2
external/mit/xorg/share/fonts/misc/font-sony-misc/Makefile 1.1
share/mk/bsd.own.mk				1.554
xsrc/external/mit/font-sony-misc/dist/12x24.bdf font-sony-misc-1-0-0
xsrc/external/mit/font-sony-misc/dist/12x24rk.bdf font-sony-misc-1-0-0
xsrc/external/mit/font-sony-misc/dist/8x16.bdf	font-sony-misc-1-0-0
xsrc/external/mit/font-sony-misc/dist/8x16rk.bdf font-sony-misc-1-0-0
xsrc/external/mit/font-sony-misc/dist/AUTHORS	font-sony-misc-1-0-0
xsrc/external/mit/font-sony-misc/dist/COPYING	font-sony-misc-1-0-0
xsrc/external/mit/font-sony-misc/dist/ChangeLog font-sony-misc-1-0-0
xsrc/external/mit/font-sony-misc/dist/INSTALL	font-sony-misc-1-0-0
xsrc/external/mit/font-sony-misc/dist/Makefile.am font-sony-misc-1-0-0
xsrc/external/mit/font-sony-misc/dist/Makefile.in font-sony-misc-1-0-0
xsrc/external/mit/font-sony-misc/dist/NEWS	font-sony-misc-1-0-0
xsrc/external/mit/font-sony-misc/dist/README	font-sony-misc-1-0-0
xsrc/external/mit/font-sony-misc/dist/aclocal.m4 font-sony-misc-1-0-0
xsrc/external/mit/font-sony-misc/dist/autogen.sh font-sony-misc-1-0-0
xsrc/external/mit/font-sony-misc/dist/configure font-sony-misc-1-0-0
xsrc/external/mit/font-sony-misc/dist/configure.ac font-sony-misc-1-0-0
xsrc/external/mit/font-sony-misc/dist/install-sh font-sony-misc-1-0-0
xsrc/external/mit/font-sony-misc/dist/missing	font-sony-misc-1-0-0
xsrc/external/mit/font-sony-misc/dist/mkinstalldirs font-sony-misc-1-0-0

	Install the "sony-misc" font from the X.org distribution.
	Fixes PR xsrc/40476.
	[tron, ticket #327]

regress/lib/csu/initfini/arch/hppa/initfini_asm.S 1.2

	Don't corrupt %r4 - it's a callee save.
	Fixes regress/lib/csu/initfini on hppa.
	[skrll, ticket #329]

sys/arch/hppa/spmath/dbl_float.h		1.3
sys/arch/hppa/spmath/float.h			1.4
sys/arch/hppa/spmath/sgl_float.h		1.3

	Fix regress/lib/libc/ieeefp/nan.
	[skrll, ticket #330]

dist/nvi/dist/configure.in			1.2
usr.bin/nvi/build/config.h			1.3, 1.4

	Fix nvi build with USE_FORT.
	[christos, ticket #331]

sys/arch/amiga/amiga/trap.c			1.122
sys/arch/atari/atari/trap.c			1.99
sys/arch/cesfic/cesfic/trap.c			1.43
sys/arch/hp300/hp300/trap.c			1.140
sys/arch/luna68k/luna68k/trap.c			1.55
sys/arch/m68k/fpe/fpu_emulate.h			1.13, 1.14
sys/arch/m68k/include/fpreg.h			1.1
sys/arch/m68k/include/ieeefp.h			1.7
sys/arch/m68k/include/signal.h			1.25
sys/arch/m68k/m68k/sig_machdep.c		1.41
sys/arch/mac68k/mac68k/trap.c			1.136 via patch
sys/arch/mvme68k/mvme68k/trap.c			1.98
sys/arch/news68k/news68k/trap.c			1.60
sys/arch/next68k/next68k/trap.c			1.75
sys/arch/sun2/sun2/trap.c			1.37
sys/arch/sun3/sun3/trap.c			1.136
sys/arch/x68k/x68k/trap.c			1.97

	Fix floating point handling regressions for m68k architectures:
	siginfo signals reported the wrong exception code and the rounding
	modes "to positive infinity" and "to negative infinity" had been
	accidently swapped.
	[martin, ticket #332]

sys/arch/acorn26/acorn26/irq.c			1.11

	Make the restartable atomic sequence for _lock_cas() actually
	atomic and restartable on acorn26.
	[bjh21, ticket #333]


sys/arch/acorn26/podulebus/if_eh.c		1.15

	Make sure that dp8390_intr() gets passed the softc pointer, not
	the device pointer, when it's called.
	[bjh21, ticket #334]

sys/dev/ic/com_upc.c				1.11
sys/dev/ic/lpt_upc.c				1.10
sys/dev/ic/wdc_upc.c				1.26

	The introduction of config_stdsubmatch() lost an important feature
	of upc_submatch() whereby it made sure that the correct driver
	attached.  Since this didn't really belong in the submatch function
	anyway, reintroduce it in the match functions for upc's children.
	[bjh21, ticket #335]

sys/kern/subr_kobj.c				1.27 via patch

	Use NOCHROOT when doing the lookup against the standard module
	path.  Prevents abuse of chroots to load tainted kernel modules.
	[ad, ticket #336]

share/man/man5/boot.cfg.5			1.13

	ramdisk.kmod -> miniroot.kmod
	[ad, ticket #337]

sys/compat/sa/compat_sa.c			1.7
sys/kern/kern_exit.c				1.215

	Adjust the sleeps in lwpcache and lwpublk. Make them
	uninterruptable for now. This will prevent signals from waking
	them. Adjust exit_lwps() to explicitly add LW_SINTR to all of
	them, so that the process exit code can wake them up.
	[cube, ticket #338]

sys/kern/subr_autoconf.c			1.167

	Don't need to hold kernel_lock for most of this (and not into
	the swapper!).
	[ad, ticket #339]

sys/kern/subr_vmem.c				1.52

	Put vm_lock into its own cache line.
	[ad, ticket #340]

sys/kern/sys_descrip.c				1.8

	Prevent a potential deadlock from a multithreaded process doing:
	t1	dup2(0, 1)
	t2	dup2(1, 0)
	[ad, ticket #341]

sys/arch/amd64/amd64/lock_stubs.S		1.21
sys/arch/i386/i386/lock_stubs.S			1.22

	- Fix a bug in amd64 rw_tryenter() where it could return failure
	even after acquiring a lock, if aligned on a 4GB boundary.
	- Microoptimize more.
	[ad, ticket #342]

common/lib/libc/arch/i386/atomic/atomic.S	1.14
sys/arch/x86/include/cpufunc.h			1.9, 1.10
sys/arch/x86/x86/cpu.c				1.60
sys/arch/x86/x86/identcpu.c			1.12, 1.13
sys/arch/x86/x86/patch.c			1.15

	- Patch in atomic_cas_64() twice. The first patch is early and
	makes it the MP-atomic version available if we have cmpxchg8b.
	The second patch strips the lock prefix if ncpu==1.
	- Fix the i486 atomic_cas_64() to not unconditionally enable
	interrupts.
	Fixes PR kern/40213.
	[ad/bouyer, ticket #343]

sys/nfs/nfs_node.c				1.108
sys/nfs/nfsnode.h				1.69, 1.70

	- Don't vput() a vnode that we do not hold locked.
	- Eliminate one of the few remaining uses of LK_CANRECURSE.
	[ad, ticket #344]

sys/arch/amd64/amd64/genassym.cf		1.39
sys/arch/amd64/amd64/locore.S			1.50
sys/arch/i386/i386/genassym.cf			1.79
sys/arch/i386/i386/locore.S			1.82
sys/arch/x86/x86/x86_machdep.c			1.26
sys/kern/kern_runq.c				1.23
sys/sys/cpu.h					1.25, 1.26

	Don't abort pageidlezero unless a realtime thread wants to run.
	[ad, ticket #345]

sys/arch/alpha/alpha/machdep.c			1.311
sys/arch/amiga/amiga/machdep.c			1.211
sys/arch/atari/atari/machdep.c			1.153
sys/arch/hp700/hp700/machdep.c			1.53
sys/arch/i386/i386/dumpsys.c			1.5
sys/arch/mips/mips/mips_machdep.c		1.206
sys/arch/mvme68k/mvme68k/machdep.c		1.132
sys/arch/news68k/news68k/machdep.c		1.75
sys/arch/next68k/next68k/machdep.c		1.88
sys/arch/sparc/sparc/machdep.c			1.285
sys/arch/sparc64/sparc64/machdep.c		1.230
sys/arch/sun2/sun2/machdep.c			1.56
sys/arch/sun3/sun3/machdep.c			1.188
sys/arch/sun3/sun3x/machdep.c			1.114
sys/arch/x68k/x68k/machdep.c			1.153

	dumpsys: don't spew numbers into the log.
	[ad, ticket #346]

usr.sbin/makefs/cd9660.c			1.23

	Make the allow-multidot option useful.
	[ad, ticket #347]

sys/kern/subr_percpu.c				1.9

	Start percpu allocation at (ALIGNBYTES + 1) to avoid problem with
	importing offset zero to vmem.
	[ad, ticket #348]

sys/kern/kern_softint.c				1.24, 1.25
sys/sys/intr.h					1.8

	softint_disestablish: the soft interrupt could still be running
	on a CPU somewhere in the system. If it is, wait for it to
	complete before tearing it down. The caller commits to not
	trigger the interrupt again once disestablish is set in motion.
	[ad, ticket #349]

sys/kern/vfs_subr.c				1.360

	vclean: be paranoid and set v_tag, v_op while holding
	v_interlock.  FS code could check their values while scrolling
	through mnt_vnodelist.
	[ad, ticket #350]

sys/ufs/ufs/ufs_quota.c				1.61

	Print a warning message and return EOPNOTSUPP if the user tries
	to enable quotas on a file system that is using logging.
	[ad, ticket #351]

share/man/man7/sysctl.7				1.18

	Improve wording.
	[ad, ticket #352]

sys/kern/kern_sig.c				1.293
sys/kern/kern_synch.c				1.256

	Partial fix for the "gdb + threads = panic" problem.  Also, fix
	a revivesa merge botch.  Addresses PR kern/36183.
	[ad, ticket #353]

sys/uvm/uvm_fault.c				1.126
sys/uvm/uvm_map.c				1.268

	Move a couple of calls to pmap_update().
	[ad, ticket #354]

share/man/man9/kmem_alloc.9			1.7

	Add a bunch of new text, in particular:
	Use of KM_NOSLEEP is strongly discouraged as it can create
	transient, hard to debug failures that occur when the system
	is under memory pressure.
        In situations where it is not possible to sleep, for example
	because locks are held by the caller, the code path should be
	restructured to allow the allocation to be made in another place.
	[ad, ticket #356]

sys/uvm/uvm_amap.c				patch
sys/uvm/uvm_pdaemon.c				patch

	Make adjustment of some critical variables atomic.
	[ad, ticket #357]

sys/kern/kern_descrip.c				1.185

	- Fix a bug where we trashed descriptor zero in the old open
	files array while ironically trying to preserve the same during
	copy. Would only have occurred if a multithreaded program
	expanded the descriptor table and, within a tiny window of
	exposure, another thread in the program tried to access
	descriptor zero.
	- Convert to use kmem_alloc/kmem_free.
	[ad, ticket #358]

sys/kern/kern_synch.c				1.257, 1.258

	Don't count kpreempt deferrals due to raised IPL. It's not that
	meaningful.
	[ad, ticket #360]

share/man/man9/kpreempt.9			1.2

	Sync with reality.
	[ad, ticket #361]

sys/arch/x86/x86/tsc.c				1.21-1.24

	Fix bugs with TSC sync: spuriously reported a dud TSC.
	[ad, ticket #362]

sys/sys/mman.h					1.42

	Put mremap into the _NETBSD_SOURCE section.
	[ad, ticket #363]

sys/kern/kern_sig.c				1.294

	Fix a comment.
	[ad, ticket #364]

sys/kern/kern_sig.c				1.292

	sigchecktrace: process SIGKILL before everything else.
	[ad, ticket #365]

sys/kern/subr_prf.c				1.125

	Don't try to sync if panicing.
	[ad, ticket #366]

sys/kern/vfs_subr.c				1.359

	- vrelel: fix broken "dead but not clean" assertion. The vnode
	can be dead and dirty if cleaning is in progress.
	- Add an assertion, fix some text.
	[ad, ticket #367]

share/man/man9/malloc.9				1.45 via patch

	Tweak text.
	[ad, ticket #368]

sys/kern/sysv_msg.c				1.61

	Do not call put_type() but use copyout() when returning the
	message segments to the user.
	[njoly, ticket #369]

sys/arch/atari/dev/zsvar.h			1.13
sys/arch/atari/dev/zs.c				1.58

	Use 8KB buffer for ZLRB_RING_SIZE to prevent overruns
	Remove sicallback to use the MI softint(9) APIs directly.
	[tjam, ticket #370]

sys/arch/x86/x86/cpu.c				1.59

	Top was displaying the wrong cpu numbers, fix it.
	[ad, ticket #371]

sys/kern/kern_synch.c				1.259

	Fix for negative runtime; assert that signaling not a
	system-process.
	[rmind, ticket #372]

lib/librt/pset.3				1.9, 1.10

	Improve description of pset(3).
	[rmind, ticket #373]

lib/libc/sys/Makefile.inc			1.200

	__posix_fadvise50() does not use the standard errno behaviour,
	but returns the error value itself - so move it from ASM to NOERR.
	Fixes the sys/fs/posix_fadvise regression test.
	[martin, ticket #374]

sys/dev/ic/icpvar.h				1.11
sys/dev/ic/ld_icp.c				1.23

	As ic_ident is from 2 to ICP_NCCBS + 2, we need more than just
	ICP_NCCBS sense structures in icp_scr map; otherwise we'll compute
	an offset past the allocated memory (and past the end of the dmap
	map) from the ic_ident.  To be safe use ICP_NCCB_RESERVE instead
	of 2.
	One more device_t/softc split fallout (a missing device_private()).
	[bouyer, ticket #375]

dist/wpa/src/drivers/driver_bsd.c		1.5

	Use rssi for level (instead of qual) in scan result.
	Fixes PR#39364.
	[jmcneill, ticket #376]

lib/libpthread/pthread_barrier.c		1.19

	pthread_barrier: Fix numerous stupid bugs.
	[ad, ticket #379]

lib/libc/gen/raise.c				1.8

	Change raise(3) to be thread-aware - send the signal to current LWP.
	Fixes PR/40341.
	[rmind, ticket #380]

sys/dev/acpi/acpi.c				1.123
sys/dev/acpi/acpica/OsdSchedule.c		1.9
sys/dev/acpi/acpica/OsdSynch.c			1.11

	Switch to polling mode after the acpi(4) device has been suspended
	as interrupts will be disabled later on and we may still need to
	execute AML that tries to sleep or wait on a semaphore.
	Addresses PR kern/38817.
	[jmcneill, ticket #381]

sys/dev/usb/uvideo.c				1.26

	When setting up isochronous transfers, fix a typo in an
	out-of-memory test that could lead to a NULL pointer dereference.
	[jmcneill, ticket #382]

sys/fs/msdosfs/msdosfs_lookup.c			1.17

	Now empty DOS filesystems default to long file names. Non-empty
	filesystems without traces of Win95 default to short file names.
	[jmcneill, ticket #383]

sys/dev/pci/if_bge.c				1.155

	Make fibre cards, at least 5701 models, work, by initializing the
	bge_ifmedia.ifm_media field, which is not done by ifmedia_set().
	[he, ticket #384]

lib/libc/arch/m68k/gen/isinfl.c			1.6

	The explicit integer bit is "don't care" for infinity, and now
	that it's included in ext_frach, it needs to be masked off when
	testing for an infinity value.  Fixes the ieeefp/infinity
	regression test on the 68060 which clears the explicity integer
	bit when loading an infinity value.
	[mhitch, ticket #385]

sys/dev/eisa/if_ep_eisa.c			1.40

	Add id for 5090 variant. Fixes PR kern/40524.
	[martin, ticket #387]

sys/dev/pci/if_jme.c				1.6

	Avoid an interrupt storm.
	[bouyer, ticket #388]

sbin/newfs_msdos/newfs_msdos.c			1.29

	Do not erroneously leave a truncated 16-bit sector count on
	"large" (>=32MB) file systems when fetching the geometry from
	the medium.  This confuses some software (which is to say Windows)
	when a device newfs(8)ed under NetBSD is transported to another
	system.
	[mrg, ticket #389]

sys/nfs/nfs_socket.c				1.176

	Actually enforce the maximum timeout (60s by default) rather
	than backing off to 256*SRTT.  This is why it sometimes could take
	hours for a NFS mount to come back when the server returned.
	[mrg, ticket #390]

external/mit/xorg/bin/xft-config/Makefile	1.2

	Fill in cflags for freetype.  Make xft-config.in depend on
	Makefile, so that changes to the Makefile cause rebuilds.
	Fixes PR#40285.
	[mrg, ticket #391]

usr.sbin/syslogd/syslogd.8			patch

	Fix typo: LOT_NOTICE -> LOG_NOTICE.
	[bouyer, ticket #392]

sys/kern/uipc_socket.c				1.185
sys/kern/uipc_socket2.c				1.101
sys/kern/uipc_syscalls.c			1.135
sys/miscfs/portal/portal_vnops.c		1.81
sys/netsmb/smb_trantcp.c			1.40
sys/nfs/nfs_socket.c				1.177
sys/sys/socketvar.h				1.118

	Restore the pre socket locking patch signal behavior.  This
	fixes a busy-loop in nfs_connect.
	[yamt, ticket #393]

sys/kern/sys_pipe.c				1.105

	Fix inverted POLL_ directions.
	[yamt, ticket #394]

sys/ufs/ffs/ffs_vnops.c				1.105-1.109

	Fix various problems when /dev is not on an ffs file system.
	[ad, ticket #395]

sys/arch/amd64/amd64/machdep.c			1.120-1.123
sys/arch/i386/i386/machdep.c			1.655-1.658
sys/arch/x86/include/cpufunc.h			1.11
sys/arch/x86/x86/x86_machdep.c			1.28-1.29 via patch, patch

	Fix PR kern/40488: Unable to reboot Dell PE 2970.
	[ad/he, ticket #396]

share/man/man9/kthread.9			1.18
sys/kern/kern_kthread.c				1.25
sys/sys/kthread.h				1.8

	- Allow creating timeshard kthreads. To be used to fix the RAIDframe
	  parity rewrite issue.
	- Create kthreads in the SCHED_RR class by default, not SCHED_FIFO.
	[ad, ticket #397]

regress/lib/libc/atexit/atexit.c		1.2

	signal(getpid(), SIGFOO) -> raise(SIGFOO)
	[ad, ticket #398]

lib/libc/misc/stack_protector.c			1.3
lib/libc/stdlib/abort.c				1.13
lib/libc/thread-stub/thread-stub.c		1.21

	Make threaded programs die correctly:
	kill(getpid(), SIGFOO) -> raise(SIGFOO)
	[ad, ticket #399]

lib/libc/gen/raise.3				1.8

	Update for SUSv2 compliance.
	[ad, ticket #400]

sys/kern/kern_time.c				1.158

	timer_intr: hold proc_lock across the loop, otherwise the process
	we are about to signal could disappear.
	[ad, ticket #401]

sys/arch/amd64/conf/GENERIC			1.237
sys/arch/i386/conf/GENERIC			1.924

	Enable BUFQ_PRIOCSCAN by default.
	[ad, ticket #402]

sys/kern/kern_module.c				patch

	Disable module autoload in 5.0. It's not well enough tested with
	this version of the code.
	[ad, ticket #403]

sys/arch/macppc/stand/ofwboot/boot.c		1.23
sys/arch/macppc/stand/ofwboot/boot.h		1.3
sys/arch/macppc/stand/ofwboot/ofdev.c		1.22
sys/arch/macppc/stand/ofwboot/ofdev.h		1.6
sys/arch/macppc/stand/ofwboot/version		1.12
sys/arch/x68k/stand/boot/boot.c			1.14

	Fix PR install/38943 on macppc and x68k.
	[tsutsui, ticket #407]

usr.bin/db/db.1					1.24
usr.bin/db/db.1					1.25
usr.bin/db/db.c					1.24

	Rework how reading keys functions so that key lookups from hash
	databases works again.
	Update documentation to reflect reality:
	* read mode supports -D for btree
	* all modes support -U
	[lukem, ticket #404]

distrib/sets/lists/etc/mi			1.205
etc/defaults/rc.conf				1.99
etc/mtree/special				1.125
etc/rc.d/Makefile				1.73
etc/rc.d/rndctl					1.1, 1.2
share/man/man5/rc.conf.5			1.127
usr.sbin/postinstall/postinstall		1.82

	Add etc/rc.d/rndctl script. This allows you to invoke rndctl
	during the boot.
	[apb, ticket #406]

sys/net/if_tap.c				1.52

	Drop splnet() *after* tsleep instead of before.  Fixes a race
	condition between sleep and wakeup.
	[pooka, ticket #405]

distrib/evbppc/ramdisk/dot.hdprofile		1.1
distrib/evbppc/ramdisk/list			1.6
distrib/notes/common/contents			1.148
distrib/utils/sysinst/arch/evbppc/msg.md.de	1.6
distrib/utils/sysinst/arch/evbppc/msg.md.en	1.10
distrib/utils/sysinst/arch/evbppc/msg.md.es	1.5
distrib/utils/sysinst/arch/evbppc/msg.md.fr	1.10
distrib/utils/sysinst/arch/evbppc/msg.md.pl	1.10

	Switch evbpcc sysinst and install notes to referencing
	WALNUT/OPENBLOCKS266 kernels, rather than (nonexistant) GENERIC.
	[abs, ticket #408]

usr.sbin/cpuctl/cpuctl.c			1.13

	cpuctl list: map hardware id after getting state. Avoids screwed
	up display when ci_cpuid != cpu_index().
	[rmind, ticket #409]

usr.sbin/btpand/bnep.c				1.2

	Fix a problem which prevents remote parties connecting to our
	NAP service, we got the services mixed up.
	[plunky, ticket #411]

sys/nfs/nfs_socket.c				1.178

	PR kern/40491: nfs timer can crash/break on smp
	Hack around it by acquiring softnet_lock around the client-side
	timer loop.
	[ad, ticket #412]

sys/kern/kern_lwp.c				1.127
sys/kern/sys_process.c				1.146
sys/sys/lwp.h					1.117

	Fix the crashy test case that Thor provided in PR kern/36183.
	[ad, ticket #414]

sys/kern/kern_synch.c				1.260

	Warn once and no more about backwards monotonic clock.
	[ad, ticket #415]

share/man/man4/iwi.4				1.14
share/man/man4/iwn.4				1.5
share/man/man4/wpi.4				1.10, 1.11

	Bring up to speed with firmware reality.
	[plunky, ticket #416]

sys/dev/wscons/wsdisplay.c			1.126
sys/kern/tty.c					1.230
sys/sys/tty.h					1.86

	Avoid deadlock in tty code if a terminal emulation responds to
	type/status/etc inquiries.  Addresses PR kern/37915.
	[drochner, ticket #417]

sys/arch/alpha/stand/Makefile.bootprogs		1.28
sys/arch/alpha/stand/common/boot.c		1.29, 1.30
sys/arch/alpha/stand/ustarboot/Makefile		1.7

	Disable LOAD_NOTE on ustarboot to avoid backward seek on loading
	a kernel.  Fixes PR install/38943 on alpha.
	[tsutsui, ticket #418]

sys/arch/ews4800mips/stand/common/ether_if.c	1.4
sys/arch/ews4800mips/stand/boot/version		1.3
sys/arch/ews4800mips/stand/common/bootxx.c	1.5
sys/arch/ews4800mips/stand/common/disk.c	1.7
sys/arch/ews4800mips/stand/common/floppy_2d.c	1.5
sys/arch/ews4800mips/stand/common/floppy_2hc.c	1.5
sys/arch/ews4800mips/stand/common/floppy_2hd_ibmpc.c 1.5
sys/arch/ews4800mips/stand/common/ustarfs.c	1.8

	- Fix getsecs() to return more proper values.
	- use multiple sector read on floppy boot
	  (speeds up ustarfs floppy boot from ~840sec to ~100sec)
	- use twiddle() rather than printing CHS numbers on reading
	  floppy sectors
	- make ustarfs_load() work with more than two volumes
	[tsutsui, ticket #419]

doc/3RDPARTY					patch
doc/CHANGES					patch
external/bsd/dhcpcd/dist/client.c		dhcpcd-4-0-10
external/bsd/dhcpcd/dist/common.c		dhcpcd-4-0-10
external/bsd/dhcpcd/dist/config.h		dhcpcd-4-0-10
external/bsd/dhcpcd/dist/dhcp.c			dhcpcd-4-0-10
external/bsd/dhcpcd/dist/dhcpcd.c		dhcpcd-4-0-10
external/bsd/dhcpcd/dist/dhcpcd-run-hooks.in	dhcpcd-4-0-10
external/bsd/dhcpcd/dist/dhcpcd.h		dhcpcd-4-0-10
external/bsd/dhcpcd/dist/signals.c		dhcpcd-4-0-10

	Update dhcpcd to 4.0.10.
	[roy, ticket #386]

xsrc/external/mit/xf86-video-sunffb/dist/src/ffb_driver.c 1.2

	Turn off the hw cursor on exit.
	[macallan, ticket #423]

xsrc/external/mit/xf86-video-sunffb/dist/src/ffb.h 1.2
xsrc/external/mit/xf86-video-sunffb/dist/src/ffb_dac.c 1.2
xsrc/external/mit/xf86-video-sunffb/dist/src/ffb_driver.c 1.3

	On older FFBs we need to redraw the screen after unblanking.
	[macallan, ticket #424]

xsrc/external/mit/xf86-video-sunffb/dist/src/ffb_driver.c 1.4

	Get rid of gratuitious calls to FFBSaveScreen() during driver
	setup.  This should avoid a crash on ffb1 boards where we need
	to redraw the screen on unblank which would happen when we're
	not ready to do so with above mentioned calls in place.
	[macallan, ticket #425]

xsrc/external/mit/xf86-video-sunffb/dist/src/ffb_accel.c 1.2

	Catch up with changes in XAA that rendered our RENDER
	acceleration code non-functional. While there, fix VSCROLL support
	to disable alpha blending in order to avoid those bluish-greenish
	artifacts we'd get otherwise when doing a VSCROLL right after a
	RENDER op.
	[macallan, ticket #426]

sys/kern/subr_devsw.c				1.25

	- An errno is missed in rev. 1.11 while converting return
	  statement to goto statement.
	- A local variable still in use is intercepted in rev. 1.6.
	  Define and use variable of its own.
	[enami, ticket #422]

crypto/dist/ipsec-tools/ChangeLog		ipsec-tools-0_7_1
crypto/dist/ipsec-tools/NEWS			ipsec-tools-0_7_1
crypto/dist/ipsec-tools/configure.ac 		ipsec-tools-0_7_1
crypto/dist/ipsec-tools/netbsd-import.sh 	ipsec-tools-0_7_1
crypto/dist/ipsec-tools/src/libipsec/ipsec_dump_policy.c ipsec-tools-0_7_1
crypto/dist/ipsec-tools/src/libipsec/ipsec_get_policylen.c ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/libipsec/ipsec_strerror.c ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/libipsec/key_debug.c ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/libipsec/libpfkey.h	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/libipsec/pfkey.c 	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/libipsec/pfkey_dump.c ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/libipsec/policy_parse.y ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/libipsec/policy_token.l ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/libipsec/test-policy-priority.c ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/Makefile.am 	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/admin.c 	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/admin.h 	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/backupsa.c 	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/cfparse.y 	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/cftoken.l 	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/crypto_openssl.c ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/eaytest.c 	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/evt.c 	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/evt.h 	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/grabmyaddr.c	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/handler.c 	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/handler.h 	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/ipsec_doi.c 	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/ipsec_doi.h 	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/isakmp.c 	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/isakmp_agg.c	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/isakmp_base.c ipsec_tools-0_7_1 
crypto/dist/ipsec-tools/src/racoon/isakmp_cfg.c	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/isakmp_ident.c ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/isakmp_inf.c	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/isakmp_inf.h	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/isakmp_quick.c ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/isakmp_unity.c ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/isakmp_unity.h ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/isakmp_var.h	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/isakmp_xauth.c ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/isakmp_xauth.h ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/kmpstat.c 	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/main.c 	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/misc.c 	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/misc.h 	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/nattraversal.c ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/oakley.c 	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/pfkey.c 	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/pfkey.h	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/plog.c 	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/plog.h 	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/policy.c	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/policy.h	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/privsep.c	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/privsep.h	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/proposal.c	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/racoon.conf.5 ipsec_tools-0_7_1 
crypto/dist/ipsec-tools/src/racoon/racoonctl.8	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/racoonctl.c	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/remoteconf.c	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/remoteconf.h	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/sainfo.c	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/sainfo.h	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/schedule.c	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/schedule.h	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/session.c	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/session.h	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/sockmisc.c	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/sockmisc.h	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/strnames.c	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/var.h	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/vendorid.c	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/vendorid.h	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/racoon/doc/README.privsep removed
crypto/dist/ipsec-tools/src/setkey/parse.y	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/setkey/setkey.c	ipsec_tools-0_7_1
crypto/dist/ipsec-tools/src/setkey/token.l	ipsec_tools-0_7_1
lib/libipsec/package_version.h			patch

	Downgrade ipsec-tools to 0.7.1nb1.
	[manu/spz, ticket #378]

sys/ufs/ufs/ufs_inode.c				1.77

	Break hold-and-wait which happens in ufs_balloc_range() when we
	have pages busied and are trying to get the genfs node lock.
	This causes a lock order reversal described in PR kern/40389.
	This is not a proper fix and only a workaround for NetBSD 5.0.
	[pooka, ticket #413]

sys/fs/msdosfs/msdosfs_vfsops.c			1.71

	Remove additional GEMDOS only check on fstype.
	[abs, ticket #420]

distrib/atari/floppies/common/list.images	1.5
distrib/atari/floppies/common/mount_gemdos	1.1
distrib/utils/sysinst/arch/atari/Makefile	1.10
distrib/utils/sysinst/util.c			1.154

	- Support gemdos as a type of unmounted filesystem during
	  set selection
	- Add -DSUPPORT_8_3_SOURCE_FILESYSTEM option - currently *only
	  enabled on atari* which if a set file cannot be found will
	  attempt to truncate down to 8.3 and check again. Required for
	  install with sets from GEMDOS filesystem.
	[abs, ticket #421]

sys/dev/raidframe/rf_netbsdkintf.c		1.255

	Be consistent with wd.c and don't complain loudly if the
	underlying device doesn't support flushing the cache.  Fixes an
	issue where ST39120A drives are not capable of flushing the
	cache, and RAIDFrame was incessantly complaining.
	[oster, ticket #430]

libexec/httpd/bozohttpd.c			1.9
libexec/httpd/bozohttpd.h			1.6
libexec/httpd/cgi-bozo.c			1.9
libexec/httpd/dir-index-bozo.c			1.5
libexec/httpd/tilde-luzah-bozo.c		1.4

	Fix bugs in request transformation and CGI handling, including
	bin/40355.

	1) Now it is possible to have a default cgi handler catch a
	request for a path that was produced by transformation, e.g. by
	index generation -- so now the index can be "generated" by a CGI
	if that is what the user desires.

	2) More clearly distinguish "file" from "query" portions of the
	request URL, so we do not feed ?-suffixed "arguments" to plain
	files, fail to match filename extensions due to ?-suffixes, etc.

	After this change, there are only two cases which use the "query"
	portion of the request (the portion after the ?):
	a) A redirect issued by HTTPD will redirect to the new file, but
	with the same query string.
	b) process_cgi() will, of course continue to use the query string.
	[tls, ticket #428]

sys/kern/kern_time.c				1.159 via patch

	Fix "negative runtime; monotonic clock has gone backwards"
	warnings, noted in PR kern/40511.
	[rmind, ticket #429]

external/mit/xorg/server/drivers/xf86-video-sunffb/Makefile 1.2

	Remove artifacts of the xfree reachover build - this makes it
	use the proper includes.
	[oster, ticket #434]

gnu/usr.bin/groff/tmac/mdoc.local		patched by hand
sys/sys/param.h					patched by hand

	Welcome to 5.0_RC2!
	[snj]

sys/arch/amd64/amd64/vm_machdep.c		1.37
sys/arch/amd64/include/param.h			1.10
sys/arch/i386/conf/GENERIC_TINY			1.116
sys/arch/i386/conf/INSTALL_TINY			1.122
sys/arch/i386/conf/files.i386			1.341
sys/arch/i386/i386/vm_machdep.c			1.142, 1.143
sys/arch/i386/include/proc.h			1.37
sys/arch/i386/include/param.h			1.68-1.70
sys/arch/xen/conf/files.xen			1.91

	- Kill NOREDZONE.
	- Make the redzone conditional on DIAGNOSTIC.
	- Give amd64 an additional page for the uarea. 2 is not enough.
	[ad, ticket #355]

common/lib/libx86emu/x86emu.c			1.6, 1.7

	Fix three bugs in the instruction decoder:
	(1) Mode 5 for SIB uses EBP as base, not ESP.
	(2) RM register mode 5 needs a segment override for SS when not
	    using an immediate in 32bit mode.
	(3) Same for mode 6 in 16bit mode.

	0:0 is the adress x86emu_call pushes on the stack, so check for
	it here explicitly to stop processing again. As this is the start
	of the IDT, normal code is not likely to override it.
	[joerg, ticket #410]

distrib/sets/lists/base/mi			1.794
share/wscons/keymaps/Makefile			1.15
share/wscons/keymaps/ukbd.be.azerty		1.1, 1.2
sys/dev/pckbport/wskbdmap_mfii.c		1.16
sys/dev/usb/ukbdmap.c				1.22

	- Add Belgian Azerty keymap for ukbd(4).
	- Enable Colemak altgr keys.
	[ghen, ticket #427]

distrib/sets/lists/xserver/md.vax		1.6
distrib/sets/lists/xserver/md.x68k		1.16
external/mit/xorg/server/xorg-server/Makefile.common 1.6
x11/Xserver/Makefile.common			1.35

	Enable Xvfb build on vax and x68k to match every other port.
	[abs, ticket #431]

sys/fs/tmpfs/tmpfs_vnops.c			1.53

	If fdvp is tvp, do nothing.  Prevents local DoS panic described in
	PR kern/38219.
	[pooka, ticket #432]

sys/kern/uipc_usrreq.c				1.120

	Don't try to fd_putfile() descriptors we didn't manage to
	fd_getfile().  Fixes local DoS panic described in kern/40570.
	[pooka, ticket #433]

sys/kern/vfs_subr.c				1.368
sys/kern/vfs_syscalls.c				1.385

	Make revoke(2) works as before:
	- vfs_syscalls.c rev. 1.342 fails to invert condition correcly
	  when then-clause and else-clause is swapped.  Since then,
	  revoke(2) fails if it is issued by file owner.
	- Probably since rev. 1.160 of genfs_vnops.c, revoke(2) fails if
	  it is applied to non-device file and drops kernel into ddb.
	[enami, ticket #435]

xsrc/external/mit/xorg-server/dist/hw/xfree86/os-support/bsd/bsd_mouse.c 1.5

	Add horizontal mouse-wheel functionality to USB and WSMOUSE
	drivers.
	[plunky, ticket #436]

lib/libc/citrus/citrus_lc_time.c		1.3

	Fix typo, don't overwrite LC_TIME's t_fmt_ampm by t_fmt.
	[tnozaki, ticket #437]

libexec/httpd/bozohttpd.c			1.10
libexec/httpd/bozohttpd.h			1.7

	Add If-Modified-Since support.
	[joerg, ticket #438]

sys/dev/ata/wd.c				1.368
sys/dev/pcmcia/wdc_pcmcia.c			1.113

	-in the wdc@pcmcia driver, don't try to powerup/down while
	cold or shutting down -- this is only supposed to happen from
	the pcmcia kernel thread while the system is running
	-in wd_shutdown, call ata_addref first, so that the adapter
	is either active or we know that it isn't
	
	This fixes a hang on shutdown -p, reported in PR kern/40531.
	[drochner, ticket #441]

tools/gettext/Makefile				1.5

	Explicitly disable C# support. Mono is known to have issues, so
	don't try to look for it.
	[apb, ticket #442]

sbin/newfs_udf/newfs_udf.8			1.5
sbin/newfs_udf/newfs_udf.c			1.6, 1.7
sbin/newfs_udf/udf_create.c			1.13, 1.14
sbin/newfs_udf/udf_create.h			1.3

	Fix -Wsign-compare issues and use KiB MiB GiB instead of
	Kb Mb Gb.
	[reinoud, ticket #444]

sys/sys/cdio.h					1.33

	Fix flagbits for MMC_TRACKINFO flags printing; it had an illegal
	escape code in it.
	[reinoud, ticket #445]

sys/fs/udf/udf_vfsops.c				1.55

	If mounting for read-write dont allow a session number to be
	specified since it's currently still misbehaving. If supported
	later, it would allow one or a series of sessions on a sequential
	recordable media to be ignored as if they never were created.

	Also fix a small comment: it's not the direct but the bootstrap
	disc strategy that we close down.
	[reinoud, ticket #446]

sbin/mount_udf/mount_udf.8			1.10, 1.11
sbin/mount_udf/mount_udf.c			1.13
sys/fs/udf/udf.h				1.30
sys/fs/udf/udf_readwrite.c			1.10
sys/fs/udf/udf_strat_direct.c			1.8
sys/fs/udf/udf_strat_rmw.c			1.18
sys/fs/udf/udf_strat_sequential.c		1.8
sys/fs/udf/udf_subr.c				1.85, patch
sys/fs/udf/udf_subr.h				1.13

	Implement session closure on sequential media when requested
	on mount. It will allow CD-ROM/DVD-ROM/DB-ROM drives to read
	the media while still allowing them to be appended later. It
	can also be seen as a way to make mountable snapshots.

	Before this, a 5.0 kernel could screw up a disc closed by a
	-current kernel or some other implementation.

	Add mount_udf(8) option '-c' requesting session closure on
	unmount.
	[reinoud, ticket #447]

distrib/sets/lists/xbase/mi			1.71
distrib/sets/lists/xetc/mi			1.12
external/mit/xorg/bin/xdm/config/Makefile	1.4, 1.5
external/mit/xorg/bin/xdm/config/NetBSD-bw.xpm	1.1
external/mit/xorg/bin/xdm/config/NetBSD-inv.xpm	1.1
external/mit/xorg/bin/xdm/config/NetBSD.xpm	1.1

	Restore NetBSD branding to xdm login widget:
	- add NetBSD banner pixmaps and have Xdm use them by default.
	- also, move the pixmap files back to X11BASE/include/X11/pixmaps/
	[plunky, ticket #450]

lib/libcurses/getch.c				1.52

	Fix bug where a single ESC was not recognised when in
	keypad() mode.
	[jdc, ticket #451]

distrib/utils/sysinst/util.c			1.155

	Fix over enthusiastic length limit in
	SUPPORT_8_3_SOURCE_FILESYSTEM block
	[abs, ticket #452]

sys/dev/usb/uvideo.c				1.27 via patch

	Fix uvideo_stream_init uninitialized variable / bad argument,
	leading to panic when opening video stream.
	[jmorse, ticket #440]

sys/arch/amd64/conf/GENERIC			patch
sys/arch/i386/conf/GENERIC			patch
sys/arch/macppc/conf/GENERIC			patch
sys/arch/sparc64/conf/GENERIC			patch

	Enable puffs and putter on amd64, i386, macppc, and sparc64.
	[pooka, ticket #453]

sys/dev/raidframe/rf_reconstruct.c		1.107

	If we see a RF_RECON_WRITE_ERROR event we know a write has
	finished and we need to account for that.  Failure to do so
	means we can end up waiting forever for writes we think are
	outstanding, but which have already completed.

	Addresses the RAIDframe part of PR#40569.
	[oster, ticket #454]

sys/dev/ic/ahcisata_core.c			1.19

	When an error is reported on a write, data may have been
	transfered to the device's cache anyway and so cmdh_prdbc
	reports a completed transfer. If we use it to update
	ata_bio->bcount this has 2 conseqences:
	- the automatic LBA48 workaround doesn't qick in because
	bcount is used to compute the last sector of the transfer
	(wd(4) part of kern/40569)
	- wd(4) will report a B_ERROR buffer with a b_resid of 0,
	which panics a DIAGNOSTIC kernel
	Fix by ignoring cmdh_prdbc if we had a write with errors, and
	in this case leave ata_bio->bcount at its initial value.

	While there use NOERROR instead of 0 for ata_bio->error (cosmetic).
	[bouyer, ticket #455]

sys/dist/ipf/netinet/ip_fil_netbsd.c		1.48

	Avoid a NULL pointer defereference when using 'return-rst' or
	'return-icmp' in ipf6.conf.
	[bouyer, ticket #456]

sys/arch/arm/xscale/pxa2x0_pcic.c		1.6

	Processing that installed the card first was moved from
	pxapcic_attach_common() to the head of pxapcic_event_thread().

	Fixes detection of the built-in CF card.
	[nonaka, ticket #457]

sys/arch/x86/x86/patch.c			1.16

	Repair x86_patch to install optimized routines.
	[ad, ticket #471]

sys/arch/xen/x86/autoconf.c			1.9

	Make Xen Dom0/DomU boot with root-on-nfs when the 'bootdev'
	parameter is missing or wrong.  In this case, we get prompted
	for the root device.

	Make sure that nfs_bootstatic_callback is initialized or we
	will miss the nfsroot bootparameter, causing a boot failure even
	when root device is correct.
	[cegger, ticket #460]

sys/miscfs/umapfs/umap_subr.c			1.26
sys/miscfs/umapfs/umap_vnops.c			1.44

	While we remap credentials we should ignore cred == FSCRED
	as well as cred == NOCRED.

	This fixes a page fault occurring when a union is mounted
	over a umap, as FSCRED is passed by union filesystem.
	[plunky, ticket #461]

usr.bin/netstat/netstat.1			1.49

	Sort option descriptions, and options in usage.
	Covers PR 40627.
	[wiz, ticket #462]

etc/root/dot.cshrc				patch
etc/root/dot.profile				patch

	Fix PKG_PATH examples, which were missing /pub.
	[erh, ticket #463]

etc/shrc					1.5

	Set PS1 correctly for ksh.
	[ad, ticket #464]

usr.sbin/puffs/makerumpmanpages.sh		1.5-1.8
usr.sbin/puffs/rump_cd9660/rump_cd9660.8	regen
usr.sbin/puffs/rump_efs/rump_efs.8		regen
usr.sbin/puffs/rump_ext2fs/rump_ext2fs.8	regen
usr.sbin/puffs/rump_ffs/rump_ffs.8		regen
usr.sbin/puffs/rump_hfs/rump_hfs.8		regen
usr.sbin/puffs/rump_lfs/rump_lfs.8		regen
usr.sbin/puffs/rump_msdos/rump_msdos.8		regen
usr.sbin/puffs/rump_nfs/rump_nfs.8		regen
usr.sbin/puffs/rump_ntfs/rump_ntfs.8		regen
usr.sbin/puffs/rump_sysvbfs/rump_sysvbfs.8	regen
usr.sbin/puffs/rump_tmpfs/rump_tmpfs.8		regen
usr.sbin/puffs/rump_udf/rump_udf.8		regen

	- Note mount -o rump support
	- Note that vnconfig is not required
	- Fix SYNOPSIS 
	- Markup fixes
	[pooka, ticket #465]

share/man/man3/tree.3				1.5

	Document that the element argument of RB_REMOVE must be present
	in the tree. Minor adjoining grammar fix. PR 39684.
	[dholland, ticket #466]

sys/net/if.c					1.233

	PR/40603: unprivileged users can add and delete interface
	link addresses. Fixed by centralizing the test as suggested.
	[christos, ticket #459]

usr.sbin/btpand/client.c			1.2
usr.sbin/btpand/sdp.c				1.2
usr.sbin/btpand/sdp.h				1.2

	Modify some SDP data parsing function names to avoid conflicts
	with similar functions that are intended to be imported to
	libsdp.
	[plunky, ticket #467]

sys/kern/sys_pipe.c				1.106-1.108
sys/sys/pipe.h					1.25

	Fix the occasional hanging of the process writing to a pipe
	when the reader is already dying.
	[enami/joerg, ticket #468]

usr.sbin/traceroute6/traceroute6.c		1.38

	Synchronize error flags with own comment and with traceroute.
	[is, ticket #469]

sys/dist/acpica/dsfield.c			1.5

	Fix PR port-i386/40676 by allowing zero-length ASL field
	declarations.
	[jmcneill, ticket #472]

usr.bin/newsyslog/newsyslog.c			1.57

	Fix a bug that can cause newsyslog to overwrite the wrong
	file when the P flag is specified.  PR bin/40635.
	[dogcow, ticket #473]

external/mit/xdm/dist/config/Xresources.cpp	1.3

	Add missing endif.
	[plunky, ticket #475]

sys/dev/acpi/acpi_quirks.c			1.10

	ASUS CUR-DLS board found on HP NetServer E800 box
	has broken ACPI BIOS. Disable it.  Addresses PR/40471.
	[christos, ticket #476]

sys/arch/vax/conf/files.vax			1.116
sys/arch/vax/include/trap.h			1.22
sys/arch/vax/vax/db_disasm.h			1.6, 1.7
sys/arch/vax/vax/opcodes.c			1.1
sys/arch/vax/vax/trap.c				1.117, 1.118
sys/arch/vax/vax/trap.c				1.118

	Fix vax native build hang when lint processes catan.c.  Skip the
	faulting floating point instruction to avoid infinite loops on
	SIGFPE.
	[mhitch, ticket #479]

libexec/httpd/cgi-bozo.c			1.10

	- Fix an issue where the cgi-script name was being cut off
	by one character.
	- Work around a bug in PHP reported by lukem in 2004,
	but stubbornly never fixed by the PHP maintainers:
	  Change the SCRIPT_NAME and SCRIPT_FILENAME variables
	  contain the file name only, not the query if one exists.
	  Having the query in SCRIPT_FILENAME causes php-cgi to not
	  work, as per the bug information here:
	  http://bugs.php.net/bug.php?id=28227
	- Fix a memory leak because URL wasn't being freed.
	[tls, ticket #480]

share/man/man9/bus_dma.9			1.46

	Clarify that dmamp is undefined if bus_dmamap_create(9) fails.
	[dyoung, ticket #481]

share/man/man9/bus_dma.9			1.47

	Update date.
	[dyoung, ticket #482]

lib/libpuffs/puffs.3				1.46
lib/libpuffs/puffs_cc.3				1.13
lib/libpuffs/puffs_cred.3			1.4
lib/libpuffs/puffs_flush.3			1.8
lib/libpuffs/puffs_framebuf.3			1.26
lib/libpuffs/puffs_node.3			1.4
lib/libpuffs/puffs_ops.3			1.23
lib/libpuffs/puffs_path.3			1.4
lib/libpuffs/puffs_suspend.3			1.3

	Remove the paragraph saying interfaces will change without
	warning.  Note that a stable version of puffs first appeared
	in NetBSD 5.0.
	[pooka, ticket #484]

sys/dev/pci/pci_subr.c				1.77

	Decode and display PCI Power Management registers when available.
	[jmcneill, ticket #485]

sys/ddb/db_variables.c				1.40

	Default DDB_ONPANIC to zero.
	[ad, ticket #487]

share/man/man4/ddb.4				1.122
sys/ddb/db_xxx.c				1.55 via patch

	Default 'show all procs' to /l.
	[ad, ticket #488]

sys/kern/vfs_wapbl.c				1.23
sys/miscfs/syncfs/sync_subr.c			1.36
sys/miscfs/syncfs/sync_vnops.c			1.26
sys/ufs/ffs/ffs_alloc.c				1.121
sys/ufs/ffs/ffs_vfsops.c			1.242
sys/ufs/ffs/ffs_vnops.c				1.110

	- If the syncer fails to lazily sync a vnode due to lock
	contention, retry 1 second later instead of 30 seconds later.

	- Flush inode atime updates every ~10 seconds (this makes most
	sense with logging). Presently they didn't hit the disk for
	read-only files or devices until the file system was unmounted.

	- Fix issues with file system corruption, busy looping and other
	nasty problems when logging and non-logging file systems are
	intermixed, with one being the root file system.

	- For logging, do not flush metadata on an inode-at-a-time basis
	if the sync has been requested by ioflush.  Burst out metadata and
	log flushes at a minimum interval of every 10 seconds on an active
	file system (happens more often if the log becomes full). Note this
	does not change the operation of fsync() etc.

	- With the flush issue fixed, re-enable concurrent metadata updates
	in vfs_wapbl.c.

	Fixes PR kern/39564, PR kern/40361, PR kern/40361, PR kern/40470,
	PR kern/40562, and PR kern/40525.
	[ad, ticket #490]

sys/dev/pci/azalia_codec.c			1.75

	* Realtek ALC885: Use generic_mixer_autoinit/init_widget
	* generic_mixer_create_virtual: if the front l/r DAC doesn't have
	a volume capability, enumerate all peer widgets and search for a
	volume mixer there.
	[jmcneill, ticket #491]

distrib/sets/lists/xserver/md.amd64		1.46
distrib/sets/lists/xserver/md.i386		1.61
distrib/sets/lists/xserver/md.macppc		1.45
distrib/sets/lists/xserver/md.sparc64		1.31
external/mit/xorg/lib/Makefile			1.9
external/mit/xorg/lib/dri/dri.mk		1.5
external/mit/xorg/lib/dri/libmesa/Makefile	1.2

	- Build mesa_dri.so, saving ~1.8MB per module
	- Use the right includes so that dri & mesa use the same headers
	- Correct LIBDPLIBS for libdri
	[jmcneill, ticket #470]

usr.bin/ldd/ldd.c				1.5
usr.bin/ldd/ldd.h				1.2
usr.bin/ldd/ldd_aout.c				1.2, 1.3
usr.bin/ldd/ldd_elfxx.c				1.2

	Rework the main loop and handlers:
	- open() and close() the file in the main loop
	- pass the fd down into the handlers
	- use _rtld_error() in ELFNAME(ldd)

	This fixes PR#40543 and also makes error messages look better.
	[mrg, ticket #483]

sys/net/if_pppoe.c				1.94

	PR/40690: pppoe(4) doesn't work when PPPoE relays are present.
	Add support for sending the session id tag back.
	[christos, ticket #478]

sys/arch/i386/i386/machdep.c			patch

	Add missing opt_multiboot.h.  Fixes issues when using a
	multiboot bootloader, like GRUB:
	- dmesg did not contain the information about the loader
	- /dev/ksyms did not work
	[ahoka, ticket #489]

lib/libc/stdio/vfwprintf.c			1.15

	printf("%zi\n", (ssize_t)-1); now correcly prints -1 on i386
	[roy, ticket #492]

xsrc/external/mit/xf86-video-newport/COPYING	xf86-video-newport-0-2-1
xsrc/external/mit/xf86-video-newport/ChangeLog	xf86-video-newport-0-2-1
xsrc/external/mit/xf86-video-newport/Makefile.am xf86-video-newport-0-2-1
xsrc/external/mit/xf86-video-newport/Makefile.in xf86-video-newport-0-2-1
xsrc/external/mit/xf86-video-newport/README	xf86-video-newport-0-2-1
xsrc/external/mit/xf86-video-newport/README.sgml xf86-video-newport-0-2-1
xsrc/external/mit/xf86-video-newport/XF86Config.indy xf86-video-newport-0-2-1
xsrc/external/mit/xf86-video-newport/aclocal.m4	xf86-video-newport-0-2-1
xsrc/external/mit/xf86-video-newport/config.guess xf86-video-newport-0-2-1
xsrc/external/mit/xf86-video-newport/config.h.in xf86-video-newport-0-2-1
xsrc/external/mit/xf86-video-newport/config.sub	xf86-video-newport-0-2-1
xsrc/external/mit/xf86-video-newport/configure	xf86-video-newport-0-2-1
xsrc/external/mit/xf86-video-newport/configure.ac xf86-video-newport-0-2-1
xsrc/external/mit/xf86-video-newport/depcomp	xf86-video-newport-0-2-1
xsrc/external/mit/xf86-video-newport/install-sh	xf86-video-newport-0-2-1
xsrc/external/mit/xf86-video-newport/ltmain.sh	xf86-video-newport-0-2-1
xsrc/external/mit/xf86-video-newport/missing	xf86-video-newport-0-2-1
xsrc/external/mit/xf86-video-newport/man/Makefile.am xf86-video-newport-0-2-1
xsrc/external/mit/xf86-video-newport/man/Makefile.in xf86-video-newport-0-2-1
xsrc/external/mit/xf86-video-newport/man/newport.man xf86-video-newport-0-2-1
xsrc/external/mit/xf86-video-newport/src/Makefile.am xf86-video-newport-0-2-1
xsrc/external/mit/xf86-video-newport/src/Makefile.in xf86-video-newport-0-2-1
xsrc/external/mit/xf86-video-newport/src/newport.h xf86-video-newport-0-2-1
xsrc/external/mit/xf86-video-newport/src/newport_accel.c xf86-video-newport-0-2-1
xsrc/external/mit/xf86-video-newport/src/newport_cmap.c xf86-video-newport-0-2-1
xsrc/external/mit/xf86-video-newport/src/newport_cursor.c xf86-video-newport-0-2-1
xsrc/external/mit/xf86-video-newport/src/newport_driver.c xf86-video-newport-0-2-1
xsrc/external/mit/xf86-video-newport/src/newport_regs.c xf86-video-newport-0-2-1
xsrc/external/mit/xf86-video-newport/src/newport_regs.h	xf86-video-newport-0-2-1
xsrc/external/mit/xf86-video-newport/src/newport_shadow.c xf86-video-newport-0-2-1

	Add X.Org's driver for Newport / NG 1 graphics boards found
	in SGI Indy and others.
	[macallan, ticket #499]

external/mit/xorg/server/drivers/xf86-video-newport/Makefile 1.1

	Add reachover build Makefile for newport driver.
	[macallan, ticket #500]

external/mit/xorg/server/drivers/Makefile	1.20

	Build sgimips servers.
	[macallan, ticket #513]

external/mit/xorg/server/drivers/Makefile	1.23

	Build the newport driver on sgimips.
	[macallan, ticket #503]

distrib/sets/lists/xcomp/md.sgimips		1.4

	Add X.Org bits.
	[macallan, ticket #512]

distrib/sets/lists/xserver/md.sgimips		1.24

	Add X.Org bits.
	[macallan, ticket #509]

distrib/sets/lists/xserver/md.sgimips		1.26

	Add the newport driver.
	[macallan, ticket #502]

distrib/sets/lists/xserver/md.sgimips		1.28

	Add the newport man page.
	[macallan, ticket #505]

xsrc/external/mit/xf86-video-newport/dist/src/newport.h 1.2
xsrc/external/mit/xf86-video-newport/dist/src/newport_driver.c 1.2

	Add NetBSD-specific bits.
	[macallan, ticket #504]

xsrc/external/mit/xf86-video-newport/dist/src/newport_driver.c 1.3

	In 24bit write a linear colour map into the DAC.  Now colours
	look right.
	[macallan, ticket #501]

external/mit/xorg/server/xorg-server/hw/xfree86/xorgos/Makefile 1.11

	Use ppc_video.c on sgimips since mips_video.c is just another
	subset of ppc_video.c
	[macallan, ticket #506]

sys/arch/sgimips/dev/crmfbreg.h			1.9

	Add a couple more registers
	[macallan, ticket #507]

external/mit/xorg/server/drivers/xf86-video-crime/Makefile 1.1

	Add a reachover build Makefile for the crime driver.
	[macallan, ticket #508]

distrib/sets/lists/comp/md.sgimips		1.13
sys/arch/sgimips/include/Makefile		1.18

	Install crmfbreg.h.
	[macallan, ticket #510]

external/mit/xf86-video-crime/dist/configure	1.1
external/mit/xf86-video-crime/dist/man/crime.man 1.1
external/mit/xf86-video-crime/dist/src/crime.h	1.1
external/mit/xf86-video-crime/dist/src/crime_accel.c 1.1
external/mit/xf86-video-crime/dist/src/crime_cursor.c 1.1
external/mit/xf86-video-crime/dist/src/crime_driver.c 1.1

	Add driver for the rendering engine found in SGI's O2.
	[macallan, ticket #511]

external/mit/xf86-video-crime/dist/src/crime.h	1.2
external/mit/xf86-video-crime/dist/src/crime_accel.c 1.2
external/mit/xf86-video-crime/dist/src/crime_driver.c 1.2

	Adapt crime to X.Org.
	[macallan, ticket #514]

share/mk/bsd.own.mk				1.543

	Add a couple driver names for Xorg
	[macallan, ticket #516]

external/mit/xorg/lib/dri/Makefile		1.5

	Don't build DRI drivers on sgimips.
	[macallan, ticket #517]

xsrc/external/mit/xorg-server/dist/hw/xfree86/xaa/xaaFillRect.c 1.2
xsrc/external/mit/xorg-server/dist/hw/xfree86/xaa/xaaInitAccel.c 1.2
xsrc/external/mit/xorg-server/dist/hw/xfree86/xaa/xaalocal.h 1.2

	Actually use scanline image writes to upload images if
	available.
	[macallan, ticket #518]

sys/arch/sparc64/dev/ffb.c			1.36

	Make ffb work right with WSDISPLAY_SCROLLSUPPORT.
	[macallan, ticket #515]

xsrc/external/mit/xf86-video-crime/dist/src/crime_accel.c 1.3

	Implement ARGB alpha masks.
	[macallan, ticket #522]


sys/arch/sgimips/Makefile			1.7
sys/arch/sgimips/dev/Makefile			1.1
sys/arch/sgimips/include/Makefile		1.19

	Don't be lazy and let one directory's Makefile install an
	include file from another directory, as that only causes
	problems with mtree later on when encountering the /.. path
	component.  Instead, descend into dev/ and use the Makefile
	there to install dev/crmfbreg.h in the appropriate directory.
	[macallan, ticket #523]

share/mk/bsd.own.mk				patch

	Switch sgimips over to Xorg
	[macallan, ticket #524]

sys/dev/sun/cgsix.c				1.44 via patch
sys/dev/sun/cgsixvar.h				1.12

	Include wsdisplay.h directly in the header to avoid different
	sizes of cgsix_softc depending on proper previous includes by
	the includer due to #ifdef NWSDISPLAY.
	[martin, ticket #486]

sys/dev/sun/bwtwo.c				1.22
sys/dev/sun/bwtwovar.h				1.8
sys/dev/sun/cgthree.c				1.20
sys/dev/sun/cgthreevar.h			1.7

	Mimic cgsix memory corruption fix (bwtwo and cgthree wscons
	code is based on cgsix).
	[jdc, ticket #494]

sbin/mount_procfs/mount_procfs.c		1.23

	Default to -o linux.  This prevents programs from not working
	just because the -o linux flag was not supplied, i.e. it is the
	sensible default.  People who absolutely do not want the extra
	files in their /proc can do -o nolinux.
	[pooka, ticket #495]

sys/arch/amd64/amd64/copy.S			1.13
sys/arch/i386/i386/copy.S			1.17
sys/compat/linux/arch/amd64/files.linux_amd64	1.4
sys/compat/linux/arch/amd64/linux_support.S	delete
sys/compat/linux/arch/i386/files.linux_i386	1.10
sys/compat/linux/arch/i386/linux_support.S	delete
sys/compat/linux/common/linux_futex.c		1.23
sys/sys/systm.h					1.234

	Add ucas (CAS for user-space address) support for i386 and
	amd64.  API provides ucas_int() and ucas_ptr() for now.
	Switch Linux futex emulation to native ucas_int(), remove
	unecessary futex-specific assembler routines.
	Fixes PR/40490.
	[rmind, ticket #493]

distrib/sets/lists/xserver/md.sgimips		1.25

	One more adjustment for sgimips now that it uses X.Org.
	[jmcneill, ticket #530]

distrib/utils/sysinst/disks.c			1.102

	Mount /proc automatically.
	[ad, ticket #496]

distrib/utils/sysinst/disks.c			1.103

	Restore mounting /kern by default.
	[ad, ticket #497]

sbin/mount_procfs/mount_procfs.8		1.34

	Note change with linux compat.
	[pooka, ticket #519]

sys/kern/kern_runq.c				1.25

	Make sched_getrq() inline (gcc does not optimize it), avoids call.
	[rmind, ticket #520]

sys/dev/pci/azalia.c				1.67

	In azalia_stream_halt, invalidate the intr ptr to prevent a
	race condition where azalia_stream_intr can jump off into lala
	land during stream shutdown.
	[jmcneill, ticket #521]

sys/dev/sun/cgsix.c				1.42, 1.43

	On old chip revisions, clear the screen explicitly when attaching.
	[jdc, ticket #525]

sys/arch/amd64/amd64/machdep.c			1.128
sys/arch/i386/i386/machdep.c			1.663

	Transfer the system from ACPI to Legacy mode if RB_HALT is set.
	Fixes PR port-i386/40751 and PR kern/37506.
	[jmcneill, ticket #526]

sys/arch/vax/vax/trap.c				1.119

	The ci_want_resched check and preempt() call had been removed
	from userret() which resulted in no process preemption (and
	probably contributed to the signal trap loop locking up the
	machine that was recently fixed).  Put the check and preempt()
	call in the AST trap handler to restore process preemption.
	[mhitch, ticket #527]

sys/sys/userret.h				1.20

	Remove outdated comment:  vax does now user mi_userret().
	[mhitch, ticket #528]

sys/arch/i386/i386/machdep.c			1.664


	In cpu_reboot(), only halt the other CPUs after we've done the
	powerdown stuff.  The ACPI code may end up removing some pmap
	entries, which wants the other CPUs to still be running to
	handle TLB invalidations.  Fixes PR port-i386/38936.
	[jmcneill, ticket #529]

external/bsd/top/dist/display.c			1.5

	On a multi-cpu/core machine, running 'top' and pressing '1'
	resulted in n-1 blank lines at the bottom of the display.  On the
	same machine, running 'top -1' and pressing '1' resulted in a
	garbled display that would just get progressively worse.  Invert
	the values returned by display_setmulti() to correct both issues.
	[oster, ticket #531]

sys/arch/macppc/conf/GENERIC			patch

	Disable radeonfb.
	[macallan, ticket #532]

sys/dev/pci/azalia_codec.c			1.76

	Add proper Realtek ALC268 support. While we're here, fix a
	comment in the ALC262 quirk section.
	[jmcneill, ticket #533]

doc/3RDPARTY					1.675

	xtraeme is not responsible for bsd-family-tree anymore.
	[jmcneill, ticket #537]

xsrc/external/mit/xorg-server/dist/hw/xfree86/xaa/xaaInitAccel.c 1.3

	Apply the following patches from Xorg head:
	- XAA: Disable offscreen pixmaps by default.
	  Say Option "XaaOffscreenPixmaps" to turn them back on.
	- Don't enable XAA offscreen pixmaps with Option
	  "XaaOffscreenPixmaps" "no".
	  xf86IsOptionSet is rarely the right function to use for
	  boolean options because it returns TRUE whenever the option
	  is present, even if its value is "no", "off", "0", etc.

	Fixes PR xsrc/40939.
	[jmcneill, ticket #539]

sys/dev/pci/if_nfe.c				1.42

	When nfe_attach() fails, free all resources including interrupt
	map, interrupt handler and dma maps.  Also prevent call to
	bus_dmamap_destroy() when bus_dmamap_create() failed.
	The nfe_free_* routines assume the map pointers are NULL but they
	are actually undefined. Make the assumption true by making them
	NULL in the error path of bus_dmamap_create().
	All together, this fixes crashes when nfe_attach() fails.
	[cegger, ticket #540]

sys/uvm/uvm_page.c				1.143, 1.144

	- Fix two conditions where PQ_FREE was still/already set while
	the page was not anymore/yet on the freelist and uvm_fpageqlock
	was not held
	- Clear PQ_FREE while the page is in the works of pageidlezero
	This avoids that the DMA memory allocator (pglistalloc) grabs a
	page which is not on the freelist, leading to a diagnostic panic
	(with DEBUG) or freelist corruption. (mostly on X server
	activation after a VT switch or suspend/resume because this can
	allocate megabytes of AGP memory)
	--
	oops - missed a case with PMAP_PAGEIDLEZERO if md code aborts the
	zeroing process.
	[drochner, ticket #541]

sys/kern/kern_descrip.c				1.186

	PR/40625: fd_copy: fix off-by-one bug in a race condition path
	and assert.
	[rmind, ticket #542]

sys/dev/raidframe/rf_netbsdkintf.c		1.256

	It seems that some SCSI drivers can block while the spinlock on
	a given disk queue is being held.  Work around this by dropping
	the lock before bdev_strategy(), and re-grabbing the lock
	afterwards.

	There has been some success with this in addressing PR#39993.
	[oster, ticket #543]

doc/CHANGES					patch

	Note that mount(2) and unmount(2) use kauth(9) for security
	policy.
	[apb, ticket #477]

sys/compat/sa/compat_sa.c			1.8

	Disable SA. It can be re-enabled with sysctl -w kern.no_sa_support=0.
	[ad, ticket #544]

sys/arch/xen/xen/if_xennet_xenbus.c		1.34
sys/arch/xen/xen/xbd_xenbus.c			1.39

	Fix rnd(4) support for Xen3 xennet.  Add rnd(4) support to Xen3 xbd.
	Addresses port-xen/40739.
	[bouyer, ticket #545]

sys/kern/kern_lwp.c				1.128
sys/kern/sys_pset.c				1.12
sys/kern/sys_sched.c				1.33

	lwp_create: fix the locking bugs on affinity ingerition path.
	pset_assign: traverse the list of LWPs safely.
	sched_setaffinity: free cpuset (unused path) outside the lock.
	[rmind, ticket #546]

sys/arch/xen/xen/privcmd.c			1.36

	Do not continue silently on a page fault for an INVALID_PAGE, and
	instead report an EFAULT like Xen does.

	This avoids bad situations where a domain calls privpgop_fault() in
	a loop by trying to map an invalid MFN.
	[jym, ticket #547]

sys/compat/sa/compat_sa.c			1.9

	Disable PTHREAD_CONCURRENCY in SA until the bugs are fixed.
	[christos, ticket #550]

xsrc/external/mit/xorg-cf-files/dist/NetBSD.cf	1.3

	Unconditionally include xorg.cf.  Fixes PR# xsrc/40970.
	[jmcneill, ticket #552]

etc/sysctl.conf 				patch
sys/compat/sa/compat_sa.c			patch
usr.sbin/postinstall/postinstall 		patch

	Disable SA via sysctl.conf, not in the kernel. This improves
	binary compatibility for incomplete (kernel only) updates while
	keeping the overall effect of having SA disabled after a full update.
	[martin, ticket #563]

etc/sysctl.conf					1.6
sys/ddb/db_variables.c				1.42
usr.sbin/postinstall/postinstall		1.91

	Switch the default value (if no options DDB_ONPANIC is defined)
	of ddb.onpanic to 1, change it back to 0 in sysctl.conf and
	make sure postinstall installs this setting.  This avoids us
	trying to dump while booting from install CD, but keeps
	the default the same once we are far enough through /etc/rc.d.
	Failing earlier is unlikely to be recovered by an automatic
	reboot.
	[martin, ticket #564]

sys/arch/atari/conf/ATARITT			regen
sys/arch/atari/conf/FALCON			regen
sys/arch/atari/conf/GENERIC.in			1.80
sys/arch/atari/conf/HADES			regen
sys/arch/atari/conf/MILAN-ISAIDE		regen
sys/arch/atari/conf/MILAN-PCIIDE		regen
sys/arch/atari/conf/SMALL030			regen

	Shuffle some things around and comment out some options to
	try to ensure we can fit a gzipped SMALL030 on a 720K floppy
	and FALCON / ATARITT on 1.44MB ones
	[abs, ticket #553]

distrib/sets/lists/base/mi			patch

	Remove the nls tag from
	./usr/share/locale/sk_SK.ISO8859-2/LC_MESSAGES, since we
	install the directory whether MKNLS=no or not.
	[tnozaki, ticket 554]

lib/libc/locale/generic_lc_template.h		1.3
lib/libc/locale/setlocale.c			1.57

	Fix static linking setlocale(3) problem.
	[tnozaki, ticket #556]

distrib/amd64/floppies/common/boot.cfg		1.2
distrib/i386/floppies/common/boot.cfg		1.2

	Fix typo.
	[dholland, ticket #557]

sys/arch/arm/footbridge/footbridge_intr.h	1.14
sys/arch/evbarm/ifpga/ifpga_intr.h		1.9
sys/arch/evbarm/iq80310/iq80310_intr.h		1.8
sys/conf/Makefile.kern.inc			1.121
sys/conf/files					1.940
sys/kern/init_main.c				1.381
sys/kern/kern_ssp.c				1.1, 1.2
sys/kern/subr_autoconf.c			1.168
sys/sys/device.h				1.116
sys/sys/systm.h					1.233

	Unbreak ssp kernels. The issue here that when the ssp_init()
	call was deferred, it caused the return from the enclosing
	function to break, as well as the ssp return on i386. To fix
	both issues, split configure in two pieces the one before
	calling ssp_init and the one after, and move the ssp_init()
	call back in main. Put ssp_init() in its own file, and
	compile this new file with -fno-stack-protector.
	[christos, ticket #458]

sys/kern/subr_xcall.c				1.10

	xc_lowpri: don't truncate `where' from uint64_t to u_int.
	[uebayasi, ticket #549]

gnu/dist/postfix/src/util/unix_recv_fd.c	1.2
gnu/dist/postfix/src/util/unix_send_fd.c	1.2

	Use larger buffer for sending and receiving a file descriptor
	over a UNIX domain socket.  This fixes support for using milters
	(Sendmail Mail Filters) with Postfix under at least NetBSD/amd64.
	[tron, ticket #555]

usr.bin/awk/awk.1				1.18

	Fix markup (.I is an unknown macro in this context).
	[joerg, ticket #558]

share/man/man7/mdoc.samples.7			1.43

	Examples should be correct, so fix the order of the preamble to
	follow the rules set in mdoc(7).
	[joerg, ticket #559]

sys/net/rtsock.c				1.124

	Revert r1.119 as the implementation is broken.  This backs out
	part of ticket 239.
	[roy, ticket #560]

usr.bin/nbsvtool/nbsvtool.1			1.5

	Fix markup.
	[joerg, ticket #561]

usr.sbin/user/user.c				1.121

	Use getpwnam_r to avoid trashing result of previous call to
	getpwnam().  Fixes PR bin/40994.
	[mlelstv, ticket #562]

share/man/man9/fsetown.9			1.9

	Consistently use .Dv for SA_SIGINFO, .Sv doesn't exist.
	[joerg, ticket #567]

usr.bin/shuffle/shuffle.1			1.7

	Remove BUGS section.  shuffle(1) was changed to use arc4random
	a while ago.
	[yamt, ticket #568]

sys/kern/init_sysctl.c				1.158

	Always calculate "needed" for KERN_FILE2 calls.  This allows a
	caller to get an estimate of the needed space, as intended.
	[mrg, ticket #565]

sys/kern/init_sysctl.c				1.157
sys/kern/kern_descrip.c				1.187
usr.sbin/pstat/pstat.c				1.112, 1.113

	Don't bother with file_t::f_iflags any more, as it's not used.
	Convert getfiles() to use KERN_FILE2 sysctl.  Now it can survive
	"struct file" changing, as is upcoming.
	[mrg, ticket #566]

distrib/sets/lists/xetc/mi			1.13
external/mit/xorg/bin/xdm/config/Makefile	1.7
xsrc/external/mit/xdm/dist/config/Xreset.cpp	1.2
xsrc/external/mit/xdm/dist/config/Xstartup.cpp	1.2

	cpp does not find tokens inside quotes, so remove the quotes so
	that the search/replace can happen properly.
	--
	Add the xdm config files Xstartup and Xreset to the build.
	[plunky, ticket #574]

sys/dev/video.c					1.20

	video_set_format() requires hw->set_format to be set, not
	get_format.  Fixes PR kern/41008.
	[jmcneill, ticket #576]

sys/compat/linux/common/linux_futex.c		1.24 via patch
sys/netiso/tp_param.h				1.19 via patch

	linux_futex: Fix robust_list pointer mess.
	tp_param: Negative lengths should not be allowed. Make it
	unsigned.
	[adrianp, ticket #582]

sys/fs/udf/udf_strat_direct.c			patch
sys/fs/udf/udf_strat_sequential.c 		patch
sys/fs/udf/udf_vnops.c 				patch

	Sequential writing goes before normal write. It's not likely
	to ever go wrong but there could be a race otherwise.
	--
	Remove dead code and double check if it's allowed to write out
	non-sequential there.
	--
	Add simplistic UBC async flushing as other FS's seem to do. It's
	a clutch and needs to be addressed in UBC properly.
	Improve write throttling by doing it on page-size basis. The
	"standard" solution would cut up files unnessisary during
	allocation.
	[reinoud, ticket #569]

usr.sbin/btpand/tap.c				1.2

	Use the generic SIOCALIFADDR to add an active link layer address
	instead of the (soon to be) deprecated SIOCSIFPHYADDR
	[plunky, ticket #570]

share/man/man4/tap.4				1.9, 1.10

	ifreqalias (non existent) -> ifaliasreq (the real deal).
	Note the new method of changing link layer addresses using a
	PF_LINK socket ioctl.
	[plunky, ticket #571]

sys/net/if_tap.c				1.53 via patch

	Repair the SIOCSIFPHYADDR ioctl handler to be compatible with
	previous versions which used a "struct sockaddr"
	[plunky, ticket #572]

sys/net/if_tap.c				1.54

	Deprecate the SIOCSIFPHYADDR ioctl and the sysctl node in favour
	of the generic SIOCALIFADDR.
	[plunky, ticket #575]

sys/kern/kern_descrip.c				1.188
sys/kern/uipc_usrreq.c				1.121
sys/sys/fcntl.h					1.35
sys/sys/file.h					1.66
sys/sys/param.h					patch
sys/sys/un.h					1.45

	Completely rework the way that orphaned sockets that are
	being fdpassed via SCM_RIGHTS messages are dealt with.
	[mrg, ticket #577]

build.sh					1.204, 1.205
share/mk/bsd.own.mk				1.558, 1.559

	In build.sh and bsd.own.mk, if uname -p fails, or prints
	"unknown", or prints something that does not look like an
	identifier, then use uname -m instead.  (Cygwin prints
	"unknown", and OpenBSD prints a long string containing
	several spaces; this code should handle both.)
	[apb, ticket #578]

sys/dev/pci/if_wm.c				1.166

	Fix the multicast hash bug on ICH9's wm.
	Now we can catch ff02::9 on ICH9's wm.  Fixes PR#37976.
	[msaitoh, ticket #583]

xsrc/external/mit/xorg-server/dist/Xext/sync.c	1.2

	xsync: Fix wakeup storm in idletime counter

	Wakeup scheduling only considered the threshold values, and
	not whether the trigger was edge or level.
	[jmcneill, ticket #584]

sys/fs/udf/udf_vnops.c				patch

	Fix fallout from ticket #569.
	[reinoud, ticket #585]

gnu/usr.bin/groff/tmac/mdoc.local               patched by hand
sys/sys/param.h                                 patched by hand
        
        Welcome to 5.0_RC3!
        [snj] 

sys/dev/pci/if_wm.c				1.165
sys/dev/pci/pcidevs				1.978
sys/dev/pci/pcidevs.h				regen
sys/dev/pci/pcidevs_data.h			regen

	 Add support for 82574L (as found on Desktop CT adaptor) based on 82573
	 [sborrill, ticket #587]

sys/dev/scsipi/cd.c				1.289

	Fix long standing problem with CD/DVD writing with `dd'. If
	done this way the device will remain in a wait-for-more-stuff-to-
	be-written state delaying other SCSI calls, especially some
	read-size or read-layout calls, until its told there is no more
	comming.

	To fix this, on last close explicitly flush the caches releasing
	the device from this mode and allowing other SCSI commands to reach
	it.  This fixes PR 40528 and 40998. 
	[reinoud, ticket #586]

sys/arch/x86/acpi/acpi_wakeup.c			1.12

	Sync TSC on resume (because CPUs were switched off in the
	meantime), otherwise we get diverging timecounters leading to,
	e.g., the monotonic clock jump backwards.
	[drochner, ticket #589]

sys/fs/tmpfs/tmpfs_vnops.c			1.54

	Release dvp in mknod error branch.  Fixes PR kern/41006
	[pooka, ticket #590]

sys/arch/sh3/include/intr.h			1.26

	Interrupt handling changes (revision 1.23) bumped down _IPL_N
	to 8 for some reason.  Restore it to correct 16.
	[uwe, ticket #591]

sys/fs/udf/udf_vnops.c				1.38

	Fix panic due to memory leak on symlink creation.
	[reinoud, ticket #592]

sys/dev/nullcons_subr.c				1.7

	Return EIO rather than getting an infinite loop in the
	nullcons read function so that getty(8) against nullcons
	console fails properly.
	[tsutsui, ticket #593]

usr.sbin/cpuctl/arch/i386.c			1.16

	Increase size of buffer for humanize_number(3) to print cache
	sizes so that it can return 128KB, 256KB and 512KB properly
	instead of truncated 0MB or rounded 1MB.
	[tsutsui, ticket #594]

sys/dev/ic/rtl8169.c				1.108
sys/dev/ic/rtl81x9var.h				1.42

	Access LDPS register in re_reset() only on 8169S single chip
	variants.  From OpenBSD and FreeBSD drivers via PR kern/41009,
	and Realtek-supplied FreeBSD driver.
	[tsutsui, ticket #596]

sbin/savecore/savecore.c			1.79

	Fix savecore so it uses /dev/ksyms when it can (doesn't override
	libkvm default).  Fixes misc/38425.
	[tls, ticket #598]

sys/dev/ic/ld_cac.c				1.24

	Fix more device_t conversion fallout.
	[ad, ticket #599]

sys/dev/usb/ugen.c				1.102

	Putting a device into the unconfigured state by an ioctl
	seems legitimate, so check for a non-NULL configuration
	descriptor before dereferencing.  Fix PR kern/41048.
	[drochner, ticket #603]

sys/dev/pcmcia/wdc_pcmcia.c			1.114

	Work around a problem with PCMCIA adapter drivers (eg for hpc*)
	which attach pcmcia devices before interrupts are enabled.
	Fixes PR kern/40531.
	[drochner, ticket #614]

usr.bin/time/time.1				1.19

	Mention -c.
	[skrll, ticket #613]

sys/dev/mvme/osiop_pcctwo.c			1.14

	Fix fallout from device_t changes - initialise sc->sc_osiop.sc_dev
	before calling osiop_attach().
	[scw, ticket #605]

usr.bin/netstat/inet.c				1.89
usr.bin/netstat/inet6.c				1.51
usr.bin/netstat/iso.c				1.31

	Make netstat handle -a properly; that is, don't show
	unconnected listener sockets unless -a was given.
	Fixes PR 38093.
	[dholland, ticket #608]

sys/kern/kern_uidinfo.c				1.5

	uid_init: maxproc -> maxcpus
	[ad, ticket #601]

libexec/httpd/bozohttpd.c			1.11

	Fix redirection core dump as reported in PR bin/41042.
	[reinoud, ticket #604]

sys/arch/atari/atari/atari_init.c		1.76
sys/arch/atari/atari/pmap_bootstrap.c		1.3
sys/arch/atari/include/pmap.h			1.40
sys/arch/atari/include/vmparam.h		1.24

	Use separate free lists for TT and ST ram, and give TT a lower
	id so all TT ram will be used before any ST ram.
	[abs, ticket #612]

sys/dev/ic/rtl8169.c				1.106
sys/dev/ic/rtl81x9reg.h				1.33

	Add support for a 8168C/8111C revision
 	- also disable jumbo frame on this adapter
	- merge redundant call to aprint_error_dev
	[tsutsui, ticket #597]

etc/defaults/rc.conf				1.101
etc/rc.d/ipfilter				1.18

	Add flags to rc.d/ipfilter.  Use it from rc.conf like
	ipfilter=YES ipfilter_flags="-T fr_statemax=18963,fr_statesize=27091"
	[hannken, ticket #606]

etc/Makefile					1.364
Makefile					1.267
usr.sbin/postinstall/postinstall		1.90
usr.bin/hexdump/parse.c				1.25
sys/arch/x86/acpi/genwakecode.sh		1.3
usr.sbin/postinstall/postinstall		1.87-1.89
sys/arch/x86/acpi/Makefile.wakecode.inc		1.4
sys/conf/Makefile.kern.inc			1.120

	Use ll instead of non-standard q as length modifier in format strings.
	Makes this work on Solaris. OK by apb.
	Not every grep knows -q. Ok by apb.
	Use sed, awk and hexdump from tools to make this work on Solaris. Ok
	by apb.
	Use awk and grep host tools where required.  'build.sh release' now
	works on Solaris (but only with HOST_CC=/usr/sfw/bin/gcc for now).
	"grep -q" is not portable; use "grep >/dev/null" instead.  Also add a
	comment saying that postinstal is invoked during a cross build.
	In file_exists_exact(), fix an incorrect test of "1" instead of "$1",
	and improve the comment explaining what this function does.
	As long as we don't yet have a working TOOL_GREP, fgrep is more
	portablethan grep -F.
	[sketch, ticket #536]

share/mk/bsd.info.mk				1.39
gnu/dist/texinfo/makeinfo/makeinfo.h		1.2
gnu/dist/texinfo/makeinfo/makeinfo.c		1.15-1.16
gnu/dist/texinfo/doc/makeinfo.1			1.2

	Teach makeinfo about --no-version-header to support the line
		This is <info> producted by <version> from <source>
	which leaks the full build prefix.
	When processing texinfo sources, use --no-version-header to make the
	build reproducable.
	Escape new lines.
	[joerg, ticket #548]

gnu/dist/texinfo/Makefile.in			1.7

	Don't build the infokey and info binaries during toolchain builds.
	This patches the false branch of the Makefile as the true branch is
	only used for cross-compiling of texinfo with the internal build
	system. This avoids the termcap dependency as noticed in PR 40810.
	[joerg, ticket #551]

dist/file/src/file.h				1.18
gnu/dist/texinfo/lib/system.h			1.11
lib/libc/hash/hashhl.c				1.3
lib/libc/md/mdXhl.c				1.8

	Improve the ability to cross-build from Linux and OpenBSD hosts.
	[apb, ticket #579]

sys/ufs/ffs/ffs_vfsops.c			1.244

	ffs_sync: ensure that we *do* flush atime updates periodically.
	ffs_update() was eating the flag.
	[ad, ticket #600]

sys/arch/i386/i386/trap.c			1.244
sys/arch/i386/i386/vector.S			1.44

	remove a bunch of special casing to handle improperly set segment
	registers.  if we faulted trying to set them, just fall into
	"we_re_toast", and arrange for a SEGV to be delivered to the
	userland process.  fixes kernel mode faults. from andrew doran.
	[mrg, ticket #609]

crypto/dist/openssl/crypto/asn1/asn1.h		1.10
crypto/dist/openssl/crypto/asn1/asn1_err.c	1.2
crypto/dist/openssl/crypto/asn1/tasn_dec.c	1.9
crypto/dist/openssl/crypto/cms/cms_smime.c	1.2

	Fix 3 security problems:
	-ASN1 printing crash (CVE-2009-0590)
	-Incorrect Error Checking During CMS verification (CVE-2009-0591)
	-Invalid ASN1 clearing check (CVE-2009-0789)
	[drochner, ticket #624]

common/lib/libprop/prop_object.c		1.26

	Fix crash where user was able to crash proplib with trying
	to internalize bad xml file with non-existing data type, e.g.,
	<number>.
	[haad, ticket #623]

sys/dev/pci/ahcisata_pci.c			1.14

	Add the other three PCI ids for the nvidia MCP65 SATA
	controller to the quirk table. This way they attach as ahcisata
	and work, instead of attaching as viaide and failing miserably.
	Fixes PR kern/37826.
	[dholland, ticket #616]

usr.bin/fstat/misc.c				1.3

	Only print warnings if vflg.  Fixes PR 40759.
	[dholland, ticket #618]

sys/fs/udf/udf_allocation.c			1.20 via patch

	Fix possible overshoot when allocating from a space bitmap
	when ffs(3) returns a too big offset for the bitmap.
	[reinoud, ticket #610]

sys/kern/init_main.c				patch
sys/kern/kern_ksyms.c				patch
sys/sys/ksyms.h					patch

	ksyms_init calls mutex_init too early, which leads to failure on,
	e.g., sparc64 LOCKDEBUG kernels.  Instead, add a new function
	ksyms_init_finalize and call it from main.  Fixed in a more
	intrusive and less ugly way on HEAD.
	[martin, ticket #602]

distrib/notes/common/main			1.435, 1.436

	Under "Features to be removed in a later release", try to explain
	what softdep is, as well as saying that it will be removed.  Say
	that the WAPBL in netbsd-5 is a "preview", not an "experimental
	preview".
	--
	Under "The following issues need to be resolved manually", say
	that unprivileged use of mount(8) now needs the nosuid and nodev
	flags.
	[apb, ticket #581]

share/man/man4/clockctl.4			1.6

	Sync ioctl arguments with reality.
	[enami, ticket #615]

share/man/man5/rc.conf.5			1.128

	Document ipfilter_flags.
	[hannken, ticket #617]

sys/kern/kern_descrip.c				1.189

	fownsignal: pre-check for zero pgid, avoids locking of proc_lock.
	[rmind, ticket #619]

sys/kern/kern_sig.c				1.297

	kpsignal2: do not start process (when it is stopped) for all
	termination signals (i.e. SA_KILL), just if SIGKILL (or SIGCONT).
	Improve comments.  Make some functions static, remove unused
	sigrealloc() prototype.  Fixes PR/39814.
	[rmind, ticket #620]

bin/csh/csh.1					1.46
bin/csh/func.c					1.37
bin/ps/print.c					1.111
bin/ps/ps.c					1.74
bin/sh/miscbltin.c				1.38
bin/sh/sh.1					1.92 via patch
external/bsd/top/dist/machine/m_netbsd.c	1.7
lib/libkvm/kvm_proc.c				1.82
sys/arch/mips/mips/cpu_exec.c			1.55
sys/compat/darwin/darwin_exec.c			1.57, 1.58
sys/compat/ibcs2/ibcs2_exec.c			1.73
sys/compat/irix/irix_resource.c			1.15
sys/compat/linux/arch/amd64/linux_exec_machdep.c 1.16
sys/compat/linux/arch/i386/linux_exec_machdep.c	1.12
sys/compat/linux/common/linux_limit.h		1.5
sys/compat/osf1/osf1_resource.c			1.14
sys/compat/svr4/svr4_resource.c			1.18
sys/compat/svr4_32/svr4_32_resource.c		1.17
sys/kern/exec_subr.c				1.62
sys/kern/init_sysctl.c				1.160
sys/kern/kern_exec.c				1.288
sys/kern/kern_resource.c			1.151
sys/sys/param.h					patch
sys/sys/resource.h				1.31
sys/sys/sysctl.h				1.184
sys/uvm/uvm_extern.h				1.153
sys/uvm/uvm_glue.c				1.136
sys/uvm/uvm_mmap.c				1.128
usr.bin/systat/ps.c				1.32

	- add new RLIMIT_AS (aka RLIMIT_VMEM) resource that limits the
	total address space available to processes.  this limit exists
	in most other modern unix variants, and like most of them, our
	defaults are unlimited.  remove the old mmap / rlimit.datasize
	hack.

	- add the VMCMD_STACK flag to all the stack-creation vmcmd
	callers.  it is currently unused, but was added a few years
	ago.

	- add a pair of new process size values to kinfo_proc2{}. one
	is the total size of the process memory map, and the other is
	the total size adjusted for unused stack space (since most
	processes have a lot of this...)

	- patch sh, and csh to notice RLIMIT_AS.  (in some cases, the
	alias RLIMIT_VMEM was already present and used if availble.)

	- patch ps, top and systat to notice the new k_vm_vsize member
	of kinfo_proc2{}.

	- update irix, svr4, svr4_32, linux and osf1 emulations to
	support this information.

	this addresses PR 7897.  it also gives correct memory usage
	values, which have never been entirely correct (since mmap),
	and have been very incorrect since jemalloc() was enabled.
	[mrg, ticket #622]

sys/arch/sgimips/dev/crmfbreg.h			1.10

	Add a few more register definitions, needed by the latest
	crime_drv.
	[macallan, ticket #625]

xsrc/external/mit/xf86-video-crime/dist/src/crime_accel.c 1.4

	Implement clipping, this takes care of line drawing artifacts
	in pwm.
	[macallan, ticket #629]

xsrc/external/mit/xf86-video-crime/dist/src/crime.h	1.3
xsrc/external/mit/xf86-video-crime/dist/src/crime_accel.c 1.5

	Implement image downloads, now KDE's window minimize animation
	doesn't leave artifacts anymore. While there, allow commands to
	queue up where appropriate, this gives a slight speedup in
	anti-aliased text rendering and likely in other operations as well.
	[macallan, ticket #628]

xsrc/external/mit/xf86-video-crime/dist/src/crime.h	1.4
xsrc/external/mit/xf86-video-crime/dist/src/crime_accel.c 1.6

	Implement pattern fills.
	[macallan, ticket #626]

sys/kern/kern_exec.c				1.286 via patch

	Don't enforce maxproc resource limits for root.
	[christos, ticket #573]

sys/kern/sys_sig.c				1.22

	Return EINVAL instead of EAGAIN if timeout is invalid.
	Fixes PR/41094.
	[rmind, ticket #632]

xsrc/external/mit/xf86-video-crime/dist/src/crime_accel.c 1.7

	Initialize the clipping register on init.
	[macallan, ticket #634]

sbin/sysctl/sysctl.8				1.160
sbin/sysctl/sysctl.c				1.129

	Don't print an error with sysctl -w name?=value if name does
	not exist.
	[christos, ticket #635]

games/trek/help.c				1.9
games/trek/kill.c				1.8
games/trek/schedule.c				1.7
games/trek/setup.c				1.10
games/trek/trek.h				1.12

	Avoid hardcoded "too large" constant that caused FPE on vax.
	[christos, ticket #637]

sys/kern/sys_sig.c				1.23

	- use itimespecfix to detect invalid timespecs
	- use tstohz instead of mstohz to prevent overflow.
	[christos, ticket #638]

etc/sysctl.conf					1.7

	Use the new ?= operator to set the on_panic value for the
	optional ddb hierarchy.
	[martin, ticket #639]

sys/kern/kern_sig.c				1.296 via patch

	In sigput(), save the siginfo no matter whether SA_SIGINFO is
	set or not.  There are also sigtimedwait(2) et al. to catch
	signals without invoking a signal handler.
	Addresses PR kern/41076.
	[drochner, ticket #640]

etc/sysctl					patch

	Use ?= to set kern.no_sa_support to avoid warnings.
	[martin, ticket #643]

usr.sbin/postinstall/postinstall		patch

	Make ddb.onpanic and kern.no_sa_support acceptable even if
	commented out.
	[martin, ticket #642]

sys/sys/siginfo.h				1.18

	Fix typo for POLL_HUP.
	[rmind, ticket #631]

common/lib/libc/arch/i386/atomic/atomic.S	1.17
sys/arch/amd64/amd64/spl.S			1.21
sys/arch/x86/x86/patch.c			1.17

	So that profile kernel runs again,
	- Adjust the size of functions used to patch.
	- Fix the jump offset of mcount call when patching functions.
	[enami, ticket #645]

sys/dev/sbus/zx.c				1.25
sys/dev/sbus/zxreg.h				1.6
sys/dev/sbus/zxvar.h				1.3

	Use bus_space(9) to access registers.  SETREG() macro using
	bogus casts against packed structures doesn't work on gcc4.
	[tsutsui, ticket #647]

lib/libpthread/pthread.c			1.109

	Fix the comparision function used by the red-black tree global
	thread list implementation:
	-don't return a difference, this can overflow
	-don't try to substract typed pointers which don't belong to
	 the same object, this gives undefined results

	This fixes instabilities of programs which use more than a
	handful of threads, eg spuriously failing pthread_join().
	[drochner, ticket #648]

usr.sbin/postinstall/postinstall		1.84-1.86

	Add MAKEDEV.local to postinstall's makedev check.
	[dyoung, ticket #649]

sys/net/route.c					1.117
sys/net/route.h					1.73
sys/net/rtsock.c				1.125
usr.sbin/arp/arp.c				1.48
usr.sbin/pppd/pppd/sys-bsd.c			1.59

	Centralize the ROUNDUP and ADVANCE macro in a header file,
	give them an RT_ prefix and use them appropriately, instead
	of making copies. Make pppd use the RT_ROUNDUP macro; fixes
	proxyarp setting on 64 bit hosts.
	[christos, ticket #650]

