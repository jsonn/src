# $NetBSD: CHANGES-5.0,v 1.1.2.45 2008/12/01 01:52:17 snj Exp $

A complete list of changes from the initial NetBSD 5.0 branch on October 2008
until the 5.0 release:

gnu/usr.bin/groff/tmac/mdoc.local		patched by hand
sys/sys/param.h					patched by hand

	Welcome to 5.0_BETA!

sys/arch/arm/gemini/obio_wdt.c			1.2
distrib/evbarm/instkernel/instkernel/Makefile	1.14
distrib/evbarm/gzboot/gzimg/Makefile		1.20

	Register gemini watchdog with sysmon_wdog_register and rip out some
	debugging code.  Create gemini instkernel and gzimg.	
	[cliff, ticket #2]

etc/etc.cobalt/MAKEDEV.conf			1.10

	Create bpf(4) device node on ramdisk for sysinst.
	[tsutsui, ticket #4]

sys/kern/vfs_dirhash.c				1.5-1.8

	Clean up dirhash and use hash32_strn(). Remove old KASSERTS that
	were commented out. Protect the dirhash_queue when purging hashed
	directories in memory overflow situations. Clarify the dirhash
	locking protocol and remove unnessiary #ifdef DEBUG flag.
	[reinoud, ticket #5]

etc/etc.amd64/MAKEDEV.conf			1.13-1.15
etc/etc.i386/MAKEDEV.conf			1.17-1.19

	Create 4 Xen disks by default and all three Xen devices to make it
	usable out-of-the-box.  Create 8 dk instances by default, since GPT
	autodiscovery is enabled.
	[joerg, ticket #3]

sys/fs/udf/udf_strat_rmw.c			1.10

	Explicitly set buffer's block numbers. Blocks were always read/written
	correctly only the sheduling could go less than optimal.
	[reinoud, ticket #6]

external/mit/xorg/lib/Makefile			1.5

	Move libXft down in the hierarchy, because it depends on libXrandr.
	[cube, ticket #7]

sys/fs/udf/udf_strat_rmw.c			1.11

	Introduce an extra state to wich all pushed ecclines are pushed
	on.  This extra state has a holding time in wich no writeouts will
	be done effectively collecting more sectors before its even scheduled
	for writing.  Significantly boosts write performance.
	[reinoud, ticket #8]

sys/miscfs/genfs/genfs_io.c			1.14
sys/nfs/nfs_bio.c				1.180
sys/uvm/uvm_extern.h				1.149

	- allocate 8 pointers on the stack to avoid stack overflow in nfs.
	- make that 8 a constant
	- remove bogus panic
	Fixes PR kern/39777. 
	[tron, ticket #9]

dist/file/src/apprentice.c			1.20

	Fix build of file when cross-compiling on Solaris.
	[hubertf, ticket #11]

usr.sbin/mmcformat/mmcformat.8			1.2

	Fix manpage; it showed option -i where it had to be -I
	[reinoud, ticket #12]

sys/arch/atari/dev/clock.c			1.42

	Move tc_init(&clk_timecounter) to stop the "timecounter:" message
	appearing in the middle of the clock0 attach message.
	[abs, ticket #13]

sys/arch/atari/dev/md_root.c			1.26

	Use brelse() to unbusy bp buffer to allow user to swap floppy
	disks when prompted.
	[abs, ticket #14]

sys/dev/sysmon/sysmon_envsys_events.c		1.59-1.60

	Restore previous behavior concerning CRITICAL events.  Send an
	event whenever state enters or exits CRITICAL, or whenever value
	of sensor changes while the state is CRITICAL.
	[pgoyette, ticket #15]

external/mit/xorg/lib/libXaw7/Makefile		1.4

	Add necessary defines (-DXAW7).
	[cube, ticket #16]

sys/arch/x86/include/ipmivar.h			1.9
sys/arch/x86/x86/ipmi.c				1.22-1.25

	Initialize the sc_dev.dv_xname in ipmi_match, which is enough to
	make DEVNAME work. Finally this also allows the device_t/softc
	split. If ipmi failed to attach we would crash because we would
	end up using callouts while cold. If cold, wait 10 times longer,
	and if we spinout fail instead of trying to poll.
	[cegger, ticket #10]

distrib/amd64/ramdisks/ramdisk/list		1.8
distrib/i386/ramdisks/common/list.ramdisk	1.8
etc/etc.amd64/MAKEDEV.conf			1.16
etc/etc.i386/MAKEDEV.conf			1.20
sys/arch/i386/conf/INSTALL_FLOPPY		1.2

	Make x86 installation use tmpfs and stop distinguishing MAKEDEV
	init and MAKEDEV all.
	[joerg, ticket #18]

sys/arch/atari/conf/GENERIC.in			1.74
sys/arch/atari/conf/README			1.3
sys/arch/atari/conf/ATARITT			regen
sys/arch/atari/conf/BOOT			regen
sys/arch/atari/conf/HADES			regen
sys/arch/atari/conf/BOOTX			regen
sys/arch/atari/conf/FALCON			regen
sys/arch/atari/conf/MILAN-ISAIDE		regen
sys/arch/atari/conf/MILAN-PCIIDE		regen

	Add a note that SERCONSOLE breaks on the Falcon, and remove from
	FALCON config.
	[abs, ticket #19]

compat/libexec/ld.elf_so/Makefile		1.2
distrib/sets/lists/base/md.i386			1.129-1.130
distrib/sets/lists/comp/md.i386			1.107-1.108
distrib/sets/lists/base/md.amd64		1.26
distrib/sets/lists/base/md.sparc64		1.24
distrib/sets/lists/comp/md.amd64		1.40
distrib/sets/lists/comp/md.sparc64		1.38
distrib/sets/lists/base/ad.arm			1.10
distrib/sets/lists/base/md.shark		1.7
distrib/sets/lists/base/md.sparc		1.75
distrib/sets/lists/base/md.vax			1.26
distrib/sets/lists/comp/ad.arm			1.31
distrib/sets/lists/comp/md.pmax			1.59
distrib/sets/lists/comp/md.shark		1.13
distrib/sets/lists/comp/md.sparc		1.68
distrib/sets/lists/comp/md.vax			1.35
libexec/ld.aout_so/Makefile			1.46
sbin/ldconfig/Makefile				1.22

	Make MKPIC=no builds work on i368, shark, vax, pmax, sgimips,
	sparc, maybe all mips and all arm as well.
	[mrg, ticket #20]

sys/kern/kern_cpu.c				1.38

	cpuctl_ioctl: use cpu_index(), instead of cpuid.  Fixes cpuctl(8)
	on machines where the cpu's apic id are different from their
	device unit.
	[cegger, ticket #21]

external/mit/xorg/lib/Makefile			1.6
external/mit/xorg/lib/libOSMesa/Makefile	1.3
external/mit/xorg/lib/libXScrnSaver/Makefile	1.4
external/mit/xorg/lib/libXcomposite/Makefile	1.4
external/mit/xorg/lib/libXdamage/Makefile	1.3
external/mit/xorg/lib/libXevie/Makefile		1.4
external/mit/xorg/lib/libXfixes/Makefile	1.4
external/mit/xorg/lib/libXfont/Makefile		1.4
external/mit/xorg/lib/libXft/Makefile		1.5
external/mit/xorg/lib/libXinerama/Makefile	1.4
external/mit/xorg/lib/libXprintAppUtil/Makefile	1.3
external/mit/xorg/lib/libXprintUtil/Makefile	1.3
external/mit/xorg/lib/libXres/Makefile		1.7
external/mit/xorg/lib/libXvMC/Makefile		1.3
external/mit/xorg/lib/libXxf86dga/Makefile	1.3
external/mit/xorg/lib/libXxf86misc/Makefile	1.4
external/mit/xorg/lib/libXxf86vm/Makefile	1.4
external/mit/xorg/lib/liblbxutil/Makefile	1.4
external/mit/xorg/lib/libxkbfile/Makefile	1.3
external/mit/xorg/lib/libxkbui/Makefile		1.3
external/mit/xorg/lib/pixman/Makefile		1.7

	Add missing LIBDPLIBS, found by using 'LDFLAGS += -Wl,-z,defs' and
	sort src/external/mit/xorg/lib/Makefile to match the new order.
	[veego, ticket #22]

lib/libc/arch/sparc/sys/brk.S			1.15

	Redo rev.1.13.  We must refer to CURBRK via GOT in case of PIC.
	[nakayama, ticket #23]

sys/dev/fss.c					1.61

	fss_bs_thread: initialize b_error and b_resid.
	Before it was possible for fss reads to return bogus b_resid values
	leading to "delta > 0" panics from physio().
	[hannken, ticket #24]

external/mit/xorg/lib/dri/Makefile		1.3

	don't build dri drivers on shark
	[macallan, ticket #32]

external/mit/xorg/lib/dri/Makefile		1.4

	Just some nits:
	- test for macppc, not powerpc when building DRI drivers for mac
	- fix a typo in the shark branch
	- don't build DRI drivers on ibmnws either
	[macallan, ticket #26]

xsrc/external/mit/xorg-server/dist/hw/xfree86/os-support/bsd/ppc_video.c 1.4

	Add ARM support.
	[macallan, ticket #27]

distrib/sets/lists/xserver/md.shark		1.23

	Sync list with reality.
	[macallan, ticket #28]

external/mit/xorg/server/drivers/Makefile	1.19

	build only chips and wsfb drivers on shark
	[macallan, ticket #29]

external/mit/xorg/server/drivers/xf86-video-wsfb/Makefile 1.3

	include hw cursor support
	[macallan, ticket #30]

xsrc/external/mit/xf86-video-wsfb/dist/src/wsfb.h	1.1
xsrc/external/mit/xf86-video-wsfb/dist/src/wsfb_cursor.c 1.1
xsrc/external/mit/xf86-video-wsfb/dist/src/wsfb_driver.c 1.2

	Add hw cursor support and unbork shadow fb support.
	[macallan, ticket #31]

distrib/sets/lists/base/mi			1.781
external/intel-fw-public/ipw3945/Makefile	1.2
external/intel-fw-public/ipw3945/dist/ipw3945.ucode removed
external/intel-fw-public/ipw3945/dist/iwlwifi-3945.ucode iwlwifi-3945-ucode-2-14-4
external/intel-fw-public/ipw3945/dist/LICENSE.ipw3945-ucode removed
external/intel-fw-public/ipw3945/dist/LICENSE.iwlwifi-3945-ucode iwlwifi-3945-ucode-2-14-4
external/intel-fw-public/ipw3945/dist/README.ipw3945-ucode removed
external/intel-fw-public/ipw3945/dist/README.iwlwifi-3945-ucode iwlwifi-3945-ucode-2-14-4
share/man/man4/ipw.4				1.3, 1.4
share/man/man4/iwi.4				1.11, 1.12, 1.13
share/man/man4/iwn.4				1.3, 1.4
share/man/man4/wpi.4				1.7, 1.8
sys/dev/pci/if_ipw.c				1.44
sys/dev/pci/if_ipwvar.h				1.14
sys/dev/pci/if_iwi.c				1.76
sys/dev/pci/if_iwn.c				1.26

	(a) Sync man pages with sysctl and the included firmware images.
	(b) Make sure the drivers use the upstream image names, not the mangled
	ones from pkgsrc.
	(c) Use the second generation firmware for wpi(4).
	[joerg, ticket #25]

distrib/sets/lists/xcomp/mi			1.72, 1.73

	Fix MKDEBUG=yes for MKXORG=yes.
	[rtr, ticket #33]

usr.bin/stat/stat.1				1.25

	Be consistent: document the birthtime field of struct stat for
	the "B" field specifier.
	[reed, ticket #34]

etc/etc.atari/MAKEDEV.conf			1.8

	The NetBSD/atari installer can use md2a as a root device, so ensure
	the 'floppy' target creates md2
	[abs, ticket #35]

doc/CHANGES					patch

	Correct description of NSP2000 driver.  It didn't come from the
	public FreeBSD sources, it was generously contributed by its owner,
	NBMK Encryption Technologies, Inc.      
	[tls, ticket #36]

gnu/usr.bin/groff/tmac/mdoc.local		1.46 via patch
distrib/sets/lists/man/mi			1.1110, 1.1111
share/man/man4/nsp.4				1.1, 1.2
sys/dev/pci/n8/helper.c				1.2

	- Add nsp(4) manpage.
	- Remove include of useless i386/include/clock.h which broke builds
	on other architectures.
	[tls, ticket #37]

usr.bin/make/util.c				1.46

	Don't use putenv() because it is not portable.  Fixes crossbuild
	on Solaris.
	[cube, ticket #38]

sys/dev/pci/if_iwi.c				1.77

	Fix typo in firmware name.
	[joerg, ticket #43]

sys/arch/xen/xen/evtchn.c			1.40

	evtchn_do_event(): Avoid KASSERT(iplbit !=0).
	[bouyer, ticket #39]

external/mit/xorg/bin/xdm/config/Makefile	1.3

	- Define CPPSCRIPTFLAGS_Xsession, fixing a broken Xsession file
	- Use -DXPM for xdm-config too
	- Move DEFAULTVT up before CPPSCRIPTS, so the later is in one block.
	[veego, ticket #40]

share/man/man4/acpitz.4				1.9
sys/dev/acpi/acpi_tz.c				1.38, 1.39

	- Temp sensor should report a critical-overtemp condition
	(ENVSYS_SCRITOVER) not a simple critical (ENVSYS_SCRITICAL)
	condition.  
	- Leave the task of displaying sensor states to envsys_sysmon()
	unless we are in debug mode.
	[pgoyette, ticket #41]

sys/dev/pci/ixpide.c				1.14

	Implement powersave for ixpide(4).
	[reinoud, ticket #42]

etc/root/dot.cshrc				patch
etc/root/dot.profile				patch

	Add commented out example of PKG_PATH to make using binary
	packages easier.
	[joerg, ticket #45]

lib/libc/gen/sysctl.3				1.195
share/man/man4/options.4			1.370
share/man/man5/rc.conf.5			1.121
sbin/init/init.8				1.54, 1.55
sbin/sysctl/sysctl.8				1.159

	Reference secmodel_securelevel(9) manual page.
	Add some details about init's role with securelevel.
	Add references to other manual pages for more details.
	[reed, ticket #46]

include/sched.h					1.11 
lib/libc/sys/sched.c         			1.2
lib/librt/sched.3				1.6

	Add sched_getaffinity_np() and sched_setaffinity_np() wrappers,
	mainly for compatibility purposes.
	[rmind, ticket #47]

sys/arch/x86/x86/cpu.c				1.58
sys/arch/xen/x86/cpu.c				1.29
sys/kern/kern_cpu.c				1.37
sys/kern/sys_sched.c				1.31
sys/sys/cpu.h					1.24

	- Avoid the race with CPU online/offline state changes, when
	  setting the affinity (cpu_lock protects these operations now).
	- Disallow setting of state of CPU to to offline, if there are
	  bound LWPs, which have no CPU to migrate.
	- Disallow setting of affinity for the LWP(s), if all CPUs in the
	  dynamic CPU-set are offline.
	- sched_setaffinity: fix invalid check of kcpuset_isset().
	- Rename cpu_setonline() to cpu_setstate().
	Should fix PR/39349.
	[rmind, ticket #48]

sys/dev/sysmon/sysmon_envsys_events.c		1.61, 1.62

	Initialize event's "previous sent state" based on the event monitor
	type, regardless of sensor type.  Fixes spurious "device: normal
	state on 'sensor-name' messages which interfere with sysinst.          
	[tls, ticket #49]

sys/arch/x86/x86/intel_busclock.c		1.6

	Add support for enhanced speedstep on Intel Atom CPUs
	[jmcneill, ticket #52]

etc/MAKEDEV.tmpl				1.115

	Fix generation of /dev/videoN devices in 'all' target.
	[jmcneill, ticket #53]


sys/dev/pci/azalia_codec.c			1.72

	Add support for Realtek ALC269 as found in Eee PC 1000HA.
	[jmcneill, ticket #54]

sys/arch/xen/xen/evtchn.c			1.41

	Remove a debug printf(). It will call splx(), which may panic
	in spllowwer() on KASSERT(psl == 0);
	[bouyer, ticket #55]

sys/netinet/tcp_timer.c				1.83

	Fix kern/39769: race condition in TCP timers.
	[bouyer, ticket #56]

sys/dev/pci/if_bge.c				1.154

	PR kern/39608: bge(4) constant freeze on BCM5906M.
	Correct DMA values.
	[cegger, ticket #44]

share/man/man8/man8.cobalt/boot.8		1.3-1.6

	Sync with reality.
	[tsutsui, ticket #57]

sys/dev/pci/if_iwn.c				1.23, 1.24

	* Disable aborting the scan for the moment - it causes a firmware
	error if a scan was never initiated which breaks WEP and open
	wireless connections
	* Make sure the ESSID is cleared.
	* Move init of essid to the attach code.
	[blymn, ticket #58]

etc/etc.cobalt/MAKEDEV.conf			1.11, 1.12

	Create audio and USB devices on all_md target.
	[tsutsui, ticket #59]

distrib/amd64/floppies/common/Makefile.bootfloppy 1.10
distrib/common/Makefile.tarfloppy		1.14
distrib/i386/floppies/common/Makefile.bootfloppy 1.22

	Avoid full path to boot.cfg file when building amd64 boot floppy
	and share code with i386.
	[tsutsui, ticket #60]

sys/arch/sun3/dev/fd.c				1.67

	Make this compile with options DIAGNOSTIC.
	[tsutsui, ticket #61]

BUILDING					1.79, 1.81
Makefile					1.263
distrib/sets/Makefile				1.64
distrib/sets/sets.subr				1.72, 1.73
doc/BUILDING.mdoc				1.68, 1.70
etc/Makefile					1.360
external/mit/xorg/server/Makefile		1.5
share/man/man5/mk.conf.5			1.42, 1.46
share/mk/bsd.README				1.237, 1.238, 1.242
share/mk/bsd.own.mk				1.544, 1.550
share/mk/bsd.x11.mk				1.71
usr.bin/ssh/Makefile.inc			1.18

	Switch to Xorg on amd64, i386, macppc, shark and sparc64.
	[mrg, ticket #64]

sys/dev/pci/if_wpi.c				1.41
sys/dev/pci/if_wpivar.h				1.13

	Cache wpi firmware in memory, free it only on invalid content or
	when the last user is detached. This stops wpi from accessing the
	disk on resume.
	[joerg, ticket #62]

share/man/man4/vlan.4				1.30

	Add etherip to the list of interfaces supporting ETHER_VLAN_MTU.
	[bouyer, ticket #63]

sys/kern/subr_pool.c				1.171

	Avoid recursive mutex_enter() when the system is low on KVA.
	[ad, ticket #72]

sys/arch/amd64/amd64/fpu.c			1.27
sys/arch/amd64/amd64/ipifuncs.c			1.20
sys/arch/i386/i386/ipifuncs.c			1.28
sys/arch/i386/isa/npx.c				1.130
sys/arch/x86/include/intrdefs.h			1.14

	PR port-amd64/38293 panic: fp_save ipi didn't
	Kill the FP flush IPI and always save. The synchronization here
        isn't strong and we could easily pull the chain on an innocent
        LWP's FP state.
	[ad, ticket #73]

sys/arch/amd64/amd64/fpu.c			1.28
sys/arch/amd64/amd64/genassym.cf		1.38
sys/arch/amd64/amd64/locore.S			1.48
sys/arch/amd64/amd64/machdep.c			1.104
sys/arch/i386/i386/autoconf.c			1.93
sys/arch/i386/i386/genassym.cf			1.77
sys/arch/i386/i386/locore.S			1.79
sys/arch/i386/i386/machdep.c			1.646
sys/arch/i386/isa/npx.c				1.131

	PR port-amd64/38293 panic: fp_save ipi didn't
	Fix race conditions in FPU IPI handling.
	[ad, ticket #74]

sys/kern/kern_subr.c				1.195

	Acquire exec_lock where needed.  Addresses PR kern/39913.
	[ad, ticket #75]

sys/kern/vfs_lookup.c				1.111
sys/sys/namei.h					1.61

	Add a NOCHROOT flag for namei(). Looks outside any chroot and
        performs the lookup from the root directory if given an absolute
        path.
	[ad, ticket #76]

sys/arch/amd64/amd64/machdep.c			1.106, 1.107

	- introduce add_mem_cluster() as done in i386
	- apply rev. 1.480 from i386/i386/machdep.c: fixes PR 17199
	- apply rev. 1.492 from i386/i386/machdep.c: fixes PR 13399
	[cegger, ticket #51]

share/man/man4/options.4			patch
sys/arch/i386/conf/ALL				patch
sys/arch/i386/conf/GENERIC			patch
sys/arch/i386/conf/GENERIC_TINY			patch
sys/arch/i386/conf/INSTALL_FLOPPY		patch
sys/arch/i386/conf/INSTALL_TINY			patch
sys/arch/i386/conf/NET4501			patch
sys/arch/i386/conf/XBOX				patch
sys/arch/i386/conf/XEN2_DOM0			patch
sys/arch/i386/conf/XEN2_DOMU			patch
sys/arch/i386/conf/files.i386			patch
sys/arch/i386/include/segments.h		patch

	Add i386-specific COMPAT_30_PTHREAD option (enabled where
        COMPAT_30 is enabled), which restore binary compatibility
	with netbsd-3 libpthread.
	[bouyer, ticket #65]

sys/dev/wscons/wsdisplay.c			1.123

	In wsdisplay_kbdholdscreen(), just return if sc->sc_focus is
	NULL.  Avoids a crash.
	[he, ticket #68]

etc/rc.d/wpa_supplicant				1.2

	Add a 'reload' option.
	[abs, ticket #69]

sys/arch/sparc/dev/zs.c				1.112

	PR port-sparc/39942: ifdef ch0_is_cons declaration and all
	uses consistently.
	[martin, ticket #77]

sys/kern/kern_exec.c				patch

	Expose exec_lock for the changes in ticket #75.
	[ad, ticket #83]

distrib/sets/lists/comp/mi			1.1204 via patch
distrib/sets/lists/xcomp/mi:			1.74-1.75 via patch

	Move all the xorg/x11 linty stuff from comp to xcomp.
	[abs, ticket #85]

xsrc/external/mit/xorg-server/dist/hw/xfree86/os-support/bsd/bsdResource.c 1.5

	add __mips__
	[macallan, ticket #86]

xsrc/external/mit/MesaGLUT/dist/include/GL/glut.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/include/GL/glutf90.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/Makefile MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/beos_x11.cpp MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/beos_x11.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glutBlocker.cpp MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glutBlocker.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glutCallback.cpp MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glutColor.cpp MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glutCursor.cpp MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glutCursors.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glutDstr.cpp MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glutEvent.cpp MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glutGet.cpp MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glutInit.cpp MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glutMenu.cpp MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glutMenu.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glutOverlay.cpp MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glutState.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glutWindow.cpp MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glutWindow.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glut_8x13.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glut_9x15.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glut_bitmap.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glut_bwidth.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glut_ext.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glut_hel10.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glut_hel12.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glut_hel18.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glut_mroman.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glut_roman.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glut_shapes.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glut_stroke.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glut_swidth.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glut_teapot.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glut_tr10.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glut_tr24.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glut_util.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glut_vidresize.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glutbitmap.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glutint.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/beos/glutstroke.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/Makefile MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/NOTES MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/callback.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/color.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/cursor.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/cursors.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/events.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/ext.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/font.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/font.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/game.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/globals.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/init.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/internal.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/menu.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/models.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/overlay.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/state.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/teapot.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/directfb/window.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/Makefile.DJ MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/PC_HW/pc_hw.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/PC_HW/pc_hw.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/PC_HW/pc_irq.S MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/PC_HW/pc_keyb.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/PC_HW/pc_mouse.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/PC_HW/pc_timer.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/bitmap.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/callback.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/color.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/extens.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/f8x13.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/f9x15.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/hel10.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/hel12.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/hel18.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/init.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/internal.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/loop.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/menu.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/mouse.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/mroman.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/overlay.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/roman.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/shapes.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/state.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/stroke.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/teapot.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/tr10.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/tr24.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/util.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/dos/window.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/fbdev/Makefile MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/fbdev/bitmap.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/fbdev/callback.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/fbdev/colormap.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/fbdev/cursor.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/fbdev/cursors.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/fbdev/ext.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/fbdev/fbdev.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/fbdev/gamemode.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/fbdev/input.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/fbdev/internal.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/fbdev/menu.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/fbdev/overlay.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/fbdev/state.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/fbdev/stroke.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/fbdev/vidresize.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/ggi/Makefile MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/ggi/debug.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/ggi/ggiglut.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/Makefile MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/Makefile.cygnus MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/Makefile.mgw MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/Makefile.sgi MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/Makefile.win MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/capturexfont.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/depend MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/descrip.mms MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/fxglut.def MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut.def MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut.pc.in MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_8x13.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_9x15.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_bitmap.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_bwidth.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_cindex.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_cmap.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_cursor.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_dials.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_dstr.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_event.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_ext.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_fcb.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_fullscrn.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_gamemode.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_get.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_glxext.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_hel10.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_hel12.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_hel18.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_init.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_input.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_joy.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_key.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_keyctrl.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_keyup.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_menu.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_menu2.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_mesa.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_modifier.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_mroman.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_overlay.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_roman.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_shapes.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_space.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_stroke.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_swap.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_swidth.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_tablet.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_teapot.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_tr10.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_tr24.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_util.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_vidresize.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_warp.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_win.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glut_winmisc.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glutbitmap.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glutint.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glutstroke.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/glutwin32.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/layerutil.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/layerutil.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/mms_depend MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/stroke.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/win32_glx.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/win32_glx.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/win32_menu.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/win32_util.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/win32_winproc.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/win32_x11.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/glx/win32_x11.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/mini/bitmap.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/mini/callback.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/mini/color.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/mini/globals.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/mini/glut.pc.in MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/mini/init.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/mini/internal.h MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/mini/menu.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/mini/models.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/mini/overlay.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/mini/state.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/mini/teapot.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/src/glut/mini/window.c MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/windows/VC6/progs/glut/glut.dsp MesaGLUT-7-0-3
xsrc/external/mit/MesaGLUT/dist/windows/VC7/progs/glut/glut.vcproj MesaGLUT-7-0-3
distrib/sets/lists/xbase/shl.elf		1.19
distrib/sets/lists/xbase/shl.mi			1.24
distrib/sets/lists/xcomp/mi			1.76
distrib/sets/lists/xcomp/shl.mi			1.11
external/mit/xorg/lib/Makefile			1.7
external/mit/xorg/lib/libglut/Makefile		1.1
external/mit/xorg/lib/libglut/shlib_version	1.1
share/mk/bsd.own.mk				1.546

	Add MesaGLUT and reachover glue.
	[cube, ticket #79]

xsrc/external/mit/twm/dist/src/deftwmrc.c	delete
xsrc/external/mit/twm/dist/src/gram.c		delete
xsrc/external/mit/twm/dist/src/gram.h		delete
xsrc/external/mit/twm/dist/src/lex.c		delete

	Remove generated files that should not have been here.
	This fixes twm's config file parser.
	[cube, ticket #87]

xsrc/external/mit/xfs/include/xfs-config.h	1.2
external/mit/xorg/bin/xfs/Makefile		1.3

	Fix DEFAULT_CONFIG_FILE for xfs.
	[hans, ticket #88]

sys/net/if_etherip.c				1.23, 1.24
sys/net/if_tap.c				1.48, 1.49

	Allow etherip and tap to suspend/resume.
	[hans, ticket #89]

sys/dev/pci/pci.c				1.120

	Do not depend on physmem for pci_dma64_available(). On some systems
	(e.g. Xen, or any system with non-contigous physical memory),
	physmem may not represent the hightest physical address available.
	[bouyer, ticket #66]

sys/dev/ata/ata.c				1.102
sys/dev/ata/ata_wdc.c				1.91
sys/dev/ata/atavar.h				1.78
sys/dev/ic/wdc.c				1.256
sys/dev/scsipi/atapi_wdc.c			1.109

	cpu_intr_p() doesn't account for software interrupts (e.g.
	callouts) so we can't use it here. Rssurect ATACH_TH_RUN.
	Should fix kern/39927 and kern/39725.
	[bouyer, ticket #67]

sys/arch/i386/conf/NET4501			1.64

	Add pppoe, tap, ppp, gre to the NET4501 config file.
	[is, ticket #70]

sys/dev/scsipi/st.c				1.208

	If we return an error make sure we don't return a b_resid of 0;
	or this will trigger a KASSERT in physio_done().
	[bouyer, ticket #78]

sys/dev/pcmcia/aic_pcmcia.c			patch
doc/HACKS					patch

	Work around rbus resource allocation problem so aic PCMCIA
	cards work again.
	[jnemeth, ticket #80]

sys/compat/linux/arch/alpha/syscalls.master	1.63
sys/compat/linux/arch/amd64/syscalls.master	1.25
sys/compat/linux/arch/arm/syscalls.master	1.36
sys/compat/linux/arch/i386/syscalls.master	1.94
sys/compat/linux/arch/m68k/syscalls.master	1.63
sys/compat/linux/arch/mips/syscalls.master	1.30
sys/compat/linux/arch/powerpc/syscalls.master	1.38
sys/compat/linux/common/linux_time.c		1.26
sys/compat/linux32/arch/amd64/syscalls.master	1.39
sys/compat/linux32/common/linux32_time.c	1.22
sys/compat/linux/arch/alpha/linux_syscall.h	regen
sys/compat/linux/arch/alpha/linux_syscallargs.h regen
sys/compat/linux/arch/alpha/linux_syscalls.c	regen
sys/compat/linux/arch/alpha/linux_sysent.c	regen
sys/compat/linux/arch/amd64/linux_syscall.h	regen
sys/compat/linux/arch/amd64/linux_syscallargs.h	regen
sys/compat/linux/arch/amd64/linux_syscalls.c	regen
sys/compat/linux/arch/amd64/linux_sysent.c	regen
sys/compat/linux/arch/arm/linux_syscall.h	regen
sys/compat/linux/arch/arm/linux_syscallargs.h	regen
sys/compat/linux/arch/arm/linux_syscallc.	regen
sys/compat/linux/arch/arm/linux_sysent.c	regen
sys/compat/linux/arch/i386/linux_syscall.h	regen
sys/compat/linux/arch/i386/linux_syscallargs.h	regen
sys/compat/linux/arch/i386/linux_syscalls.c	regen
sys/compat/linux/arch/i386/linux_sysent.c	regen
sys/compat/linux/arch/m68k/linux_syscall.h	regen
sys/compat/linux/arch/m68k/linux_syscallargs.h	regen
sys/compat/linux/arch/m68k/linux_syscalls.c	regen
sys/compat/linux/arch/m68k/linux_sysent.c	regen
sys/compat/linux/arch/mips/linux_syscall.h	regen
sys/compat/linux/arch/mips/linux_syscallargs.h	regen
sys/compat/linux/arch/mips/linux_syscalls.c	regen
sys/compat/linux/arch/mips/linux_sysent.c	regen
sys/compat/linux/arch/powerpc/linux_syscall.h	regen
sys/compat/linux/arch/powerpc/linux_syscallargs.h regen
sys/compat/linux/arch/powerpc/linux_syscalls.c	regen
sys/compat/linux/arch/powerpc/linux_sysent.c	regen
sys/compat/linux32/arch/amd64/linux32_syscall.h	regen
sys/compat/linux32/arch/amd64/linux32_syscallargs.h regen
sys/compat/linux32/arch/amd64/linux32_syscalls.c regen
sys/compat/linux32/arch/amd64/linux32_sysent.c	regen

	Fix nanosleep(2) on 64-bit archs. Do not call native nanosleep
	syscall, but rather a modified version the will take care of
	`struct timespec' conversions.
	[njoly, ticket #81]

sys/dev/i2c/dbcool.c				1.6

	PR/39947: dbcool_detach implicitly called sysmon_envsys_destroy()
	twice.
	[jnemeth, ticket #82]

sys/dev/pci/if_msk.c				1.22
sys/dev/pci/if_skreg.h				1.13

	Fix Yukon EC Ultra cold power up issue (system hang at boot).
	Also increases stability.
	[chris, ticket #84]

sys/dev/acpi/thinkpad_acpi.c			1.17

	Make this driver work (except for setting display brightness)
	on older machines.
	[hans, ticket #90]

sys/dev/acpi/atppc_acpi.c			1.15

	Initialize sc->sc_dev before using it, and use it as argument
	for the interrupt handler. Makes this work again.
	[hans, ticket #91]

sys/opencrypto/crypto.c				1.30
sys/opencrypto/cryptodev.c			1.45
sys/opencrypto/cryptodev.h			1.15
sys/sys/queue.h					1.50

	Fix a race condition in opencrypto that lead to several panics.
	Add a macro for TAILQ_FOREACH_REVERSE_SAFE() to queue.h.
	[darran, ticket #92]

sys/compat/osf1/osf1_exec_ecoff.c		1.21

	Do not call namei anymore, but use the result from the previous
	emul_find_interp call instead. This makes dynamic executables work
	again under compat OSF1 (fixes PR/39255).
	[njoly, ticket #93]

sys/arch/x86/x86/ipmi.c				1.26

	Fix sloppy device_private conversion that prevented systems with
	IPMI from booting.
	[ad, ticket #94]

etc/man.conf					1.23

	Also search /usr/X11R7, and do it before X11R6
	[cube, ticket #95]

etc/login.conf					1.3
etc/root/dot.cshrc				1.19
etc/root/dot.profile				1.20
etc/skel/dot.cshrc				1.4
etc/skel/dot.profile				1.5

	Sprinkle /usr/X11R7 where relevant.
	[cube, ticket #96]

sys/dev/vnd.c					1.189

	Check that vnd is not NULL before using it, return ENXIO if
	it is.  Avoids a panic when vnconfig -uF is used on a busy vnd.
	[bouyer, ticket #97]

sys/arch/amd64/amd64/fpu.c			1.29
sys/arch/amd64/amd64/machdep.c			1.105
sys/arch/i386/i386/machdep.c			1.647
sys/arch/i386/isa/npx.c				1.132

	PR port-i386/39299: FPU use in signal handlers is unsafe.
	[ad, ticket #71]

share/man/man4/amdtemp.4			1.2-1.4

	Man page cleanup.  Addresses PR/39958.
	[jnemeth, ticket #98]

sys/dev/ata/sata_subr.c				1.12

	SATA GEN3 speed is 6.0Gb/s.
	[cegger, ticket #99]

sys/compat/netbsd32/netbsd32_netbsd.c		1.148
sys/compat/netbsd32/netbsd32_sa.c		1.8

	Make it possible to compile a kernel with COMPAT_NETBSD32 but
	without COMPAT_40. This fixes PR port-amd64/39967.
	[tron, ticket #100]

sys/arch/vax/uba/uba_common.h			1.6
sys/arch/vax/uba/uba_sbi.c			1.25

	Fix Unibus support on VAX 11/780 and 8600 models.
	[hans, ticket #101]

sys/arch/vax/vax/machdep.c			1.170
sys/arch/vax/vax/sbi.c				1.34

	Fix build for kernel configs lacking KA46, KA48, KA49 and KA53
	support.  Fix build for 11/780-only kernel configs.
	[hans, ticket #102]

sys/dev/usb/uplcom.c				1.67
sys/dev/usb/usbdevs				1.520
sys/dev/usb/usbdev.h				regen
sys/dev/usb/usbdev_data.h			regen

	PR/39971: Recognize Corega CG-USBRS232R as a serial device.
	[jnemeth, ticket #103]

gnu/dist/gcc4/gcc/config/m68k/m68k.c		1.4
gnu/dist/gcc4/gcc/config/m68k/m68k.md		1.8
gnu/dist/gcc4/gcc/version.c			1.17

	Fix jump table addressing in the M68k codegen.
	[phx, ticket #104]

usr.sbin/cpuctl/cpuctl.c			1.11, 1.12

	Check ID against number of processors.  Fixes PR 39955.
	[cegger, ticket #105]

compat/lib/libcrypto_idea/Makefile		1.1
compat/lib/libcrypto_mdc2/Makefile		1.1
compat/lib/libcrypto_rc5/Makefile		1.1
distrib/sets/lists/comp/md.amd64		1.41
distrib/sets/lists/comp/md.sparc64		1.39

	Build 32bit compat libraries on amd64 and sparc64 for
	libcrypto_{idea,mdc2,rc5}.  Fixes PR lib/39846.
	[mlelstv, ticket #106]

sys/arch/sparc64/sparc64/pmap.c			1.226

	Fix DEBUG build of sparc64 non-MULTIPROCESSOR kernels.
	[spz, ticket #107]

external/mit/xorg/lib/expat/Makefile		1.2
external/mit/xorg/lib/expat/expat_config.h	1.1

	Unbreak expat by providing a proper configuration include for it.
	[cube, ticket #108]

usr.bin/fsplit/fsplit.c				1.26 via patch

	Two robustness fixes:
	   (1) make ridiculously small filename buffer larger;
	   (2) don't accidentally try to generate files with names
	       containing '/'.
	[dholland, ticket #112]

usr.bin/make/parse.c				1.149

	avoid using c99 struct named initializers because this is a host
	tool and needs to be compiled by a host compiler which might not
	be c99 compliant.
	[dsl, ticket #116]

usr.bin/make/parse.c				1.150

	intFile.fd should be initialised to -1, not 0.
	[dsl, ticket #117]

distrib/arc/instkernel/Makefile			1.11
distrib/arc/ramdisk/dot.profile			1.4
sys/arch/arc/conf/GENERIC			1.159
sys/arch/arc/conf/RAMDISK			1.76

	Use vt100 rather than wsvt25 for TERM since the latter makes
	both FG/BG colors white during sysinst on Express5800/230 with tga(4).
	Also, work around an ARC BIOS limitation.
	[tsutsui, ticket #109]

etc/MAKEDEV.tmpl				1.117

	Don't warn about missing MAKEDEV.local. It doesn't exist in some
	environments.
	[tsutsui, ticket #110]

sys/dev/cgd.c					1.54

	Allow cgd(4) to be backed by wedges. PR#38735
	[jakllsch, ticket #111]

bin/pax/tar.1					1.27

	"compatibility", not "compatability".
	[dholland, ticket #113]

bin/pax/options.c				1.102

	Don't pass strings from argv[] to free(). Fixes PR 39992.
	[dholland, ticket #114]

libexec/httpd/cgi-bozo.c			1.8

	Change the cgi index.html code to only run if you set the index.html
	name.  PR#38466
	[mrg, ticket #115]

sys/kern/kern_drvctl.c				1.20

	Add poll support for drvctl notification events.
	[jmcneill, ticket #118]

sys/netinet/ip_input.c				1.276

	ip_input: fix an IPQ "lock" leak.
	[rmind, ticket #119]

xsrc/external/mit/xorg-server/dist/hw/xfree86/os-support/bsd/bsd_init.c 1.2

	Add a log message to notify what VT is in use.  Helps gdm/consolekit.
	[jmcneill, ticket #120]

sys/compat/netbsd32/netbsd32.h			1.78
sys/compat/netbsd32/netbsd32_netbsd.c		1.149
sys/compat/netbsd32/syscalls.master		1.74
sys/compat/netbsd32/netbsd32_syscall.h		regen
sys/compat/netbsd32/netbsd32_syscallargs.h	regen
sys/compat/netbsd32/netbsd32_syscalls.c		regen
sys/compat/netbsd32/netbsd32_sysent.c		regen

	implement netbsd32__sched_setparam(), netbsd32__sched_getparam(),
	netbsd32__sched_setaffinity() and netbsd32__sched_getaffinity().
	[mrg, ticket #121]

distrib/sets/lists/xserver/md.netwinder		1.12
external/mit/xorg/lib/dri/Makefile		1.7 via patch
external/mit/xorg/server/drivers/Makefile	1.22

	* install only wsfb driver and manpages for netwinder
	* don't install client side dri modules for netwinder
	[rtr, ticket #122]

sys/arch/atari/conf/GENERIC.in			1.75, 1.76
sys/arch/atari/conf/ATARITT			regen
sys/arch/atari/conf/BOOT			regen
sys/arch/atari/conf/HADES			regen
sys/arch/atari/conf/BOOTX			regen
sys/arch/atari/conf/FALCON			regen
sys/arch/atari/conf/MILAN-ISAIDE		regen
sys/arch/atari/conf/MILAN-PCIIDE		regen

	* Enable 68060 support in FALCON & BOOTX kernels for CT60/63
	upgrades.
	* Drop KERNFS from INSTALL kernels. Drop 68040 support from
	ATARITT kernels. 
	* Increase min ST_POOL_SIZE from 22 to 24 to avoid out of ST memory
	issues.
	[abs, ticket #123]

lib/libc/arch/sparc64/sys/__sigaction14_sigtramp.c 1.8

	Properly use siginfo based signal delivery on sparc64 in all
	cases.  Previously calls to signal(3) would cause use of the
	legacy signal trampoline.
	[martin, ticket #124]

sys/arch/x86/acpi/acpi_wakeup.c			1.11
sys/dev/acpi/acpi_pci_link.c			1.14
sys/dev/acpi/acpivar.h				1.34

	On resum-from-RAM explicitly restore PCI link device state before
	reenabling interrupts.
	[joerg, ticket #125]

sys/arch/amd64/amd64/vector.S			1.29

	trap07: do NOT enable interrupts before calling fpudna or we could
	be preempted.
	[ad, ticket #126]

sys/arch/amd64/amd64/fpu.c			1.30

	fpudna: enable interrupts in an error path.
	[ad, ticket #127]

sys/arch/i386/isa/npx.c				1.133

	npxsave_cpu() set ci_fpused so that the FPU will be disabled on
	next context switch on Xen. Fix "npxintr: came from nowhere"
	kernel messages on Xen/i386.
	[bouyer, ticket #128]

sys/arch/i386/isa/npx.c				1.134

	npxdna(): even if there's no effective FPU context switch
	set ci_fpused; FPU will be used and needs to be switched on next
	context switch.  Fix "panic: npxintr: wrong process" with Xen.
	[bouyer, ticket #129]

usr.sbin/postinstall/postinstall		1.78

	Add scan obsolete minor shared libraries in /usr/X11R7/lib.
	Also scan in /usr/lib/i386 for amd64, /usr/lib/sparc for sparc64.
	[nakayama, ticket #130]

sys/arch/sparc64/include/db_machdep.h		1.26
sys/arch/sparc64/sparc64/db_disasm.c		1.15
sys/arch/sparc64/sparc64/db_interface.c		1.113
sys/arch/sparc64/sparc64/db_trace.c		1.41
sys/ddb/db_command.c				1.124

	Make DDB show the right register values on 32-bit sparc64 kernels.
	[nakayama, ticket #131]

usr.sbin/mmcformat/mmcformat.8			1.3

	mdoc fixes for mmcformat(8).
	[reinoud, ticket #134]

usr.sbin/mmcformat/mmcformat.8			1.4

	Wording fixes for mmcformat(8).
	[reinoud, ticket #132]

sys/fs/udf/udf_strat_rmw.c			1.12

	Relax the requirements of the pagingsize.
	[reinoud, ticket #133]

usr.bin/make/make.1				1.145, 1.146

	PR/40026: Document VPATH in make(1).
	[christos, ticket #135]

tools/awk/Makefile				1.2
dist/nawk/b.c					1.17
dist/nawk/proto.h				1.7

	Fix crossbuild on Solaris.
	[christos, ticket #136]

etc/MAKEDEV.tmpl				1.118

	Change the formula for tmpfs size. The per-inode memory usage is
	higher than old estimate on 64bit platforms and the resulting tmpfs
	wouldn't be able to hold the required number of devices.
	[joerg, ticket #137]

sys/dev/usb/ehci.c				1.155
sys/dev/usb/ehcireg.h				1.29

	Fixed high-speed isoc USB transfers, 64 bit capable host controllers
	have a different transfer descriptor to non-capable controllers.
	Added dma-sync of data buffer before scheduling transfers
	[jmorse, ticket #138]

sys/dev/usb/uvideo.c				1.22

	Modified uvideo_stream_init_desc to correctly calculate max
	packet size for high speed endpoints.
	[jmorse, ticket #139]

sys/kern/init_sysctl.c				1.151

	If the kauth call failed, we'd silently continue the loop, but
	the error code would remain and eventually "leak" to userspace.
	Reset the error to zero when continuing.
	Fix PR/40002: sockstat doesn't work for user with sysctl
	security.curtain=1
	[elad, ticket #140]

distrib/utils/libhack/getpwent.c		1.10

	Add cut-down getpwent_r() to join existing getpwent() and friends
	for ramdisks. This fixes PR 40003
	[sborrill, ticket #141]

xsrc/external/mit/libX11/dist/src/xlibi18n/XlcDL.c	1.2

	Do not special case locale names for sparc _LP64 machines -
	this probably is a Solaris'm not needed on NetBSD.
	Fixes PR xsrc/40046.
	[martin, ticket #142]

sys/dev/usb/uvideo.c				1.23

	Don't select an endpoint with a larger packet size than the
	maximum for the current video stream.
	[jmcneill, ticket #144]

usr.bin/rev/rev.1				1.7

	May have multiple files on command line.
	Fixed PR #40058.
	[reed, ticket #145]

lib/libkvm/kvm_proc.c				1.79

	check error case for kvm_getlwps or SIGSEGV occurs due to
	dereferecing a NULL pointer.
	return NULL if there are no threads or proceed further through
	all loops.  Fixes PR 40004. Ok rmind@
	[cegger, ticket #146]

sys/ufs/ext2fs/ext2fs_alloc.c			1.37
sys/ufs/ext2fs/ext2fs_bswap.c			1.14
sys/ufs/ext2fs/ext2fs_dinode.h			1.17
sys/ufs/ext2fs/ext2fs_lookup.c			1.56
sys/ufs/ext2fs/ext2fs_vfsops.c			1.140
sys/ufs/ext2fs/ext2fs_vnops.c			1.83
sys/ufs/ufs/inode.h				1.55

	Add support for 32 bit uid/gid fields in ext2.
	[mrg, ticket #147]

external/mit/xorg/server/xorg-server/hw/xfree86/utils/scanpci/Makefile 1.4

	Help scanpci find libscanpci.so.0.  Fixes PR#40050.
	[mrg, ticket #148]

usr.bin/uuencode/uuencode.1			1.17, 1.18
usr.bin/uuencode/uuencode.c			1.14
usr.bin/uudecode/uudecode.c			1.24

	Clarify man page with respect to input and output files, and sync
	usage messages.  Modernize usage example.  Fixes PR 40063.
	[dholland, ticket #149]

common/lib/libprop/prop_dictionary.c		1.33
common/lib/libprop/prop_number.c		1.20
common/lib/libprop/prop_object.c		1.23
common/lib/libprop/prop_object_impl.h		1.28

	Fix two race conditions in proplib.
	[haad, ticket #150]

external/mit/xorg/lib/dri/Makefile		1.6 via patch
external/mit/xorg/lib/dri/dri.mk		1.4
external/mit/xorg/lib/dri/libmesa/Makefile	1.1
external/mit/xorg/lib/libOSMesa/Makefile	1.4
external/mit/xorg/lib/libOSMesa/libmesa.mk	1.1, 1.2
share/mk/bsd.lib.mk				1.290
	
	Bring DRI modules closer to loading.
	[cube, ticket #151]

sys/altq/altq_subr.c				1.26, 1.27
sys/altq/altq_var.h				1.12

	Always use binuptime(9) and emulate 1GiHz counter.  Avoids
	MP-unsafe code and extra rescaling. Fixes PR kern/39835.
	[tsutsui, ticket #152]

distrib/sets/lists/comp/mi			1.1210-1.214
share/man/man9/Makefile				1.271-1.274
share/man/man9/microtime.9			1.13-1.15
share/man/man9/microuptime.9			1.2-1.8
share/man/man9/timecounter.9			1.3-1.6
share/man/man9/time_second.9			1.2-1.3
share/man/man9/tvtohz.9				1.1-1.2

	Documentation fixes for timecounters.
	[tsutsui, ticket #153]

