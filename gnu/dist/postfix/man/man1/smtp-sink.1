.\"	$NetBSD: smtp-sink.1,v 1.1.1.3.2.1 2006/07/12 15:06:34 tron Exp $
.\"
.TH SMTP-SINK 1 
.ad
.fi
.SH NAME
smtp-sink
\-
multi-threaded SMTP/LMTP test server
.SH "SYNOPSIS"
.na
.nf
.fi
\fBsmtp-sink\fR [\fIoptions\fR] [\fBinet:\fR][\fIhost\fR]:\fIport\fR
\fIbacklog\fR

\fBsmtp-sink\fR [\fIoptions\fR] \fBunix:\fR\fIpathname\fR \fIbacklog\fR
.SH DESCRIPTION
.ad
.fi
\fBsmtp-sink\fR listens on the named host (or address) and port.
It takes SMTP messages from the network and throws them away.
The purpose is to measure client performance, not protocol
compliance.

Connections can be accepted on IPv4 or IPv6 endpoints, or on
UNIX-domain sockets.
IPv4 and IPv6 are the default.
This program is the complement of the \fBsmtp-source\fR(1) program.

Arguments:
.IP \fB-4\fR
Support IPv4 only. This option has no effect when
Postfix is built without IPv6 support.
.IP \fB-6\fR
Support IPv6 only. This option is not available when
Postfix is built without IPv6 support.
.IP \fB-a\fR
Do not announce SASL authentication support.
.IP \fB-c\fR
Display a running counter that is updated whenever an SMTP
QUIT command is executed.
.IP \fB-C\fR
Disable XCLIENT support.
.IP \fB-e\fR
Do not announce ESMTP support.
.IP "\fB-f \fIcommand,command,...\fR"
Reject the specified commands with a hard (5xx) error code.
.IP \fB-F\fR
Disable XFORWARD support.
.IP "\fB-h\fI hostname\fR"
Use \fIhostname\fR in the SMTP greeting, in the HELO response,
and in the EHLO response. The default hostname is "smtp-sink".
.IP \fB-L\fR
Enable LMTP instead of SMTP.
.IP "\fB-n \fIcount\fR"
Terminate after \fIcount\fR sessions. This is for testing purposes.
.IP \fB-p\fR
Do not announce support for ESMTP command pipelining.
.IP \fB-P\fR
Change the server greeting so that it appears to come through
a CISCO PIX system. Implies \fB-e\fR.
.IP "\fB-q \fIcommand,command,...\fR"
Disconnect (without replying) after receiving one of the
specified commands.
.IP "\fB-r \fIcommand,command,...\fR"
Reject the specified commands with a soft (4xx) error code.
.IP "\fB-s \fIcommand,command,...\fR"
Log the named commands to syslogd.
Examples of commands that can be logged are HELO, EHLO, LHLO, MAIL,
RCPT, VRFY, RSET, NOOP, and QUIT. Separate command names by white
space or commas, and use quotes to protect white space from the
shell. Command names are case-insensitive.
.IP \fB-v\fR
Show the SMTP conversations.
.IP "\fB-w \fIdelay\fR"
Wait \fIdelay\fR seconds before responding to a DATA command.
.IP \fB-8\fR
Do not announce 8BITMIME support.
.IP [\fBinet:\fR][\fIhost\fR]:\fIport\fR
Listen on network interface \fIhost\fR (default: any interface)
TCP port \fIport\fR. Both \fIhost\fR and \fIport\fR may be
specified in numeric or symbolic form.
.IP \fBunix:\fR\fIpathname\fR
Listen on the UNIX-domain socket at \fIpathname\fR.
.IP \fIbacklog\fR
The maximum length the queue of pending connections,
as defined by the \fBlisten\fR(2) system call.
.SH "SEE ALSO"
.na
.nf
smtp-source(1), SMTP/LMTP message generator
.SH "LICENSE"
.na
.nf
.ad
.fi
The Secure Mailer license must be distributed with this software.
.SH "AUTHOR(S)"
.na
.nf
Wietse Venema
IBM T.J. Watson Research
P.O. Box 704
Yorktown Heights, NY 10598, USA
