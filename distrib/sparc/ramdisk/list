#	$NetBSD: list,v 1.7.4.1 1999/04/08 21:18:48 pk Exp $

# copy the crunched binary, link to it, and kill it
COPY	${OBJDIR}/ramdiskbin		instbin
LINK	instbin				bin/cat
LINK	instbin				bin/chmod
LINK	instbin				bin/cp
LINK	instbin				bin/dd
LINK	instbin				bin/df
LINK	instbin				bin/ed
LINK	instbin				bin/expr
LINK	instbin				bin/hostname
LINK	instbin				bin/ln
LINK	instbin				bin/ls
LINK	instbin				bin/mkdir
LINK	instbin				bin/mt
LINK	instbin				bin/mv
LINK	instbin				bin/pax usr/bin/tar usr/bin/cpio
LINK	instbin				bin/rm
LINK	instbin				bin/rcmd
LINK	instbin				bin/rcp
LINK	instbin				bin/sh
LINK	instbin				bin/stty
LINK	instbin				bin/sync
LINK	instbin				bin/test
LINK	instbin				bin/[

LINK	instbin				sbin/dmesg
LINK	instbin				sbin/edlabel
LINK	instbin				sbin/fsck
LINK	instbin				sbin/fsck_ffs
LINK	instbin				sbin/ifconfig
LINK	instbin				sbin/init sbin/init
LINK	instbin				sbin/mknod
LINK	instbin				sbin/mount
LINK	instbin				sbin/mount_cd9660
LINK	instbin				sbin/mount_ffs
LINK	instbin				sbin/mount_kernfs
LINK	instbin				sbin/mount_nfs
LINK	instbin				sbin/newfs sbin/mount_mfs
LINK	instbin				sbin/ping
LINK	instbin				sbin/reboot sbin/halt
LINK	instbin				sbin/restore sbin/rrestore
LINK	instbin				sbin/route
LINK	instbin				sbin/umount

LINK	instbin				usr/bin/bzip2 usr/bin/bunzip2 usr/bin/bzcat
LINK	instbin				usr/bin/chflags
LINK	instbin				usr/bin/ftp
LINK	instbin				usr/bin/getopt
LINK	instbin				usr/bin/gzip usr/bin/gunzip usr/bin/zcat
LINK	instbin				usr/bin/less
LINK	instbin				usr/bin/more
LINK	instbin				usr/bin/netstat
LINK	instbin				usr/bin/rsh
LINK	instbin				usr/bin/sed
LINK	instbin				usr/bin/sort
LINK	instbin				usr/mdec/installboot
LINK	instbin				usr/sbin/chown usr/bin/chgrp
LINK	instbin				usr/sbin/chroot
LINK	instbin				usr/sbin/update
LINK	instbin				usr/sbin/pppd

# `internal' crunchgen links
LINK 	sbin/mount_ffs			sbin/ffs
LINK 	sbin/mount_nfs			sbin/nfs
LINK 	sbin/mount_cd9660		sbin/cd9660
LINK 	bin/sh				bin/-sh

# no longer needed...
SPECIAL	/bin/rm instbin

# copy the MAKEDEV script and make some devices
COPY	${TOPDIR}/../../etc/etc.sparc/MAKEDEV	dev/MAKEDEV
SPECIAL cd dev; sh MAKEDEV floppy
SPECIAL /bin/rm dev/MAKEDEV

# we need the boot blocks /usr/mdec
COPY	${DESTDIR}/usr/mdec/binstall		usr/mdec/binstall
COPY	${DESTDIR}/usr/mdec/boot		usr/mdec/boot
LINK	usr/mdec/boot				usr/mdec/boot.net
COPY	${DESTDIR}/usr/mdec/bootxx		usr/mdec/bootxx

# and the termcap file
COPY	${REALCURDIR}/termcap.src		usr/share/misc/termcap

# various files that we need in /etc for the install
COPY	${TOPDIR}/../../etc/group		etc/group
COPY	${TOPDIR}/../../etc/protocols		etc/protocols
COPY	${TOPDIR}/../../etc/services		etc/services

# we use libhack (/etc/passwd hackery)
SPECIAL	sed -e 's/^\([^:]*:[^:]*:[^:]*:[^:]*:\):0:0:/\1/' ${TOPDIR}/../../etc/master.passwd > etc/passwd

# the disktab explanation file
COPY	${REALCURDIR}/disktab.preinstall	etc/disktab.preinstall

# Minimize use of MFS
SYMLINK	/tmp	var/tmp

# various files that we need in /etc for the install
COPY	${DESTDIR}/etc/disktab			etc/disktab.shadow
SYMLINK	/tmp/disktab.shadow			etc/disktab
SYMLINK	/tmp/fstab.shadow			etc/fstab
SYMLINK	/tmp/resolv.conf.shadow			etc/resolv.conf
SYMLINK	/tmp/hosts				etc/hosts

# and the installation tools
COPY	${REALCURDIR}/dot.profile		.profile
COPY	${TOPDIR}/install.md			install.md
COPY	${TOPDIR}/../miniroot/install.sh	install
COPY	${TOPDIR}/../miniroot/upgrade.sh	upgrade
SPECIAL sed "/^VERSION=/s/=.*/=${REV}/" < ${TOPDIR}/../miniroot/install.sub > install.sub
SPECIAL	chmod 755 install upgrade
