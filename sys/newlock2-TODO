$NetBSD: newlock2-TODO,v 1.1.2.5 2007/01/11 22:22:56 ad Exp $

Goals:

	Locking primatives:

	- Implement the full assembly stubs on most-used ports.
	- Do the minimum necessary on other ports.
	- mb_read(), mb_write(), mb_memory() on all platforms

	Locking:

	- Lock access to struct lwp
	- Lock signalling
	- Remove sched_lock
	- Make sleep/wakeup MP safe

	Signalling:

	- Implement _lwp_kill()
	- Per-LWP signal masks

TODO:

	- Fix SA
	- Fix ptrace/gdb interaction with signals
	- Test ptrace fully
	- Test kgmon
	- amd64: SPL NOT LOWERED ON SYSCALL EXIT under load, i386 is stable
	- Fix ugly locking in kern_exit() insofar as possible.
	- Streamline locking for entering a sleep queue and into mi_switch()
	- Save and restore old SPL / mutex count for each idepth?? May not
	  be worth it in the larger scheme of things.
	- Update compat code
	- Architectures other than i386, amd64
	- Benchmark comparisons against newlock2-base
	- Eliminate all XXXAD comments
	- Examine diff against base
