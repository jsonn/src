***************
*** 232,239 ****
  	struct device sc_dev;			/* us as a device */
  
  	struct evcnt sc_intrcnt;		/* intr count */
- 	struct scsipi_link sc_link;		/* scsipi link struct */
- 	struct scsipi_adapter sc_adapter;	/* scsipi adapter glue */
  
  	struct ncr53c9x_glue *sc_glue;		/* glue to MD code */
  
--- 232,239 ----
  	struct device sc_dev;			/* us as a device */
  
  	struct evcnt sc_intrcnt;		/* intr count */
+ 	struct scsipi_adapter sc_adapter;	/* out scsipi adapter */
+ 	struct scsipi_channel sc_channel;	/* our scsipi channel */
  
  	struct ncr53c9x_glue *sc_glue;		/* glue to MD code */
  
***************
*** 392,402 ****
  #define	ncr53c9x_cpb2stp(sc, cpb)	\
  	((250 * (cpb)) / (sc)->sc_freq)
  
- void	ncr53c9x_attach __P((struct ncr53c9x_softc *, struct scsipi_device *));
- int	ncr53c9x_scsi_cmd __P((struct scsipi_xfer *));
  void	ncr53c9x_reset __P((struct ncr53c9x_softc *));
  int	ncr53c9x_intr __P((struct ncr53c9x_softc *));
  
  extern	int ncr53c9x_dmaselect;
- 
- extern int ncr53c9x_dmaselect;
--- 392,401 ----
  #define	ncr53c9x_cpb2stp(sc, cpb)	\
  	((250 * (cpb)) / (sc)->sc_freq)
  
+ void	ncr53c9x_attach __P((struct ncr53c9x_softc *));
+ void	ncr53c9x_scsipi_request __P((struct scsipi_channel *chan,
+ 	    scsipi_adapter_req_t req, void *));
  void	ncr53c9x_reset __P((struct ncr53c9x_softc *));
  int	ncr53c9x_intr __P((struct ncr53c9x_softc *));
  
  extern	int ncr53c9x_dmaselect;
