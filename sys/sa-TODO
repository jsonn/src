Things to do for scheduler activations/LWP code.

Bugs:
 
- MD bug: i386 npx handling. cpu_getcontext() may call npxsave(), which
  can only be run at spl0, which is a problem. Options
   * Change npxsave to avoid that requirement.
   * Don't save FP context at getcontext() time, but do something
     More Clever with lazy FPU switching.

- MD bug: tetts/thread2 panics the alpha somewhere after the first
  unblocked upcall. The kernel appears to jump into space.
  sh3 appears to also have the same problem.

- MI/MD bug: The PMC framework does not work with SAs .. at all.  This
  needs to be straightened out.

ABI concerns:

- mcontext needs to be sanity-checked on every platform before it is
  set in stone.

Platform status:

- acorn26: Compiles, otherwise untested.  bjh21 confirmed it worked
  previously, but then all the SA stuff had to be redone because of
  a code reshuffling.

- acorn32: unknown.

- algor: unknown.

- alpha: Mystery bug that crashes system; see above.

- amiga: unknown.

- amigappc: unknown.  Not branched?

- arc: unknown.

- atari: unknown.

- bebox: unknown.

- cats: Works.

- cesfic: unknown.

- cobalt: unknown.

- dreamcast: See sh3.

- evbarm: Works.

- evbmips: unknown.

- evbsh3: See sh3.

- evbsh5: Not yet branched.

- hp300: unknown.

- hp700: Not yet branched.

- hpcarm: unknown.

- hpcmips: unknown.

- hpcsh: See sh3.

- i386: Works.

- luna68k: unknown.

- mac68k: unknown.

- macppc: Works.

- mipsco: unknown.

- mmeye: See sh3.

- mvme68k: unknown.

- mvmeppc: unknown.

- netwinder: Works.

- news68k: unknown.

- newsmips: unknown.

- next68k: unknown.

- ofppc: unknown.

- pc532: Not yet branched.

- platstation2: unknown.

- pmax: unknown.

- pmppc: Not yet branched.

- prep: unknown.

- sandpoint: unknown.

- sbmips: unknown.

- sgimips: unknown.

- sh3: Mystery bug that crashes system; see above.

- sh5: Not yet branched.

- shark: unknown.

- sparc: unknown.

- sparc64: Works?

- sun2: unknown.

- sun3: works.

- vax: unknown.

- walnut: unknown.

- x68k: unknown.

- x86_64: Not yet branched.

Wishlist:

- exit1() is too fragile. A cleaner solution to the LWPWAIT_EXITCONTROL
  problem is also needed.

- Document! Not everyone wants to read the thesis. Man pages, etc.

- Rethink scheduler. Verify that behavior is still correct for a system
  of single-LWP ("traditional") processes (I believe it is, but it should 
  still be verified). Study scheduling behavior of multi-LWP and SA processes.
  Notions of fairness and appropriate scheduling may need changing.
  XXX when combined with multiprocessor support, usefully scheduling multi-lwp
  processes requires a whole new kind of scheduling. Implementing such a thing
  (such as an "equal-space" scheduler) is a major project unto itself.

- Adopt gmcgarry's new context switch model here.  Would greatly simplifiy
  the SA code path, and also eliminate the need to have both cpu_switch()
  and cpu_preempt().

- Debugging interface needs work; ptrace(2) interface can't handle multi-LWP
  or SA processes. 

- ddb needs a way to trace specific LWPs, instead of just the
  "representative" LWP of a process.

- Lazy FPU upcall notifications.

- Implement better management of the lwp cache for a sa process. High-water 
  mark needed, at the very least.
