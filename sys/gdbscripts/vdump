#	$NetBSD: vdump,v 1.2.104.1 2006/10/22 06:07:09 yamt Exp $

#	@(#)vdump	8.1 (Berkeley) 6/10/93
#
# dump the vnode list

define dumpvnodes

	set $vp = (struct vnode *)$arg0
	while ($vp)
		printf "vnode=0x%x freef=0x%x mountf=0x%x usecount=%d\n", $vp, $vp->v_freelist.tqe_next, $vp->v_mntvnodes.le_next, $vp->v_uobj.uo_refs
		set $vp = (struct vnode *)$vp->v_freelist.tqe_next
	end
end
